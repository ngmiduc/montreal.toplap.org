!function(s){function e(e){for(var t,n,r=e[0],o=e[1],i=0,a=[];i<r.length;i++)n=r[i],u[n]&&a.push(u[n][0]),u[n]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(s[t]=o[t]);for(c&&c(e);a.length;)a.shift()()}var n={},f={6:0},u={6:0};function p(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return s[e].call(t.exports,t,t.exports,p),t.l=!0,t.exports}p.e=function(l){var e=[];f[l]?e.push(f[l]):0!==f[l]&&{1:1,2:1,3:1,4:1,5:1,7:1}[l]&&e.push(f[l]=new Promise(function(e,r){for(var t=l+".css",o=p.p+t,n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var a=(u=n[i]).getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(a===t||a===o))return e()}var s=document.getElementsByTagName("style");for(i=0;i<s.length;i++){var u;if((a=(u=s[i]).getAttribute("data-href"))===t||a===o)return e()}var c=document.createElement("link");c.rel="stylesheet",c.type="text/css",c.onload=e,c.onerror=function(e){var t=e&&e.target&&e.target.src||o,n=new Error("Loading CSS chunk "+l+" failed.\n("+t+")");n.request=t,delete f[l],c.parentNode.removeChild(c),r(n)},c.href=o,document.getElementsByTagName("head")[0].appendChild(c)}).then(function(){f[l]=0}));var t,n=u[l];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,t){n=u[l]=[e,t]});e.push(n[2]=r);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,p.nc&&i.setAttribute("nonce",p.nc),i.src=p.p+""+({0:"vendors~PS5MINH~art",1:"PS5MINH",2:"art",3:"artist",4:"call",5:"home",7:"proj",8:"vendors~artist"}[t=l]||t)+".js",o=function(e){i.onerror=i.onload=null,clearTimeout(a);var t=u[l];if(0!==t){if(t){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,o=new Error("Loading chunk "+l+" failed.\n("+n+": "+r+")");o.type=n,o.request=r,t[1](o)}u[l]=void 0}};var a=setTimeout(function(){o({type:"timeout",target:i})},12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(e)},p.m=s,p.c=n,p.d=function(e,t,n){p.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(t,e){if(1&e&&(t=p(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(p.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)p.d(n,r,function(e){return t[e]}.bind(null,r));return n},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="",p.oe=function(e){throw console.error(e),e};var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var o=0;o<t.length;o++)e(t[o]);var c=r;p(p.s=135)}([function(e,t,n){"use strict";e.exports=n(68)},function(e,t,n){e.exports=n(131)()},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){e.exports={head:"stylesheet__head___BHFDw",loader:"stylesheet__loader___1mnZI",loading:"stylesheet__loading___VkGiw",container:"stylesheet__container___2aCsG",burger:"stylesheet__burger___3945t",view:"stylesheet__view___3uYPp",root:"stylesheet__root___1mTT8",content:"stylesheet__content___1TiqL",sidebar:"stylesheet__sidebar___3VjwG",close:"stylesheet__close___2KX1E"}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(38)("wks"),o=n(25),i=n(11).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(Re,e,je){"use strict";(function(i){var a=je(10),r=Array.isArray,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:{},t="object"==typeof e&&e&&e.Object===Object&&e,n="object"==typeof self&&self&&self.Object===Object&&self,o=t||n||Function("return this")(),s=o.Symbol,u=Object.prototype,c=u.hasOwnProperty,l=u.toString,f=s?s.toStringTag:void 0;var p=function(e){var t=c.call(e,f),n=e[f];try{var r=!(e[f]=void 0)}catch(e){}var o=l.call(e);return r&&(t?e[f]=n:delete e[f]),o},h=Object.prototype.toString;var d=function(e){return h.call(e)},v=s?s.toStringTag:void 0;var y=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":v&&v in Object(e)?p(e):d(e)};var g=function(e){return null!=e&&"object"==typeof e};var m=function(e){return"symbol"==typeof e||g(e)&&"[object Symbol]"==y(e)},_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/;var w=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!m(e))||b.test(e)||!_.test(e)||null!=t&&e in Object(t)};var E=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var S,C=function(e){if(!E(e))return!1;var t=y(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},T=o["__core-js_shared__"],O=(S=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"";var k=function(e){return!!O&&O in e},x=Function.prototype.toString;var P=function(e){if(null!=e){try{return x.call(e)}catch(e){}try{return e+""}catch(e){}}return""},A=/^\[object .+?Constructor\]$/,I=Function.prototype,R=Object.prototype,j=I.toString,N=R.hasOwnProperty,F=RegExp("^"+j.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var D=function(e){return!(!E(e)||k(e))&&(C(e)?F:A).test(P(e))};var M=function(e,t){return null==e?void 0:e[t]};var L=function(e,t){var n=M(e,t);return D(n)?n:void 0},U=L(Object,"create");var W=function(){this.__data__=U?U(null):{},this.size=0};var z=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},B=Object.prototype.hasOwnProperty;var V=function(e){var t=this.__data__;if(U){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return B.call(t,e)?t[e]:void 0},q=Object.prototype.hasOwnProperty;var H=function(e){var t=this.__data__;return U?void 0!==t[e]:q.call(t,e)};var K=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=U&&void 0===t?"__lodash_hash_undefined__":t,this};function Q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Q.prototype.clear=W,Q.prototype.delete=z,Q.prototype.get=V,Q.prototype.has=H,Q.prototype.set=K;var $=Q;var G=function(){this.__data__=[],this.size=0};var Y=function(e,t){return e===t||e!=e&&t!=t};var X=function(e,t){for(var n=e.length;n--;)if(Y(e[n][0],t))return n;return-1},Z=Array.prototype.splice;var J=function(e){var t=this.__data__,n=X(t,e);return!(n<0||(n==t.length-1?t.pop():Z.call(t,n,1),--this.size,0))};var ee=function(e){var t=this.__data__,n=X(t,e);return n<0?void 0:t[n][1]};var te=function(e){return-1<X(this.__data__,e)};var ne=function(e,t){var n=this.__data__,r=X(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}re.prototype.clear=G,re.prototype.delete=J,re.prototype.get=ee,re.prototype.has=te,re.prototype.set=ne;var oe=re,ie=L(o,"Map");var ae=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var se=function(e,t){var n=e.__data__;return ae(t)?n["string"==typeof t?"string":"hash"]:n.map};var ue=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t};var ce=function(e){return se(this,e).get(e)};var le=function(e){return se(this,e).has(e)};var fe=function(e,t){var n=se(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pe.prototype.clear=function(){this.size=0,this.__data__={hash:new $,map:new(ie||oe),string:new $}},pe.prototype.delete=ue,pe.prototype.get=ce,pe.prototype.has=le,pe.prototype.set=fe;var he=pe,de="Expected a function";function ve(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(de);var a=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(ve.Cache||he),a}ve.Cache=he;var ye=ve;var ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,me=/\\(\\)?/g,_e=function(e){var t=ye(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(ge,function(e,t,n,r){o.push(n?r.replace(me,"$1"):t||e)}),o});var be=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},we=1/0,Ee=s?s.prototype:void 0,Se=Ee?Ee.toString:void 0;var Ce=function e(t){if("string"==typeof t)return t;if(r(t))return be(t,e)+"";if(m(t))return Se?Se.call(t):"";var n=t+"";return"0"==n&&1/t==-we?"-0":n};var Te=function(e){return null==e?"":Ce(e)};var Oe=function(e,t){return r(e)?e:w(e,t)?[e]:_e(Te(e))};var ke=function(e){if("string"==typeof e||m(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var xe=function(e,t){for(var n=0,r=(t=Oe(t,e)).length;null!=e&&n<r;)e=e[ke(t[n++])];return n&&n==r?e:void 0};var Pe=function(e,t,n){var r=null==e?void 0:xe(e,t);return void 0===r?n:r},Ae=["content","schemas","storage","nav","settings","users"],Ie=function(){var n=[];function e(e){var t,r,o={firebaseApp:e.firebaseApp,env:e.env||"production",locale:e.locale||"en-US",dbType:e.dbType||"rtdb",modules:{},services:{},cache:{},emitter:new a.EventEmitter,precache:void 0===e.precache||e.precache,proxySupported:"undefined"!=typeof Proxy,usesAdminApp:(t=e.firebaseApp,!!Pe(t,"options.credential")&&!Pe(t,"options.apiKey")),isNodeEnvironment:function(){var e=!1;try{e="[object process]"===Object.prototype.toString.call(i.process)}catch(e){}return e}()};return function(e){if(!e.firebaseApp)throw new Error('[FLAMELINK]: Please provide a "firebaseApp" Firebase app instance when initializing your Flamelink app')}(o),r=o,n.forEach(function(e){var t=e.moduleName,n=e.setupModule;if(r.modules[t])return a.logWarning('Duplicate import for the "'+t+'" module');Object.defineProperty(r.modules,t,{value:n(r),writable:!1})}),Ae.reduce(function(e,t){var n;return Object.assign(e,(n={},Object.defineProperty(n,t,{get:function(){return(e=o).modules[n=t]?e.modules[n]:e.proxySupported?new Proxy({},{get:function(e,t){return function(){return a.logError('Oh no! Looks like you have not imported the "'+n+'" module.')}}}):null;var n,e},enumerable:!0,configurable:!0}),n))},{})}return e._registerModule=function(e,t){n.push({moduleName:e,setupModule:t})},e._ensureService=function(t,e){if(e.services[t])return e.services[t];try{e.services[t]=e.firebaseApp[t]()}catch(e){throw a.logError('The "'+t+'" Firebase service could not be instantiated. Please ensure you have imported the package for this service.'),e}return e.services[t]},e}();Re.exports=Ie}).call(this,je(7))},function(e,ea,ta){"use strict";(function(e,t){Object.defineProperty(ea,"__esModule",{value:!0});var n,b=(n=ta(48))&&"object"==typeof n&&"default"in n?n.default:n,r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function E(i,a,s,u){return new(s||(s=Promise))(function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((u=u.apply(i,a||[])).next())})}function S(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function o(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function u(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=u[Symbol.asyncIterator];return t?t.call(u):(u=o(u),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=u[s]&&function(a){return new Promise(function(e,t){var n,r,o,i;a=u[s](a),n=e,r=t,o=a.done,i=a.value,Promise.resolve(i).then(function(e){n({value:e,done:o})},r)})}}}var C=Array.isArray,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function s(e,t){return e(t={exports:{}},t.exports),t.exports}var c="object"==typeof a&&a&&a.Object===Object&&a,l="object"==typeof self&&self&&self.Object===Object&&self,T=c||l||Function("return this")(),f=T.Symbol,p=Object.prototype,h=p.hasOwnProperty,d=p.toString,v=f?f.toStringTag:void 0;var y=function(e){var t=h.call(e,v),n=e[v];try{var r=!(e[v]=void 0)}catch(e){}var o=d.call(e);return r&&(t?e[v]=n:delete e[v]),o},g=Object.prototype.toString;var m=function(e){return g.call(e)},_=f?f.toStringTag:void 0;var O=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_&&_ in Object(e)?y(e):m(e)};var k=function(e){return null!=e&&"object"==typeof e};var x=function(e){return"symbol"==typeof e||k(e)&&"[object Symbol]"==O(e)},P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/;var I=function(e,t){if(C(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!x(e))||A.test(e)||!P.test(e)||null!=t&&e in Object(t)};var R=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var j,N=function(e){if(!R(e))return!1;var t=O(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},F=T["__core-js_shared__"],D=(j=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"";var M=function(e){return!!D&&D in e},L=Function.prototype.toString;var U=function(e){if(null!=e){try{return L.call(e)}catch(e){}try{return e+""}catch(e){}}return""},W=/^\[object .+?Constructor\]$/,z=Function.prototype,B=Object.prototype,V=z.toString,q=B.hasOwnProperty,H=RegExp("^"+V.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var K=function(e){return!(!R(e)||M(e))&&(N(e)?H:W).test(U(e))};var Q=function(e,t){return null==e?void 0:e[t]};var $=function(e,t){var n=Q(e,t);return K(n)?n:void 0},G=$(Object,"create");var Y=function(){this.__data__=G?G(null):{},this.size=0};var X=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Z=Object.prototype.hasOwnProperty;var J=function(e){var t=this.__data__;if(G){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Z.call(t,e)?t[e]:void 0},ee=Object.prototype.hasOwnProperty;var te=function(e){var t=this.__data__;return G?void 0!==t[e]:ee.call(t,e)};var ne=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=G&&void 0===t?"__lodash_hash_undefined__":t,this};function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}re.prototype.clear=Y,re.prototype.delete=X,re.prototype.get=J,re.prototype.has=te,re.prototype.set=ne;var oe=re;var ie=function(){this.__data__=[],this.size=0};var ae=function(e,t){return e===t||e!=e&&t!=t};var se=function(e,t){for(var n=e.length;n--;)if(ae(e[n][0],t))return n;return-1},ue=Array.prototype.splice;var ce=function(e){var t=this.__data__,n=se(t,e);return!(n<0||(n==t.length-1?t.pop():ue.call(t,n,1),--this.size,0))};var le=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]};var fe=function(e){return-1<se(this.__data__,e)};var pe=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function he(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}he.prototype.clear=ie,he.prototype.delete=ce,he.prototype.get=le,he.prototype.has=fe,he.prototype.set=pe;var de=he,ve=$(T,"Map");var ye=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ge=function(e,t){var n=e.__data__;return ye(t)?n["string"==typeof t?"string":"hash"]:n.map};var me=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t};var _e=function(e){return ge(this,e).get(e)};var be=function(e){return ge(this,e).has(e)};var we=function(e,t){var n=ge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ee.prototype.clear=function(){this.size=0,this.__data__={hash:new oe,map:new(ve||de),string:new oe}},Ee.prototype.delete=me,Ee.prototype.get=_e,Ee.prototype.has=be,Ee.prototype.set=we;var Se=Ee,Ce="Expected a function";function Te(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(Ce);var a=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(Te.Cache||Se),a}Te.Cache=Se;var Oe=Te;var ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xe=/\\(\\)?/g,Pe=function(e){var t=Oe(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(ke,function(e,t,n,r){o.push(n?r.replace(xe,"$1"):t||e)}),o});var Ae=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},Ie=1/0,Re=f?f.prototype:void 0,je=Re?Re.toString:void 0;var Ne=function e(t){if("string"==typeof t)return t;if(C(t))return Ae(t,e)+"";if(x(t))return je?je.call(t):"";var n=t+"";return"0"==n&&1/t==-Ie?"-0":n};var Fe=function(e){return null==e?"":Ne(e)};var De=function(e,t){return C(e)?e:I(e,t)?[e]:Pe(Fe(e))};var Me=function(e){if("string"==typeof e||x(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Le=function(e,t){for(var n=0,r=(t=De(t,e)).length;null!=e&&n<r;)e=e[Me(t[n++])];return n&&n==r?e:void 0};var Ue=function(e,t,n){var r=null==e?void 0:Le(e,t);return void 0===r?n:r},We=function(){try{var e=$(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var ze=function(e,t,n){"__proto__"==t&&We?We(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Be=Object.prototype.hasOwnProperty;var Ve=function(e,t,n){var r=e[t];Be.call(e,t)&&ae(r,n)&&(void 0!==n||t in e)||ze(e,t,n)},qe=/^(?:0|[1-9]\d*)$/;var He=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&qe.test(e))&&-1<e&&e%1==0&&e<t};var Ke=function(e,t,n,r){if(!R(e))return e;for(var o=-1,i=(t=De(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var u=Me(t[o]),c=n;if(o!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=R(l)?l:He(t[o+1])?[]:{})}Ve(s,u,c),s=s[u]}return e};var Qe=function(e,t,n){return null==e?e:Ke(e,t,n)};var $e=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Ge=function(e){return k(e)&&"[object Arguments]"==O(e)},Ye=Object.prototype,Xe=Ye.hasOwnProperty,Ze=Ye.propertyIsEnumerable,Je=Ge(function(){return arguments}())?Ge:function(e){return k(e)&&Xe.call(e,"callee")&&!Ze.call(e,"callee")};var et=function(){return!1},tt=s(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?T.Buffer:void 0,i=(o?o.isBuffer:void 0)||et;e.exports=i});var nt=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt["[object Arguments]"]=rt["[object Array]"]=rt["[object ArrayBuffer]"]=rt["[object Boolean]"]=rt["[object DataView]"]=rt["[object Date]"]=rt["[object Error]"]=rt["[object Function]"]=rt["[object Map]"]=rt["[object Number]"]=rt["[object Object]"]=rt["[object RegExp]"]=rt["[object Set]"]=rt["[object String]"]=rt["[object WeakMap]"]=!1;var ot=function(e){return k(e)&&nt(e.length)&&!!rt[O(e)]};var it=function(t){return function(e){return t(e)}},at=s(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&c.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),st=at&&at.isTypedArray,ut=st?it(st):ot,ct=Object.prototype.hasOwnProperty;var lt=function(e,t){var n=C(e),r=!n&&Je(e),o=!n&&!r&&tt(e),i=!n&&!r&&!o&&ut(e),a=n||r||o||i,s=a?$e(e.length,String):[],u=s.length;for(var c in e)!t&&!ct.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||He(c,u))||s.push(c);return s},ft=Object.prototype;var pt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ft)};var ht=function(t,n){return function(e){return t(n(e))}},dt=ht(Object.keys,Object),vt=Object.prototype.hasOwnProperty;var yt=function(e){if(!pt(e))return dt(e);var t=[];for(var n in Object(e))vt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var gt=function(e){return null!=e&&nt(e.length)&&!N(e)};var mt=function(e){return gt(e)?lt(e):yt(e)};var _t=function(){if(!arguments.length)return[];var e=arguments[0];return C(e)?e:[e]};var bt=function(e){return e},wt=$(T,"WeakMap"),Et=wt&&new wt,St=Et?function(e,t){return Et.set(e,t),e}:bt,Ct=Object.create,Tt=function(){function n(){}return function(e){if(!R(e))return{};if(Ct)return Ct(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();var Ot=function(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Tt(r.prototype),n=r.apply(t,e);return R(n)?n:t}};var kt=function(t,e,n){var r=1&e,o=Ot(t);return function e(){return(this&&this!==T&&this instanceof e?o:t).apply(r?n:this,arguments)}};var xt=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Pt=Math.max;var At=function(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,u=t.length,c=Pt(i-a,0),l=Array(u+c),f=!r;++s<u;)l[s]=t[s];for(;++o<a;)(f||o<i)&&(l[n[o]]=e[o]);for(;c--;)l[s++]=e[o++];return l},It=Math.max;var Rt=function(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,u=-1,c=t.length,l=It(i-s,0),f=Array(l+c),p=!r;++o<l;)f[o]=e[o];for(var h=o;++u<c;)f[h+u]=t[u];for(;++a<s;)(p||o<i)&&(f[h+n[a]]=e[o++]);return f};var jt=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var Nt=function(){};function Ft(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}var Dt=(Ft.prototype=Tt(Nt.prototype)).constructor=Ft;var Mt=Et?function(e){return Et.get(e)}:function(){},Lt={},Ut=Object.prototype.hasOwnProperty;var Wt=function(e){for(var t=e.name+"",n=Lt[t],r=Ut.call(Lt,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t};function zt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var Bt=(zt.prototype=Tt(Nt.prototype)).constructor=zt;var Vt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var qt=function(e){if(e instanceof Dt)return e.clone();var t=new Bt(e.__wrapped__,e.__chain__);return t.__actions__=Vt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},Ht=Object.prototype.hasOwnProperty;function Kt(e){if(k(e)&&!C(e)&&!(e instanceof Dt)){if(e instanceof Bt)return e;if(Ht.call(e,"__wrapped__"))return qt(e)}return new Bt(e)}var Qt=(Kt.prototype=Nt.prototype).constructor=Kt;var $t=function(e){var t=Wt(e),n=Qt[t];if("function"!=typeof n||!(t in Dt.prototype))return!1;if(e===n)return!0;var r=Mt(n);return!!r&&e===r[0]},Gt=Date.now;var Yt=function(n){var r=0,o=0;return function(){var e=Gt(),t=16-(e-o);if(o=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}},Xt=Yt(St),Zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Jt=/,? & /;var en=function(e){var t=e.match(Zt);return t?t[1].split(Jt):[]},tn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var nn=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(tn,"{\n/* [wrapped with "+t+"] */\n")};var rn=function(e){return function(){return e}},on=Yt(We?function(e,t){return We(e,"toString",{configurable:!0,enumerable:!1,value:rn(t),writable:!0})}:bt);var an=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var sn=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1};var un=function(e){return e!=e};var cn=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1};var ln=function(e,t,n){return t==t?cn(e,t,n):sn(e,un,n)};var fn=function(e,t){return!(null==e||!e.length)&&-1<ln(e,t,0)},pn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var hn=function(n,r){return an(pn,function(e){var t="_."+e[0];r&e[1]&&!fn(n,t)&&n.push(t)}),n.sort()};var dn=function(e,t,n){var r=t+"";return on(e,nn(r,hn(en(r),n)))};var vn=function(e,t,n,r,o,i,a,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,o,l?i:void 0,l?a:void 0,l?void 0:i,l?void 0:a,s,u,c],p=n.apply(void 0,f);return $t(e)&&Xt(p,f),p.placeholder=r,dn(p,e,t)};var yn=function(e){return e.placeholder},gn=Math.min;var mn=function(e,t){for(var n=e.length,r=gn(t.length,n),o=Vt(e);r--;){var i=t[r];e[r]=He(i,n)?o[i]:void 0}return e},_n="__lodash_placeholder__";var bn=function(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==_n||(e[n]=_n,i[o++]=n)}return i},wn=1,En=2,Sn=8,Cn=16,Tn=128,On=512;function kn(c,l,f,p,h,d,v,y,g,m){var _=l&Tn,b=l&wn,w=l&En,E=l&(Sn|Cn),S=l&On,C=w?void 0:Ot(c);return function e(){for(var t=arguments.length,n=Array(t),r=t;r--;)n[r]=arguments[r];if(E)var o=yn(e),i=jt(n,o);if(p&&(n=At(n,p,h,E)),d&&(n=Rt(n,d,v,E)),t-=i,E&&t<m){var a=bn(n,o);return vn(c,l,kn,e.placeholder,f,n,a,y,g,m-t)}var s=b?f:this,u=w?s[c]:c;return t=n.length,y?n=mn(n,y):S&&1<t&&n.reverse(),_&&g<t&&(n.length=g),this&&this!==T&&this instanceof e&&(u=C||Ot(u)),u.apply(s,n)}}var xn=kn;var Pn=function(a,s,u){var c=Ot(a);return function e(){for(var t=arguments.length,n=Array(t),r=t,o=yn(e);r--;)n[r]=arguments[r];var i=t<3&&n[0]!==o&&n[t-1]!==o?[]:bn(n,o);return(t-=i.length)<u?vn(a,s,xn,e.placeholder,void 0,n,i,void 0,void 0,u-t):xt(this&&this!==T&&this instanceof e?c:a,this,n)}};var An=function(s,e,u,c){var l=1&e,f=Ot(s);return function e(){for(var t=-1,n=arguments.length,r=-1,o=c.length,i=Array(o+n),a=this&&this!==T&&this instanceof e?f:s;++r<o;)i[r]=c[r];for(;n--;)i[r++]=arguments[++t];return xt(a,l?u:this,i)}},In="__lodash_placeholder__",Rn=Math.min;var jn=function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var u=e[3];e[3]=u?At(u,s,t[4]):s,e[4]=u?bn(e[3],In):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?Rt(u,s,t[6]):s,e[6]=u?bn(e[5],In):t[6]),(s=t[7])&&(e[7]=s),128&r&&(e[8]=null==e[8]?t[8]:Rn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e},Nn=/^\s+|\s+$/g,Fn=/^[-+]0x[0-9a-f]+$/i,Dn=/^0b[01]+$/i,Mn=/^0o[0-7]+$/i,Ln=parseInt;var Un=function(e){if("number"==typeof e)return e;if(x(e))return NaN;if(R(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=R(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Nn,"");var n=Dn.test(e);return n||Mn.test(e)?Ln(e.slice(2),n?2:8):Fn.test(e)?NaN:+e};var Wn=function(e){return e?(e=Un(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0};var zn=function(e){var t=Wn(e),n=t%1;return t==t?n?t-n:t:0},Bn=Math.max;var Vn=function(e,t,n,r,o,i,a,s){var u=2&t;if(!u&&"function"!=typeof e)throw new TypeError("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=o=void 0),a=void 0===a?a:Bn(zn(a),0),s=void 0===s?s:zn(s),c-=o?o.length:0,64&t){var l=r,f=o;r=o=void 0}var p=u?void 0:Mt(e),h=[e,t,n,r,o,l,f,i,a,s];if(p&&jn(h,p),e=h[0],t=h[1],n=h[2],r=h[3],o=h[4],!(s=h[9]=void 0===h[9]?u?0:e.length:Bn(h[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)d=8==t||16==t?Pn(e,t,s):32!=t&&33!=t||o.length?xn.apply(void 0,h):An(e,t,n,r);else var d=kt(e,t,n);return dn((p?St:Xt)(d,h),e,t)},qn=8;function Hn(e,t,n){var r=Vn(e,qn,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Hn.placeholder,r}Hn.placeholder={};var Kn=Hn;var Qn=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n};var $n=function(u){return function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[u?a:++r];if(!1===t(o[s],s,o))break}return e}}();var Gn=function(i,a){return function(e,t){if(null==e)return e;if(!gt(e))return i(e,t);for(var n=e.length,r=a?n:-1,o=Object(e);(a?r--:++r<n)&&!1!==t(o[r],r,o););return e}}(function(e,t){return e&&$n(e,t,mt)});var Yn=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Xn=function(e){return this.__data__.get(e)};var Zn=function(e){return this.__data__.has(e)};var Jn=function(e,t){var n=this.__data__;if(n instanceof de){var r=n.__data__;if(!ve||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Se(r)}return n.set(e,t),this.size=n.size,this};function er(e){var t=this.__data__=new de(e);this.size=t.size}er.prototype.clear=function(){this.__data__=new de,this.size=0},er.prototype.delete=Yn,er.prototype.get=Xn,er.prototype.has=Zn,er.prototype.set=Jn;var tr=er;var nr=function(e){return this.__data__.has(e)};function rr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Se;++t<n;)this.add(e[t])}rr.prototype.add=rr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},rr.prototype.has=nr;var or=rr;var ir=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var ar=function(e,t){return e.has(t)};var sr=function(e,t,n,r,o,i){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&s<u))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,f=!0,p=2&n?new or:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var h=e[l],d=t[l];if(r)var v=a?r(d,h,l,t,e,i):r(h,d,l,e,t,i);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!ir(t,function(e,t){if(!ar(p,t)&&(h===e||o(h,e,n,r,i)))return p.push(t)})){f=!1;break}}else if(h!==d&&!o(h,d,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f},ur=T.Uint8Array;var cr=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r};var lr=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},fr=f?f.prototype:void 0,pr=fr?fr.valueOf:void 0;var hr=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new ur(e),new ur(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ae(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=cr;case"[object Set]":var u=1&r;if(s||(s=lr),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=sr(s(e),s(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(pr)return pr.call(e)==pr.call(t)}return!1};var dr=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var vr=function(e,t,n){var r=t(e);return C(e)?r:dr(r,n(e))};var yr=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var gr=function(){return[]},mr=Object.prototype.propertyIsEnumerable,_r=Object.getOwnPropertySymbols,br=_r?function(t){return null==t?[]:(t=Object(t),yr(_r(t),function(e){return mr.call(t,e)}))}:gr;var wr=function(e){return vr(e,mt,br)},Er=Object.prototype.hasOwnProperty;var Sr=function(e,t,n,r,o,i){var a=1&n,s=wr(e),u=s.length;if(u!=wr(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:Er.call(t,l)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var p=!0;i.set(e,t),i.set(t,e);for(var h=a;++c<u;){var d=e[l=s[c]],v=t[l];if(r)var y=a?r(v,d,l,t,e,i):r(d,v,l,e,t,i);if(!(void 0===y?d===v||o(d,v,n,r,i):y)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var g=e.constructor,m=t.constructor;g!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(p=!1)}return i.delete(e),i.delete(t),p},Cr=$(T,"DataView"),Tr=$(T,"Promise"),Or=$(T,"Set"),kr="[object Map]",xr="[object Promise]",Pr="[object Set]",Ar="[object WeakMap]",Ir="[object DataView]",Rr=U(Cr),jr=U(ve),Nr=U(Tr),Fr=U(Or),Dr=U(wt),Mr=O;(Cr&&Mr(new Cr(new ArrayBuffer(1)))!=Ir||ve&&Mr(new ve)!=kr||Tr&&Mr(Tr.resolve())!=xr||Or&&Mr(new Or)!=Pr||wt&&Mr(new wt)!=Ar)&&(Mr=function(e){var t=O(e),n="[object Object]"==t?e.constructor:void 0,r=n?U(n):"";if(r)switch(r){case Rr:return Ir;case jr:return kr;case Nr:return xr;case Fr:return Pr;case Dr:return Ar}return t});var Lr=Mr,Ur="[object Arguments]",Wr="[object Array]",zr="[object Object]",Br=Object.prototype.hasOwnProperty;var Vr=function(e,t,n,r,o,i){var a=C(e),s=C(t),u=a?Wr:Lr(e),c=s?Wr:Lr(t),l=(u=u==Ur?zr:u)==zr,f=(c=c==Ur?zr:c)==zr,p=u==c;if(p&&tt(e)){if(!tt(t))return!1;l=!(a=!0)}if(p&&!l)return i||(i=new tr),a||ut(e)?sr(e,t,n,r,o,i):hr(e,t,u,n,r,o,i);if(!(1&n)){var h=l&&Br.call(e,"__wrapped__"),d=f&&Br.call(t,"__wrapped__");if(h||d){var v=h?e.value():e,y=d?t.value():t;return i||(i=new tr),o(v,y,n,r,i)}}return!!p&&(i||(i=new tr),Sr(e,t,n,r,o,i))};var qr=function e(t,n,r,o,i){return t===n||(null==t||null==n||!k(t)&&!k(n)?t!=t&&n!=n:Vr(t,n,r,o,e,i))};var Hr=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var u=(s=n[o])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new tr;if(r)var p=r(c,l,u,e,t,f);if(!(void 0===p?qr(l,c,3,r,f):p))return!1}}return!0};var Kr=function(e){return e==e&&!R(e)};var Qr=function(e){for(var t=mt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Kr(o)]}return t};var $r=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}};var Gr=function(t){var n=Qr(t);return 1==n.length&&n[0][2]?$r(n[0][0],n[0][1]):function(e){return e===t||Hr(e,t,n)}};var Yr=function(e,t){return null!=e&&t in Object(e)};var Xr=function(e,t,n){for(var r=-1,o=(t=De(t,e)).length,i=!1;++r<o;){var a=Me(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&nt(o)&&He(a,o)&&(C(e)||Je(e))};var Zr=function(e,t){return null!=e&&Xr(e,t,Yr)};var Jr=function(n,r){return I(n)&&Kr(r)?$r(Me(n),r):function(e){var t=Ue(e,n);return void 0===t&&t===r?Zr(e,n):qr(r,t,3)}};var eo=function(t){return function(e){return null==e?void 0:e[t]}};var to=function(t){return function(e){return Le(e,t)}};var no=function(e){return I(e)?eo(Me(e)):to(e)};var ro=function(e){return"function"==typeof e?e:null==e?bt:"object"==typeof e?C(e)?Jr(e[0],e[1]):Gr(e):no(e)};var oo=function(e,r,o,i,t){return t(e,function(e,t,n){o=i?(i=!1,e):r(o,e,t,n)}),o};var io=function(e,t,n){var r=C(e)?Qn:oo,o=arguments.length<3;return r(e,ro(t,4),n,o,Gn)};var ao=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),o?ze(n,s,u):Ve(n,s,u)}return n};var so=function(e,t){return e&&ao(t,mt(t),e)};var uo=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},co=Object.prototype.hasOwnProperty;var lo=function(e){if(!R(e))return uo(e);var t=pt(e),n=[];for(var r in e)("constructor"!=r||!t&&co.call(e,r))&&n.push(r);return n};var fo=function(e){return gt(e)?lt(e,!0):lo(e)};var po=function(e,t){return e&&ao(t,fo(t),e)},ho=s(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?T.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}});var vo=function(e,t){return ao(e,br(e),t)},yo=ht(Object.getPrototypeOf,Object),go=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)dr(t,br(e)),e=yo(e);return t}:gr;var mo=function(e,t){return ao(e,go(e),t)};var _o=function(e){return vr(e,fo,go)},bo=Object.prototype.hasOwnProperty;var wo=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&bo.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var Eo=function(e){var t=new e.constructor(e.byteLength);return new ur(t).set(new ur(e)),t};var So=function(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Co=/\w*$/;var To=function(e){var t=new e.constructor(e.source,Co.exec(e));return t.lastIndex=e.lastIndex,t},Oo=f?f.prototype:void 0,ko=Oo?Oo.valueOf:void 0;var xo=function(e){return ko?Object(ko.call(e)):{}};var Po=function(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Ao=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Eo(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return So(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Po(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return To(e);case"[object Set]":return new r;case"[object Symbol]":return xo(e)}};var Io=function(e){return"function"!=typeof e.constructor||pt(e)?{}:Tt(yo(e))};var Ro=function(e){return k(e)&&"[object Map]"==Lr(e)},jo=at&&at.isMap,No=jo?it(jo):Ro;var Fo=function(e){return k(e)&&"[object Set]"==Lr(e)},Do=at&&at.isSet,Mo=Do?it(Do):Fo,Lo=1,Uo=2,Wo=4,zo="[object Arguments]",Bo="[object Function]",Vo="[object GeneratorFunction]",qo="[object Object]",Ho={};Ho[zo]=Ho["[object Array]"]=Ho["[object ArrayBuffer]"]=Ho["[object DataView]"]=Ho["[object Boolean]"]=Ho["[object Date]"]=Ho["[object Float32Array]"]=Ho["[object Float64Array]"]=Ho["[object Int8Array]"]=Ho["[object Int16Array]"]=Ho["[object Int32Array]"]=Ho["[object Map]"]=Ho["[object Number]"]=Ho[qo]=Ho["[object RegExp]"]=Ho["[object Set]"]=Ho["[object String]"]=Ho["[object Symbol]"]=Ho["[object Uint8Array]"]=Ho["[object Uint8ClampedArray]"]=Ho["[object Uint16Array]"]=Ho["[object Uint32Array]"]=!0,Ho["[object Error]"]=Ho[Bo]=Ho["[object WeakMap]"]=!1;var Ko=function n(r,o,i,e,t,a){var s,u=o&Lo,c=o&Uo,l=o&Wo;if(i&&(s=t?i(r,e,t,a):i(r)),void 0!==s)return s;if(!R(r))return r;var f=C(r);if(f){if(s=wo(r),!u)return Vt(r,s)}else{var p=Lr(r),h=p==Bo||p==Vo;if(tt(r))return ho(r,u);if(p==qo||p==zo||h&&!t){if(s=c||h?{}:Io(r),!u)return c?mo(r,po(s,r)):vo(r,so(s,r))}else{if(!Ho[p])return t?r:{};s=Ao(r,p,u)}}a||(a=new tr);var d=a.get(r);if(d)return d;if(a.set(r,s),Mo(r))return r.forEach(function(e){s.add(n(e,o,i,e,r,a))}),s;if(No(r))return r.forEach(function(e,t){s.set(t,n(e,o,i,t,r,a))}),s;var v=l?c?_o:wr:c?keysIn:mt,y=f?void 0:v(r);return an(y||r,function(e,t){y&&(e=r[t=e]),Ve(s,t,n(e,o,i,t,r,a))}),s};var Qo=function(e){return Ko(e,5)},$o=Function.prototype,Go=Object.prototype,Yo=$o.toString,Xo=Go.hasOwnProperty,Zo=Yo.call(Object);var Jo=function(e){if(!k(e)||"[object Object]"!=O(e))return!1;var t=yo(e);if(null===t)return!0;var n=Xo.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Yo.call(n)==Zo},ei=s(function(e,i){i.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},i.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},i.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},i.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},i.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},i.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},i.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},i.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},i.realToAlias=function(){var e=Object.prototype.hasOwnProperty,t=i.aliasToReal,n={};for(var r in t){var o=t[r];e.call(n,o)?n[o].push(r):n[o]=[r]}return n}(),i.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},i.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},i.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}}),ti=(ei.aliasToReal,ei.aryMethod,ei.aryRearg,ei.iterateeAry,ei.iterateeRearg,ei.methodRearg,ei.methodSpread,ei.mutate,ei.realToAlias,ei.remap,ei.skipFixed,ei.skipRearg,{}),ni=Array.prototype.push;function ri(n,e){return 2==e?function(e,t){return n(e,t)}:function(e){return n(e)}}function oi(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function ii(r,o){return function(){var e=arguments.length;if(e){for(var t=Array(e);e--;)t[e]=arguments[e];var n=t[0]=o.apply(void 0,t);return r.apply(void 0,t),n}}}var ai=function u(n,e,t,r){var c="function"==typeof e,o=e===Object(e);if(o&&(r=t,t=e,e=void 0),null==t)throw new TypeError;r||(r={});var l={cap:!("cap"in r)||r.cap,curry:!("curry"in r)||r.curry,fixed:!("fixed"in r)||r.fixed,immutable:!("immutable"in r)||r.immutable,rearg:!("rearg"in r)||r.rearg},i=c?t:ti,f="curry"in r&&r.curry,s="fixed"in r&&r.fixed,a="rearg"in r&&r.rearg,p=c?t.runInContext():void 0,h=c?t:{ary:n.ary,assign:n.assign,clone:n.clone,curry:n.curry,forEach:n.forEach,isArray:n.isArray,isError:n.isError,isFunction:n.isFunction,isWeakMap:n.isWeakMap,iteratee:n.iteratee,keys:n.keys,rearg:n.rearg,toInteger:n.toInteger,toPath:n.toPath},d=h.ary,v=h.assign,y=h.clone,g=h.curry,m=h.forEach,_=h.isArray,b=h.isError,w=h.isFunction,E=h.isWeakMap,S=h.keys,C=h.rearg,T=h.toInteger,O=h.toPath,k=S(ei.aryMethod),x={castArray:function(t){return function(){var e=arguments[0];return _(e)?t(oi(e)):t.apply(void 0,arguments)}},iteratee:function(o){return function(){var e=arguments[0],t=arguments[1],n=o(e,t),r=n.length;return l.cap&&"number"==typeof t?(t=2<t?t-2:1,r&&r<=t?n:ri(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!w(n))return e(n,Object(t));var r=[];return m(S(t),function(e){w(t[e])&&r.push([e,n.prototype[e]])}),e(n,Object(t)),m(r,function(e){var t=e[1];w(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(n){return function(e){var t=e<0?1:T(e)+1;return g(n(e),t)}},rearg:function(r){return function(e,t){var n=t?t.length:0;return g(r(e,t),n)}},runInContext:function(t){return function(e){return u(n,t(e),r)}}};function P(e,t){if(l.cap){var n=ei.iterateeRearg[e];if(n)return i=n,N(t,function(e){var n,t=i.length;return n=C(ri(e,t),i),2==t?function(e,t){return n.apply(void 0,arguments)}:function(e){return n.apply(void 0,arguments)}});var r=!c&&ei.iterateeAry[e];if(r)return o=r,N(t,function(e){return"function"==typeof e?ri(e,o):e})}var o,i;return t}function A(e,t,n){if(!l.fixed||!s&&ei.skipFixed[e])return t;var i,a,r=ei.methodSpread[e],o=r&&r.start;return void 0===o?d(t,n):(i=t,a=o,function(){for(var e=arguments.length,t=e-1,n=Array(e);e--;)n[e]=arguments[e];var r=n[a],o=n.slice(0,a);return r&&ni.apply(o,r),a!=t&&ni.apply(o,n.slice(a+1)),i.apply(this,o)})}function I(e,t,n){return l.rearg&&1<n&&(a||!ei.skipRearg[e])?C(t,ei.methodRearg[e]||ei.aryRearg[n]):t}function R(e,t){for(var n=-1,r=(t=O(t)).length,o=r-1,i=y(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],u=a[s];null==u||w(u)||b(u)||E(u)||(a[s]=y(n==o?u:Object(u))),a=a[s]}return i}function j(e,o){var i=ei.aliasToReal[e]||e,a=ei.remap[i]||i,s=r;return function(e){var t=c?p:h,n=c?p[a]:o,r=v(v({},s),e);return u(t,i,n,r)}}function N(r,o){return function(){var e=arguments.length;if(!e)return r();for(var t=Array(e);e--;)t[e]=arguments[e];var n=l.rearg?0:e-1;return t[n]=o(t[n]),r.apply(void 0,t)}}function F(e,t,n){var a,r,s=ei.aliasToReal[e]||e,u=t,o=x[s];return o?u=o(t):l.immutable&&(ei.mutate.array[s]?u=ii(t,oi):ei.mutate.object[s]?u=ii(t,(r=t,function(e){return r({},e)})):ei.mutate.set[s]&&(u=ii(t,R))),m(k,function(i){return m(ei.aryMethod[i],function(e){if(s==e){var t=ei.methodSpread[s],n=t&&t.afterRearg;return a=n?A(s,I(s,u,i),i):I(s,A(s,u,i),i),a=P(s,a),r=a,o=i,a=f||l.curry&&1<o?g(r,o):r,!1}var r,o}),!a}),a||(a=u),a==t&&(a=f?g(a,1):function(){return t.apply(this,arguments)}),a.convert=j(s,t),a.placeholder=t.placeholder=n,a}if(!o)return F(e,t,i);var D=t,M=[];return m(k,function(e){m(ei.aryMethod[e],function(e){var t=D[ei.remap[e]||e];t&&M.push([e,F(e,t,D)])})}),m(S(D),function(e){var t=D[e];if("function"==typeof t){for(var n=M.length;n--;)if(M[n][0]==e)return;t.convert=j(e,t),M.push([e,t])}}),m(M,function(e){D[e[0]]=e[1]}),D.convert=function(e){return D.runInContext.convert(e)(void 0)},D.placeholder=D,m(S(D),function(t){m(ei.realToAlias[t]||[],function(e){D[e]=D[t]})}),D};var si=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,Vn(e,128,void 0,void 0,void 0,void 0,t)};var ui=function(e){return Ko(e,4)};var ci=function(e){if(!k(e))return!1;var t=O(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Jo(e)};var li=function(e){return k(e)&&"[object WeakMap]"==Lr(e)};var fi=function(e){return ro("function"==typeof e?e:Ko(e,1))},pi=f?f.isConcatSpreadable:void 0;var hi=function(e){return C(e)||Je(e)||!!(pi&&e&&e[pi])};var di=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=hi),i||(i=[]);++a<s;){var u=t[a];0<n&&r(u)?1<n?e(u,n-1,r,o,i):dr(i,u):o||(i[i.length]=u)}return i};var vi=function(e){return null!=e&&e.length?di(e,1):[]},yi=Math.max;var gi=function(i,a,s){return a=yi(void 0===a?i.length-1:a,0),function(){for(var e=arguments,t=-1,n=yi(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];t=-1;for(var o=Array(a+1);++t<a;)o[t]=e[t];return o[a]=s(r),xt(i,this,o)}};var mi=function(e){return on(gi(e,void 0,vi),e+"")},_i=mi(function(e,t){return Vn(e,256,void 0,void 0,void 0,t)});var bi=function(e){return C(e)?Ae(e,Me):x(e)?[e]:Vt(Pe(Fe(e)))},wi={ary:si,assign:so,clone:ui,curry:Kn,forEach:an,isArray:C,isError:ci,isFunction:N,isWeakMap:li,iteratee:fi,keys:yt,rearg:_i,toInteger:zn,toPath:bi};var Ei=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Le(e,a);n(s,a)&&Ke(i,De(a,e),s)}return i};var Si=function(n,e){return Ei(n,e,function(e,t){return Zr(n,t)})},Ci=function(e,t,n){return ai(wi,e,t,n)}("pick",mi(function(e,t){return null==e?{}:Si(e,t)}));Ci.placeholder=ti;var Ti=Ci,Oi=void 0;void 0===Symbol.asyncIterator&&(Symbol.asyncIterator=Symbol.for("asyncIterator"));var ki={};function xi(e){console.warn("[FLAMELINK] "+e)}var Pi=Kn(function(e,t){var n;return(n={})[e]=t,n}),Ai=Kn(function(e,t){return t[e]}),Ii=function(o){function e(e,t,n){void 0===t&&(t="generic-error"),void 0===n&&(n=!1);var r=o.call(this,"\n"+e+"\n")||this;return r.code=t,r.showStackTrace=n,r.name="FlamelinkError",r.showStackTrace||(r.stack=null),r}return i(e,o),e}(Error),Ri=function(){function e(){this.events={"*":[]}}return e.prototype.on=function(e,t){var n=this;return"object"!=typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),function(){return n.off(e,t)}},e.prototype.off=function(e,t){"object"==typeof this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e!==t}))},e.prototype.offAll=function(){var t=this;Object.keys(this.events).forEach(function(e){return t.events[e]=[]})},e.prototype.emit=function(t){for(var n=this,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];"object"==typeof this.events[t]&&this.events[t].slice().forEach(function(e){return e.apply(n,r)}),this.events["*"].slice().forEach(function(e){return e.apply(n,[t].concat(r))})},e.prototype.once=function(e,n){var r=this,o=this.on(e,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(),n.apply(r,e)});return o},e}(),ji=function(o){function e(e){var t=o.call(this)||this;if(t.callback=e,t.state="PENDING",t.internalValue=null,t.chain=[],"function"!=typeof e)throw new Error("The callback must be a function");var n=function(s){if("PENDING"!==t.state)return t.internalValue;t.state="REJECTED",t.internalValue=s,E(t,void 0,void 0,function(){var t,n,r,o,i,a;return S(this,function(e){switch(e.label){case 0:e.trys.push([0,5,6,11]),r=u(this.chain),e.label=1;case 1:return[4,r.next()];case 2:if((o=e.sent()).done)return[3,4];if("function"==typeof(i=o.value.onRejected))return[2,i(s)];e.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=e.sent(),t={error:a},[3,11];case 6:return e.trys.push([6,,9,10]),o&&!o.done&&(n=r.return)?[4,n.call(r)]:[3,8];case 7:e.sent(),e.label=8;case 8:return[3,10];case 9:if(t)throw t.error;return[7];case 10:return[7];case 11:return[2]}})})},r=function(s){if("PENDING"!==t.state)return t.internalValue;var e=Ue(s,"then",null);if("function"==typeof e)return e(r,n);t.state="FULFILLED",t.internalValue=s,E(t,void 0,void 0,function(){var t,n,r,o,i,a;return S(this,function(e){switch(e.label){case 0:e.trys.push([0,5,6,11]),r=u(this.chain),e.label=1;case 1:return[4,r.next()];case 2:if((o=e.sent()).done)return[3,4];if("function"==typeof(i=o.value.onFulfilled))return[2,i(s)];e.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=e.sent(),t={error:a},[3,11];case 6:return e.trys.push([6,,9,10]),o&&!o.done&&(n=r.return)?[4,n.call(r)]:[3,8];case 7:e.sent(),e.label=8;case 8:return[3,10];case 9:if(t)throw t.error;return[7];case 10:return[7];case 11:return[2]}})})};try{setTimeout(function(){return e(r,n,t)},0)}catch(e){n(e)}return t}return i(e,o),e.prototype.then=function(t,n){return E(this,void 0,void 0,function(){return S(this,function(e){return"FULFILLED"===this.state&&"function"==typeof t?[2,t(this.internalValue)]:"REJECTED"===this.state&&"function"==typeof n?[2,n(this.internalValue)]:(this.chain.push({onFulfilled:t,onRejected:n}),[2])})})},e.prototype.catch=function(t){return E(this,void 0,void 0,function(){return S(this,function(e){return"FULFILLED"===this.state?[2]:"REJECTED"===this.state&&"function"==typeof t?[2,t(this.internalValue)]:(this.chain.push({onFulfilled:void 0,onRejected:t}),[2])})})},e}(Ri),Ni=function(e){return e.usesAdminApp?Ue(e,"firebaseApp.firebaseInternals_.firebase_.firestore"):Ue(e,"firebaseApp.firebase_.firestore")},Fi=function(e){return e.usesAdminApp?Ue(e,"firebaseApp.firebaseInternals_.firebase_.auth"):Ue(e,"firebaseApp.firebase_.auth")},Di=["limitToFirst","limitToLast","startAt","endAt","equalTo"],Mi=["startAt","startAfter","endAt","endBefore"],Li=function(e,t){if(t.orderByChild){if("string"!=typeof t.orderByChild||""===t.orderByChild)throw new Ii('"orderByChild" should specify the child key to order by');return e.orderByChild(t.orderByChild)}return t.orderByValue?e.orderByValue():t.orderByKey?e.orderByKey():e},Ui=function(e,r){return void 0===r&&(r={}),mt(r).length?Di.reduce(function(e,t){var n=r[t];return void 0===n?e:e[t](n)},e):e},Wi=function(e,t){if(!mt(t).length)return e;if(t.orderBy){if("string"==typeof t.orderBy)return e.orderBy?e.orderBy(t.orderBy,"asc"):e;if(Jo(t.orderBy)&&t.orderBy.field)return e.orderBy?e.orderBy(t.orderBy.field,t.orderBy.order||"asc"):e;if(Array.isArray(t.orderBy))return t.orderBy.reduce(function(e,t){return Wi(e,{orderBy:t})},e);xi('Ignored invalid "orderBy" parameters supplied.')}return e},zi=function(e,t){return mt(t).length&&Array.isArray(t.filters)?t.filters.reduce(function(e,t){return Array.isArray(t)?e.where?e.where.apply(e,t):e:(xi('The following invalid "filter" clause has been ignored: '+JSON.stringify(t)),e)},e):e},Bi=function(e,n){if(!mt(n).length)return e;var t=Mi.reduce(function(e,t){return void 0!==n[t]&&e[t]?e[t].apply(e,_t(n[t])):e},e);return Ue(n,"limit")&&(t=e.limit?e.limit(n.limit):e),t},Vi=Kn(function(e,t){if(!t||!C(e))return t;var o=Ti(e);return C(t)?io(t,function(e,t){return e.concat(o(t))},[]):Jo(t)?io(t,function(e,t,n){var r;return Object.assign(e,((r={})[n]=o(t),r))},{}):t}),qi=function(e){return"object"==typeof e&&"function"==typeof Ue(e,"get")},Hi=Kn(function(e,t,n){var r=t||{},o=r.idProperty,i=void 0===o?"id":o,a=r.parentProperty,s=void 0===a?"parentId":a,u=C(n)?n:mt(n).map(function(e){return n[e]});if(!C(u))throw new Ii('"formatStructure" should be called with an array of items');if("nested"!==e&&"tree"!==e)return u;var c=function(e,t){return void 0===t&&(t=0),e.map(function(t){return w({},t,{children:u.filter(function(e){return Ue(e,s)===Ue(t,i)})})}).filter(function(e){return Ue(e,s,0)===t}).map(function(e){return 0===e.children.length?e:w({},e,{children:c(e.children,Ue(e,i))})})};return c(u,0)}),Ki=function(e){return void 0===ki.prepPopulateFields&&(ki.prepPopulateFields=Oe(function(e){return e&&C(e)?e.map(function(e){return"string"==typeof e?{field:e}:e}):[]},function(e){return JSON.stringify(e)})),ki.prepPopulateFields(e)},Qi=Kn(function(o,s,u){return E(Oi,void 0,void 0,function(){var r,t,n,i,a=this;return S(this,function(e){switch(e.label){case 0:return s.populate&&Jo(u)?(r=Ue(o,"modules.storage"),t=function(n){return E(a,void 0,void 0,function(){var t;return S(this,function(e){switch(e.label){case 0:return r?[4,r.getURL({fileId:n.id,size:s.size})]:(xi('The Flamelink "storage" module is not available. Please make sure it is imported and try again.'),[2,n]);case 1:return t=e.sent(),[2,Qe(n,"url",t)]}})})},n=function(e){return e.hasOwnProperty("file")&&e.hasOwnProperty("id")&&e.hasOwnProperty("contentType")&&e.hasOwnProperty("folderId")},i=function(o){return E(a,void 0,void 0,function(){var r=this;return S(this,function(e){switch(e.label){case 0:return Array.isArray(o)?[2,Promise.all(o.map(function(t){return E(r,void 0,void 0,function(){return S(this,function(e){return[2,i(t)]})})}))]:Jo(o)?n(o)?[2,t(o)]:[4,Promise.all(mt(o).map(function(n){return E(r,void 0,void 0,function(){var t;return S(this,function(e){switch(e.label){case 0:return t={propKey:n},[4,i(o[n])];case 1:return[2,(t.propValue=e.sent(),t)]}})})}))]:[3,2];case 1:return[2,e.sent().reduce(function(e,t){return Qe(e,t.propKey,t.propValue)},w({},o))];case 2:return[2,o]}})})},[4,Promise.all(mt(u).map(function(n){return E(a,void 0,void 0,function(){var t;return S(this,function(e){switch(e.label){case 0:return t={entryKey:n},[4,i(u[n])];case 1:return[2,(t.entryValue=e.sent(),t)]}})})}))]):[2,u];case 1:return[2,e.sent().reduce(function(e,t){return Qe(e,t.entryKey,t.entryValue)},w({},u))]}})})}),$i=Kn(function(f,r,p){return E(Oi,void 0,void 0,function(){var l,t,n=this;return S(this,function(e){switch(e.label){case 0:return Jo(p)&&Ue(r,"populate")?(l=!0===r.populate,t=[],C(r.populate)?t=Ki(r.populate):l&&(t=Ki(Object.keys(p))),[4,Promise.all(t.map(function(c){return E(n,void 0,void 0,function(){var t,n,r,o,i,a,s,u=this;return S(this,function(e){switch(e.label){case 0:return t=c.field,n=c.populate,r=c.subFields,o=Ue(p,t),i=$i(f,{populate:!!l||(Array.isArray(r)?r:n)}),a=function(o){return E(u,void 0,void 0,function(){var t,n,r=this;return S(this,function(e){switch(e.label){case 0:return[4,f.doc(o.path).get()];case 1:return"function"==typeof(t=e.sent()).forEach?(n=[],t.forEach(function(t){return E(r,void 0,void 0,function(){return S(this,function(e){return[2,n.push(t.data())]})})}),[2,Promise.all(n.map(function(t){return E(r,void 0,void 0,function(){return S(this,function(e){return[2,i(t)]})})}))]):[2,i(t.data())]}})})},s=o,Array.isArray(o)?[4,Promise.all(o.map(function(t){return E(u,void 0,void 0,function(){return S(this,function(e){return qi(t)?[2,a(t)]:[2,i(t)]})})}))]:[3,2];case 1:return s=e.sent(),[3,6];case 2:return Jo(o)?[4,i(o)]:[3,4];case 3:return s=e.sent(),[3,6];case 4:return qi(o)?[4,a(o)]:[3,6];case 5:s=e.sent(),e.label=6;case 6:return[2,{fieldKey:t,fieldValue:s}]}})})}))]):[2,p];case 1:return[2,e.sent().reduce(function(e,t){return Qe(e,t.fieldKey,t.fieldValue)},w({},p))]}})})}),Gi=Kn(function(n,r,i){return E(Oi,void 0,void 0,function(){var o=this;return S(this,function(e){switch(e.label){case 0:return Array.isArray(i)?[2,Promise.all(i.map(function(t){return E(o,void 0,void 0,function(){return S(this,function(e){return[2,$i(n,r,t)]})})}))]:Jo(i)?[4,Promise.all(mt(i).map(function(t){return E(o,void 0,void 0,function(){return S(this,function(e){return[2,$i(n,r,i[t])]})})}))]:[3,2];case 1:return[2,e.sent().reduce(function(e,r){return e.then(function(n){return E(o,void 0,void 0,function(){var t;return S(this,function(e){return[2,Object.assign(n,(t={},t[Ue(r,"_fl_meta_.fl_id",r.id)]=r,t))]})})})},Promise.resolve({}))];case 2:return[2,i]}})})}),Yi=Kn(function(i,e){return{start:function(){return e.reduce(function(e,r,o){return e.then(function(n){return E(Oi,void 0,void 0,function(){var t;return S(this,function(e){switch(e.label){case 0:return[4,i(r,o)];case 1:return t=e.sent(),[2,n.concat([t])]}})})})},Promise.resolve([]))}}}),Xi=function(u,n){return E(Oi,void 0,void 0,function(){var t=this;return S(this,function(e){return[2,n.reduce(function(n,s){return E(t,void 0,void 0,function(){var t=this;return S(this,function(e){switch(s.type){case"media":return[2,n.then(function(e){return e.concat({field:s.key})})];case"select-relational":case"tree-relational":return[2,n.then(function(a){return E(t,void 0,void 0,function(){var t,n,r,o,i;return S(this,function(e){switch(e.label){case 0:return n=(t=a).concat,r={field:s.key},o=Xi,i=[u],[4,u.getFields({schemaKey:s.relation})];case 1:return[4,o.apply(void 0,i.concat([e.sent()]))];case 2:return[2,n.apply(t,[(r.populate=e.sent(),r)])]}})})})];case"fieldset":case"repeater":return[2,n.then(function(o){return E(t,void 0,void 0,function(){var t,n,r;return S(this,function(e){switch(e.label){case 0:return n=(t=o).concat,r={field:s.key},[4,Xi(u,s.options)];case 1:return[2,n.apply(t,[(r.subFields=e.sent(),r)])]}})})})];default:return[2,n]}return[2]})})},Promise.resolve([]))]})})},Zi=Kn(function(_,s,u,c){return E(Oi,void 0,void 0,function(){var t,y,n,g,m,r,o,i,a=this;return S(this,function(e){switch(e.label){case 0:if(!c)return[2,c];if(0===(t=mt(c)).length)throw new Ii('"populateEntry" should be called with an object of objects');return y=_.modules.content,n=_.modules.schemas,g=_.modules.storage,m=Kn(function(h,d,i,v){return E(a,void 0,void 0,function(){var t,o,n=this;return S(this,function(e){switch(e.label){case 0:return i[0]?(r=d,(t=i.reduce(function(e,t){var n=r&&r.find(function(e){return e.key===t.field});return n?n.relation?e.concat([w({},t,{contentType:n.relation,populateType:"relational"})]):"media"===n.type?e.concat([w({},t,{populateType:"media"})]):"repeater"===n.type&&C(t.subFields)?e.concat([w({},t,{populateType:"repeater"})]):"fieldset"===n.type&&C(t.subFields)?e.concat([w({},t,{populateType:"fieldset"})]):e:e},[]))[0]?[4,Promise.all(t.map(function(p){return E(n,void 0,void 0,function(){var t,a,s,n,r,o,i,u,c,l,f=this;return S(this,function(e){switch(e.label){case 0:switch(t=p.field,a=p.subFields,s=p.contentType,n=p.populateType,n){case"media":return[3,1];case"relational":return[3,2];case"repeater":return[3,3];case"fieldset":return[3,4]}return[3,7];case 1:if(h[v]&&h[v].hasOwnProperty(t)){if(r=h[v][t]||[],!C(r))throw new Ii('The "'+t+'" field does not seem to be a valid media property.');return[2,Promise.all(r.map(function(a){return E(f,void 0,void 0,function(){var t,n,r,o,i;return S(this,function(e){switch(e.label){case 0:return console.log({media:qi(a),innerEntryKey:a}),t=Vi(p.fields),n=Zi(_,s,p.populate),[4,Promise.all([g.getFile(w({},p,{fileId:a})),g.getURL(w({},p,{fileId:a}))])];case 1:return r=e.sent(),o=r[0],i=r[1],[4,b(Ai(a),n,t,Pi(a))(w({},o,{url:i}))];case 2:return[2,e.sent()]}})})}))]}return[2,null];case 2:return h[v]&&h[v].hasOwnProperty(t)?(o=h[v][t],o=_t(o),[2,Promise.all(o.map(function(t){return E(f,void 0,void 0,function(){return S(this,function(e){return[2,y.get(w({},p,{schemaKey:s,entryId:t}))]})})}))]):[2,null];case 3:if(h[v]&&h[v].hasOwnProperty(t)){if(i=h[v][t]||[],!C(i))throw new Ii('The "'+t+'" field does not seem to be a valid repeater field.');return u=d&&d.find(function(e){return e.key===t}),[2,Promise.all(i.map(function(r,o){return E(f,void 0,void 0,function(){var t,n;return S(this,function(e){switch(e.label){case 0:return t=o.toString(),[4,m(Pi(t,r),u.options||[],Ki(a),t)];case 1:return n=e.sent(),[2,Ai(t,n)]}})})}))]}return[2,null];case 4:if(!h[v]||!h[v].hasOwnProperty(t))return[3,6];if(c=h[v][t],!Jo(c))throw new Ii('The "'+t+'" field does not seem to be a valid fieldset field.');return l=d&&d.find(function(e){return e.key===t}),[4,Promise.all(mt(c).map(function(o,i){return E(f,void 0,void 0,function(){var t,n,r;return S(this,function(e){switch(e.label){case 0:return n=i.toString(),[4,m(Pi(n,(t={},t[o]=c[o],t)),l.options||[],Ki(a),n)];case 1:return r=e.sent(),[2,Ai(n,r)]}})})}))];case 5:return[2,e.sent().reduce(function(e,t){return Object.assign(e,t)},{})];case 6:return[2,null];case 7:return[2,h[v][t]]}})})}))]:[2,h]):[2,h];case 1:return o=e.sent(),[2,t.reduce(function(e,t,n){var r=t.field;return e[v]&&e[v].hasOwnProperty(r)&&(e[v][r]=o[n]),e},Qo(h))]}var r})})}),[4,n.getFields({schemaKey:s})];case 1:return r=e.sent(),!0!==u?[3,3]:[4,Xi(n,r)];case 2:u=e.sent(),e.label=3;case 3:return o=Ki(u),[4,Promise.all(t.map(m(c,r,o)))];case 4:return i=e.sent(),[2,t.reduce(function(e,t,n){var r;return Object.assign(e,((r={})[t]=i[n][t],r))},{})]}})})}),Ji=Kn(function(r,o,i,t){return E(Oi,void 0,void 0,function(){var n=this;return S(this,function(e){return Array.isArray(t)?[2,Promise.all(t.map(function(t){return E(n,void 0,void 0,function(){return S(this,function(e){return[2,Zi(r,o,i,t)]})})}))]:[2,[]]})})});ea.AVAILABLE_FILTER_OPTIONS_FOR_RTDB=Di,ea.CF_QUERY_CURSORS=Mi,ea.EventEmitter=Ri,ea.FlamelinkError=Ii,ea.PromiseEmitter=ji,ea.applyFiltersForCF=zi,ea.applyFiltersForRTDB=Ui,ea.applyLimitAndOffsetsForCF=Bi,ea.applyOptionsForCF=function(e,t){var n=zi(e,t),r=Wi(n,t);return Bi(r,t)},ea.applyOptionsForRTDB=function(e,t){var n=Li(e,t);return Ui(n,t)},ea.applyOrderByForCF=Wi,ea.applyOrderByForRTDB=Li,ea.createQueue=Yi,ea.formatStructure=Hi,ea.getAuthServiceFactory=Fi,ea.getCurrentUser=function(e){var t=Fi(e);return"function"!=typeof t?"UNKNOWN":Ue(t(),"currentUser.uid","UNKNOWN")},ea.getDefaultImport=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e},ea.getFirestoreServiceFactory=Ni,ea.getStorageServiceFactory=function(e){return e.usesAdminApp?Ue(e,"firebaseApp.firebaseInternals_.firebase_.storage"):Ue(e,"firebaseApp.firebase_.storage")},ea.getTimestamp=function(e){return"cf"===e.dbType?Ue(Ni(e),"Timestamp.now",function(){return(new Date).toISOString()})():(new Date).toISOString()},ea.hasNonCacheableOptionsForCF=function(e){var t=mt(e),n=["noCache","includeMetadataChanges","source","changeType","limit"].concat(Mi);return t.some(function(e){return n.includes(e)})},ea.hasNonCacheableOptionsForRTDB=function(e){var t=mt(e),n=["noCache","event","orderByValue","orderByChild"].concat(Di);return t.some(function(e){return n.includes(e)})},ea.isRefLike=qi,ea.logError=function(e){console.error("[FLAMELINK] "+e)},ea.logWarning=xi,ea.patchFileUrlForCF=Qi,ea.pluckResultFields=Vi,ea.populateEntries=Ji,ea.populateEntriesForCF=Gi,ea.populateEntry=Zi,ea.prepPopulateFields=Ki,ea.processReferencesForCF=$i,ea.unwrap=Ai,ea.wrap=Pi}).call(this,ta(7),ta(33))},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){var v=n(11),y=n(12),g=n(14),m=n(24),_=n(54),b="prototype",w=function(e,t,n){var r,o,i,a,s=e&w.F,u=e&w.G,c=e&w.S,l=e&w.P,f=e&w.B,p=u?v:c?v[t]||(v[t]={}):(v[t]||{})[b],h=u?y:y[t]||(y[t]={}),d=h[b]||(h[b]={});for(r in u&&(n=t),n)i=((o=!s&&p&&void 0!==p[r])?p:n)[r],a=f&&o?_(i,v):l&&"function"==typeof i?_(Function.call,i):i,p&&m(p,r,i,e&w.U),h[r]!=i&&g(h,r,a),l&&d[r]!=i&&(d[r]=i)};v.core=y,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,e.exports=w},function(e,t,n){var r=n(18),o=n(29);e.exports=n(19)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,r){"use strict";var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=r(0),h=r(1),d=[],v=[];function i(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e}).catch(function(e){throw n.loading=!1,n.error=e}),n}function n(n){var r={loading:!1,loaded:{},error:null},o=[];try{Object.keys(n).forEach(function(t){var e=i(n[t]);e.loading?r.loading=!0:(r.loaded[t]=e.loaded,r.error=e.error),o.push(e.promise),e.promise.then(function(e){r.loaded[t]=e}).catch(function(e){r.error=e})})}catch(e){r.error=e}return r.promise=Promise.all(o).then(function(e){return r.loading=!1,e}).catch(function(e){throw r.loading=!1,e}),r}function y(e,t){return p.createElement((n=e)&&n.__esModule?n.default:n,t);var n}function o(o,e){var t,n;if(!e.loading)throw new Error("react-loadable requires a `loading` component");var i=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:y,webpack:null,modules:null},e),a=null;function s(){return a||(a=o(i.loader)),a.promise}return d.push(s),"function"==typeof i.webpack&&v.push(function(){if(e=i.webpack,"object"===u(r.m)&&e().every(function(e){return void 0!==e&&void 0!==r.m[e]}))return s();var e}),n=t=function(n){function r(e){c(this,r);var t=l(this,n.call(this,e));return t.retry=function(){t.setState({error:null,loading:!0,timedOut:!1}),a=o(i.loader),t._loadModule()},s(),t.state={error:a.error,pastDelay:!1,timedOut:!1,loading:a.loading,loaded:a.loaded},t}return f(r,n),r.preload=function(){return s()},r.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},r.prototype._loadModule=function(){var t=this;if(this.context.loadable&&Array.isArray(i.modules)&&i.modules.forEach(function(e){t.context.loadable.report(e)}),a.loading){"number"==typeof i.delay&&(0===i.delay?this.setState({pastDelay:!0}):this._delay=setTimeout(function(){t.setState({pastDelay:!0})},i.delay)),"number"==typeof i.timeout&&(this._timeout=setTimeout(function(){t.setState({timedOut:!0})},i.timeout));var n=function(){t._mounted&&(t.setState({error:a.error,loaded:a.loaded,loading:a.loading}),t._clearTimeouts())};a.promise.then(function(){n()}).catch(function(e){n()})}},r.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},r.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},r.prototype.render=function(){return this.state.loading||this.state.error?p.createElement(i.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?i.render(this.state.loaded,this.props):null},r}(p.Component),t.contextTypes={loadable:h.shape({report:h.func.isRequired})},n}function a(e){return o(i,e)}a.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return o(n,e)};var s=function(e){function t(){return c(this,t),l(this,e.apply(this,arguments))}return f(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return p.Children.only(this.props.children)},t}(p.Component);function g(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then(function(){if(e.length)return g(e)})}s.propTypes={report:h.func.isRequired},s.childContextTypes={loadable:h.shape({report:h.func.isRequired}).isRequired},a.Capture=s,a.preloadAll=function(){return new Promise(function(e,t){g(d).then(e,t)})},a.preloadReady=function(){return new Promise(function(e,t){g(v).then(e,e)})},e.exports=a},function(e,t,n){var r=n(28),o=n(52),i=n(34),a=Object.defineProperty;t.f=n(19)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(35),o=n(26);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=n(61),d=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},v="[DEFAULT]",r=[],y=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled||!1,this.options_=h.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){r.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(t){r=r.filter(function(e){return e!==t})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed_(),this._automaticDataCollectionEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var r=this;return new Promise(function(e){r.checkDestroyed_(),e()}).then(function(){r.firebase_.INTERNAL.removeApp(r.name_);var n=[];return Object.keys(r.services_).forEach(function(t){Object.keys(r.services_[t]).forEach(function(e){n.push(r.services_[t][e])})}),Promise.all(n.map(function(e){return e.INTERNAL.delete()}))}).then(function(){r.isDeleted_=!0,r.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=v),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==v?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;h.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(r.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),r=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&g("app-deleted",{name:this.name_})},e}();function g(e,t){throw o.create(e,t)}y.prototype.name&&y.prototype.options||y.prototype.delete||console.log("dc");var o=new h.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),i=function e(){var a={},s={},u={},c={__esModule:!0,initializeApp:function(e,t){if(void 0===t&&(t={}),"object"!=typeof t||null===t){var n=t;t={name:n}}var r=t;void 0===r.name&&(r.name=v);var o=r.name;"string"==typeof o&&o||g("bad-app-name",{name:o+""}),d(a,o)&&g("duplicate-app",{name:o});var i=new y(e,r,c);return p(a[o]=i,"create"),i},app:l,apps:null,Promise:Promise,SDK_VERSION:"5.7.3",INTERNAL:{registerService:function(n,e,t,r,o){s[n]&&g("duplicate-service",{name:n}),s[n]=e,r&&(u[n]=r,f().forEach(function(e){r("create",e)}));var i=function(e){return void 0===e&&(e=l()),"function"!=typeof e[n]&&g("invalid-app-argument",{name:n}),e[n]()};return void 0!==t&&h.deepExtend(i,t),c[n]=i,y.prototype[n]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,n).apply(this,o?e:[])},i},createFirebaseNamespace:e,extendNamespace:function(e){h.deepExtend(c,e)},createSubscribe:h.createSubscribe,ErrorFactory:h.ErrorFactory,removeApp:function(e){p(a[e],"delete"),delete a[e]},factories:s,useAsService:o,Promise:Promise,deepExtend:h.deepExtend}};function l(e){return d(a,e=e||v)||g("no-app",{name:e}),a[e]}function f(){return Object.keys(a).map(function(e){return a[e]})}function p(n,r){Object.keys(s).forEach(function(e){var t=o(n,e);null!==t&&u[t]&&u[t](r,n)})}function o(e,t){if("serverAuth"===t)return null;var n=t;return e.options,n}return h.patchProperty(c,"default",c),Object.defineProperty(c,"apps",{get:f}),h.patchProperty(l,"App",y),c}();t.firebase=i,t.default=i},function(e,t,n){var o=n(130);e.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}return t}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(11),a=n(14),s=n(16),u=n(25)("src"),r="toString",o=Function[r],c=(""+o).split(r);n(12).inspectSource=function(e){return o.call(e)},(e.exports=function(e,t,n,r){var o="function"==typeof n;o&&(s(n,"name")||a(n,"name",t)),e[t]!==n&&(o&&(s(n,u)||a(n,u,e[t]?""+e[t]:c.join(String(t)))),e===i?e[t]=n:r?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[u]||o.call(this)})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(57),o=n(41);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(15);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var o=n(15);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(30);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(26);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(31),o=Math.min;e.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(11),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(8)("unscopables"),o=Array.prototype;null==o[r]&&n(14)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(38)("keys"),o=n(25);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(18).f,o=n(16),i=n(8)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){t.f=n(8)},function(e,t,n){var r=n(11),o=n(12),i=n(46),a=n(44),s=n(18).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,n){"use strict";e.exports=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return e.then(t)},Promise.resolve(e))}}},function(e,t,n){var r;"undefined"!=typeof self&&self,r=function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=7)}([function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))c.call(n,a)&&(o[a]=n[a]);if(u){r=u(n);for(var s=0;s<r.length;s++)l.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o}},function(e,t,n){"use strict";var r=n(1);e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(8),l=a(o),i=a(n(11)),f=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(14));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function a(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=n=s(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o)))).state={delayed:0<n.props.delay},s(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.Component),r(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.delay;this.state.delayed&&(this.timeout=setTimeout(function(){e.setState({delayed:!1})},t))}},{key:"componentWillUnmount",value:function(){var e=this.timeout;e&&clearTimeout(e)}},{key:"render",value:function(){var e=this.props,t=e.color,n=(e.delay,e.type),r=e.height,o=e.width,i=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","delay","type","height","width"]),a=this.state.delayed?"blank":n,s=f[a],u={fill:t,height:r,width:o};return l.default.createElement("div",c({style:u,dangerouslySetInnerHTML:{__html:s}},i))}}]),a}();u.propTypes={color:i.default.string,delay:i.default.number,type:i.default.string,height:i.default.oneOfType([i.default.string,i.default.number]),width:i.default.oneOfType([i.default.string,i.default.number])},u.defaultProps={color:"#fff",delay:0,type:"balls",height:64,width:64},t.default=u},function(e,t,n){"use strict";e.exports=n(9)},function(e,t,n){"use strict";
/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=n(2),o=n(0),r=n(5),i=n(1),a="function"==typeof Symbol&&Symbol.for,f=a?Symbol.for("react.element"):60103,u=a?Symbol.for("react.portal"):60106,s=a?Symbol.for("react.fragment"):60107,c=a?Symbol.for("react.strict_mode"):60108,p=a?Symbol.for("react.provider"):60109,h=a?Symbol.for("react.context"):60110,d=a?Symbol.for("react.async_mode"):60111,v=a?Symbol.for("react.forward_ref"):60112,y="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,n="http://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);o(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function _(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||m}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=_.prototype;var E=w.prototype=new b;E.constructor=w,l(E,_.prototype),E.isPureReactComponent=!0;var S={current:null},C=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r=void 0,o={},i=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)C.call(t,r)&&!T.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:f,type:e,key:i,ref:a,props:o,_owner:S.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===f}var x=/\/+/g,P=[];function A(e,t,n,r){if(P.length){var o=P.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,P.length<10&&P.push(e)}function R(e,t,n,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i=!1;if(null===e)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case f:case u:i=!0}}if(i)return n(r,e,""===t?"."+j(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+j(o=e[a],a);i+=R(o,s,n,r)}else if("function"==typeof(s=null==e?null:"function"==typeof(s=y&&e[y]||e["@@iterator"])?s:null))for(e=s.call(e),a=0;!(o=e.next()).done;)i+=R(o=o.value,s=t+j(o,a++),n,r);else"object"===o&&g("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return i}function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function N(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?D(e,r,n,i.thatReturnsArgument):null!=e&&(k(e)&&(t=o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(x,"$&/")+"/")+n,e={$$typeof:f,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function D(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(x,"$&/")+"/"),t=A(t,i,r,o),null==e||R(e,"",F,t),I(t)}var M={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return D(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=A(null,null,t,n),null==e||R(e,"",N,t),I(t)},count:function(e){return null==e?0:R(e,"",i.thatReturnsNull,null)},toArray:function(e){var t=[];return D(e,t,null,i.thatReturnsArgument),t},only:function(e){return k(e)||g("143"),e}},createRef:function(){return{current:null}},Component:_,PureComponent:w,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:p,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:v,render:e}},Fragment:s,StrictMode:c,unstable_AsyncMode:d,createElement:O,cloneElement:function(e,t,n){null==e&&g("267",e);var r=void 0,o=l({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key);var u=void 0;for(r in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)C.call(t,r)&&!T.hasOwnProperty(r)&&(o[r]=void 0===t[r]&&void 0!==u?u[r]:t[r])}if(1===(r=arguments.length-2))o.children=n;else if(1<r){u=Array(r);for(var c=0;c<r;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:f,type:e.type,key:i,ref:a,props:o,_owner:s}},createFactory:function(e){var t=O.bind(null,e);return t.type=e,t},isValidElement:k,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:l}},L=Object.freeze({default:M}),U=L&&M||L;e.exports=U.default?U.default:U},function(e,t,n){"use strict";
/** @license React v16.3.2
 * react.development.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */},function(e,t,n){e.exports=n(13)()},function(e,t,n){"use strict";var o=n(1),v=n(0),y=n(3),g=n(2),m=n(4),_=n(6);e.exports=function(s,u){var i="function"==typeof Symbol&&Symbol.iterator,a="@@iterator";var c="<<anonymous>>",e={array:t("array"),bool:t("boolean"),func:t("function"),number:t("number"),object:t("object"),string:t("string"),symbol:t("symbol"),any:n(o.thatReturnsNull),arrayOf:function(c){return n(function(e,t,n,r,o){if("function"!=typeof c)return new p("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var i=e[t];if(!Array.isArray(i)){var a=h(i);return new p("Invalid "+r+" `"+o+"` of type `"+a+"` supplied to `"+n+"`, expected an array.")}for(var s=0;s<i.length;s++){var u=c(i,s,n,r,o+"["+s+"]",m);if(u instanceof Error)return u}return null})},element:n(function(e,t,n,r,o){var i=e[t];if(s(i))return null;var a=h(i);return new p("Invalid "+r+" `"+o+"` of type `"+a+"` supplied to `"+n+"`, expected a single ReactElement.")}),instanceOf:function(u){return n(function(e,t,n,r,o){if(e[t]instanceof u)return null;var i=u.name||c,a=(s=e[t],s.constructor&&s.constructor.name?s.constructor.name:c);var s;return new p("Invalid "+r+" `"+o+"` of type `"+a+"` supplied to `"+n+"`, expected instance of `"+i+"`.")})},node:n(function(e,t,n,r,o){return f(e[t])?null:new p("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(c){return n(function(e,t,n,r,o){if("function"!=typeof c)return new p("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var i=e[t],a=h(i);if("object"!==a)return new p("Invalid "+r+" `"+o+"` of type `"+a+"` supplied to `"+n+"`, expected an object.");for(var s in i)if(i.hasOwnProperty(s)){var u=c(i,s,n,r,o+"."+s,m);if(u instanceof Error)return u}return null})},oneOf:function(u){if(!Array.isArray(u))return o.thatReturnsNull;return n(function(e,t,n,r,o){for(var i=e[t],a=0;a<u.length;a++)if(l(i,u[a]))return null;var s=JSON.stringify(u);return new p("Invalid "+r+" `"+o+"` of value `"+i+"` supplied to `"+n+"`, expected one of "+s+".")})},oneOfType:function(s){if(!Array.isArray(s))return o.thatReturnsNull;for(var e=0;e<s.length;e++){var t=s[e];if("function"!=typeof t)return y(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",r(t),e),o.thatReturnsNull}return n(function(e,t,n,r,o){for(var i=0;i<s.length;i++){var a=s[i];if(null==a(e,t,n,r,o,m))return null}return new p("Invalid "+r+" `"+o+"` supplied to `"+n+"`.")})},shape:function(l){return n(function(e,t,n,r,o){var i=e[t],a=h(i);if("object"!==a)return new p("Invalid "+r+" `"+o+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");for(var s in l){var u=l[s];if(u){var c=u(i,s,n,r,o+"."+s,m);if(c)return c}}return null})},exact:function(f){return n(function(e,t,n,r,o){var i=e[t],a=h(i);if("object"!==a)return new p("Invalid "+r+" `"+o+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");var s=g({},e[t],f);for(var u in s){var c=f[u];if(!c)return new p("Invalid "+r+" `"+o+"` key `"+u+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(e[t],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(f),null,"  "));var l=c(i,u,n,r,o+"."+u,m);if(l)return l}return null})}};function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){this.message=e,this.stack=""}function n(s){function e(e,t,n,r,o,i,a){(r=r||c,i=i||n,a!==m)&&(u&&v(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"));return null==t[n]?e?null===t[n]?new p("The "+o+" `"+i+"` is marked as required in `"+r+"`, but its value is `null`."):new p("The "+o+" `"+i+"` is marked as required in `"+r+"`, but its value is `undefined`."):null:s(t,n,r,o,i)}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function t(s){return n(function(e,t,n,r,o,i){var a=e[t];return h(a)===s?null:new p("Invalid "+r+" `"+o+"` of type `"+d(a)+"` supplied to `"+n+"`, expected `"+s+"`.")})}function f(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(f);if(null===e||s(e))return!0;var t=function(e){var t=e&&(i&&e[i]||e[a]);if("function"==typeof t)return t}(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!f(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!f(o[1]))return!1}return!0;default:return!1}}function h(e){var t,n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=e,"symbol"===n||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol?"symbol":n)}function d(e){if(null==e)return""+e;var t=h(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function r(e){var t=d(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,e.checkPropTypes=_,e.PropTypes=e}},function(e,t,n){"use strict";var r=n(1),a=n(0),s=n(4);e.exports=function(){function e(e,t,n,r,o,i){i!==s&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15);Object.defineProperty(t,"blank",{enumerable:!0,get:function(){return p(r).default}});var o=n(16);Object.defineProperty(t,"balls",{enumerable:!0,get:function(){return p(o).default}});var i=n(17);Object.defineProperty(t,"bars",{enumerable:!0,get:function(){return p(i).default}});var a=n(18);Object.defineProperty(t,"bubbles",{enumerable:!0,get:function(){return p(a).default}});var s=n(19);Object.defineProperty(t,"cubes",{enumerable:!0,get:function(){return p(s).default}});var u=n(20);Object.defineProperty(t,"cylon",{enumerable:!0,get:function(){return p(u).default}});var c=n(21);Object.defineProperty(t,"spin",{enumerable:!0,get:function(){return p(c).default}});var l=n(22);Object.defineProperty(t,"spinningBubbles",{enumerable:!0,get:function(){return p(l).default}});var f=n(23);function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"spokes",{enumerable:!0,get:function(){return p(f).default}})},function(e,t){e.exports='<svg class="icon-blank" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"></svg>\n'},function(e,t){e.exports='<svg class="icon-loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(-8 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(2 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(12 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(24 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(2)" d="M0 12 V20 H4 V12z"> \n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(8)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.2" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(14)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.4" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n  <path transform="translate(20)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n  <path transform="translate(26)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.8" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <circle transform="translate(8 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="translate(16 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="translate(24 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(-8 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(2 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(12 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(24 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n  <path opacity="0.5" transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.1s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n  <path opacity="0.25" transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.2s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path opacity=".25" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/>\n  <path d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z">\n    <animateTransform attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="0.8s" repeatCount="indefinite" />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <circle cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(45 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.125s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(90 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.25s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(135 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.375s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(225 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.625s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(270 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.75s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(315 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.875s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n</svg>\n'},function(e,t){e.exports='<svg id="loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(0 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(45 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.125s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(90 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.25s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(135 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.375s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(180 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.5s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(225 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.675s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(270 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.75s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(315 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.875s"/>\n  </path>\n</svg>\n'}])},e.exports=r()},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(69)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))c.call(n,a)&&(o[a]=n[a]);if(u){r=u(n);for(var s=0;s<r.length;s++)l.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o}},function(e,t,n){e.exports=!n(19)&&!n(23)(function(){return 7!=Object.defineProperty(n(53)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(15),o=n(11).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var i=n(79);e.exports=function(r,o,e){if(i(r),void 0===o)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}},function(e,t,n){var _=n(54),b=n(35),w=n(36),E=n(37),r=n(80);e.exports=function(f,e){var p=1==f,h=2==f,d=3==f,v=4==f,y=6==f,g=5==f||y,m=e||r;return function(e,t,n){for(var r,o,i=w(e),a=b(i),s=_(t,n,3),u=E(a.length),c=0,l=p?m(e,u):h?m(e,0):void 0;c<u;c++)if((g||c in a)&&(o=s(r=a[c],c,i),f))if(p)l[c]=o;else if(o)switch(f){case 3:return!0;case 5:return r;case 6:return c;case 2:l.push(r)}else if(v)return!1;return y?-1:d||v?v:l}}},function(e,t,n){var r=n(30);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var a=n(16),s=n(20),u=n(87)(!1),c=n(40)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),o=0,i=[];for(n in r)n!=c&&a(r,n)&&i.push(n);for(;t.length>o;)a(r,n=t[o++])&&(~u(i,n)||i.push(n));return i}},function(e,t,r){var o=r(28),i=r(101),a=r(41),s=r(40)("IE_PROTO"),u=function(){},c="prototype",l=function(){var e,t=r(53)("iframe"),n=a.length;for(t.style.display="none",r(102).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[c][a[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[c]=o(e),n=new u,u[c]=null,n[s]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(57),o=n(41).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){"use strict";var _=n(46),b=n(13),w=n(24),E=n(14),S=n(47),C=n(112),T=n(43),O=n(113),k=n(8)("iterator"),x=!([].keys&&"next"in[].keys()),P="values",A=function(){return this};e.exports=function(e,t,n,r,o,i,a){C(n,t,r);var s,u,c,l=function(e){if(!x&&e in d)return d[e];switch(e){case"keys":case P:return function(){return new n(this,e)}}return function(){return new n(this,e)}},f=t+" Iterator",p=o==P,h=!1,d=e.prototype,v=d[k]||d["@@iterator"]||o&&d[o],y=v||l(o),g=o?p?l("entries"):y:void 0,m="Array"==t&&d.entries||v;if(m&&(c=O(m.call(new e)))!==Object.prototype&&c.next&&(T(c,f,!0),_||"function"==typeof c[k]||E(c,k,A)),p&&v&&v.name!==P&&(h=!0,y=function(){return v.call(this)}),_&&!a||!x&&!h&&d[k]||E(d,k,y),S[t]=y,S[f]=A,o)if(s={values:p?y:l(P),keys:i?y:l("keys"),entries:g},a)for(u in s)u in d||w(d,u,s[u]);else b(b.P+b.F*(x||h),t,s);return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);t[n++]=o<128?o:(t[n++]=o<2048?o>>6|192:(55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128):t[n++]=o>>12|224,o>>6&63|128),63&o|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],a=o+1<e.length,s=a?e[o+1]:0,u=o+2<e.length,c=u?e[o+2]:0,l=i>>2,f=(3&i)<<4|s>>4,p=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(p=64)),r.push(n[l],n[f],n[p],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(191<o&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(239<o&&o<365){var a=((7&o)<<18|(63&(i=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{i=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0,s=++o<e.length?n[e.charAt(o)]:64,u=++o<e.length?n[e.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==u)throw Error();var c=i<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var n=this;this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return e.prototype.wrapCallback=function(n){var r=this;return function(e,t){e?r.reject(e):r.resolve(t),"function"==typeof n&&(r.promise.catch(function(){}),1===n.length?n(e):n(e,t))}},e}(),p=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},h="FirebaseError",d=Error.captureStackTrace;var v=function(e,t){if(this.code=e,this.message=t,d)d(this,y.prototype.create);else try{throw Error.apply(this,arguments)}catch(e){this.name=h,Object.defineProperty(this,"stack",{get:function(){return e.stack}})}};v.prototype=Object.create(Error.prototype),(v.prototype.constructor=v).prototype.name=h;var y=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,r){void 0===r&&(r={});var t,n=this.errors[e],o=this.service+"/"+e;t=void 0===n?"Error":n.replace(this.pattern,function(e,t){var n=r[t];return void 0!==n?n.toString():"<"+t+"?>"}),t=this.serviceName+": "+t+" ("+o+").";var i=new v(o,t);for(var a in r)r.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(i[a]=r[a]);return i},e}();function g(e){return JSON.parse(e)}var m=function(e){var t={},n={},r={},o="";try{var i=e.split(".");t=g(c(i[0])||""),n=g(c(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:o}},_=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},b=function(n,e){return _(e,function(e,t){n[e]=t}),n},w=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},E=function(n){function e(){var e=n.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var t=1;t<e.blockSize;++t)e.pad_[t]=0;return e.reset(),e}return r.__extends(e,n),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){a=r<40?r<20?(i=l^u&(c^l),1518500249):(i=u^c^l,1859775393):r<60?(i=u&c|l&(u|c),2400959708):(i=u^c^l,3395469782);o=(s<<5|s>>>27)+i+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<t;){if(0==i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++r,++i==this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++r,++i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;0<=o;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e},e}(function(){this.blockSize=-1});var S=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&"function"==typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}}),this.observers.push(r),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function C(){}function T(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=e+" failed: ";return o+=r+" argument "}t.assert=a,t.assertionError=i,t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.CONSTANTS=o,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.patchProperty=function(e,t,n){e[t]=n},t.Deferred=f,t.getUA=p,t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},t.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.ErrorFactory=y,t.FirebaseError=v,t.patchCapture=function(e){var t=d;return d=e,t},t.jsonEval=g,t.stringify=function(e){return JSON.stringify(e)},t.decode=m,t.isAdmin=function(e){var t=m(e).claims;return"object"==typeof t&&!0===t.admin},t.issuedAtTime=function(e){var t=m(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.isValidFormat=function(e){var t=m(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t,n,r=m(e).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?t=r.nbf:r.hasOwnProperty("iat")&&(t=r.iat),n=r.hasOwnProperty("exp")?r.exp:t+86400),o&&t&&n&&t<=o&&o<=n},t.clone=function(e){return b({},e)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0},t.extend=b,t.findKey=w,t.findValue=function(e,t,n){var r=w(e,t,n);return r&&e[r]},t.forEach=_,t.getAnyKey=function(e){for(var t in e)return t},t.getCount=function(e){var t=0;for(var n in e)t++;return t},t.getValues=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.isNonNullObject=function(e){return"object"==typeof e&&null!==e},t.map=function(e,t,n){var r={};for(var o in e)r[o]=t.call(n,e[o],o,e);return r},t.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.querystring=function(e){var n=[];return _(e,function(t,e){Array.isArray(e)?e.forEach(function(e){n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}):n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),n.length?"&"+n.join("&"):""},t.querystringDecode=function(e){var n={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var t=e.split("=");n[t[0]]=t[1]}}),n},t.Sha1=E,t.async=function(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Promise.resolve(!0).then(function(){n.apply(void 0,e)}).catch(function(e){r&&r(e)})}},t.createSubscribe=function(e,t){var n=new S(e,t);return n.subscribe.bind(n)},t.errorPrefix=T,t.validateArgCount=function(e,t,n,r){var o;if(r<t?o="at least "+t:n<r&&(o=0===n?"none":"no more than "+n),o)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(T(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(T(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(T(e,t,r)+"must be a valid firebase namespace.")},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:55296<=r&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(55296<=o&&o<=56319){var i=o-55296;a(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(e.charCodeAt(r)-56320)}t[n++]=o<128?o:(t[n++]=o<2048?o>>6|192:(t[n++]=o<65536?o>>12|224:(t[n++]=o>>18|240,o>>12&63|128),o>>6&63|128),63&o|128)}return t}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return o}),n.d(t,"__assign",function(){return i}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return f}),n.d(t,"__exportStar",function(){return p}),n.d(t,"__values",function(){return h}),n.d(t,"__read",function(){return d}),n.d(t,"__spread",function(){return v}),n.d(t,"__await",function(){return y}),n.d(t,"__asyncGenerator",function(){return g}),n.d(t,"__asyncDelegator",function(){return m}),n.d(t,"__asyncValues",function(){return _}),n.d(t,"__makeTemplateObject",function(){return b}),n.d(t,"__importStar",function(){return w}),n.d(t,"__importDefault",function(){return E});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(a=(i<3?o(a):3<i?o(t,n,a):o(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a}function u(n,r){return function(e,t){r(e,t,n)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(i,a,s,u){return new(s||(s=Promise))(function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((u=u.apply(i,a||[])).next())})}function f(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[0,a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(e,t||[]),a=[];return o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o;function r(r){i[r]&&(o[r]=function(n){return new Promise(function(e,t){1<a.push([r,n,e,t])||s(r,n)})})}function s(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function m(r){var e,o;return e={},t("next"),t("throw",function(e){throw e}),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,n){r[t]&&(e[t]=function(e){return(o=!o)?{value:y(r[t](e)),done:"return"===t}:n?n(e):e})}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):h(e)}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o,i){return new Promise(function(t){var n=document.createElement("img"),e=new FileReader,r=Object.assign({},s,i);e.onload=function(e){n.src=e.target.result,n.onload=function(){r.autoRotate&&(r.debug&&console.log("browser-image-resizer: detecting image orientation..."),"function"==typeof a.default.getData&&"function"==typeof a.default.getTag?a.default.getData(n,function(){var e=a.default.getTag(this,"Orientation");r.debug&&console.log("browser-image-resizer: image orientation from EXIF tag = "+e),t(u(n,r,e))}):(console.error("browser-image-resizer: can't read EXIF data, the Exif.js library not found"),t(u(n,r))))}},e.readAsDataURL(o)})},t.scaleImage=u;var r,o=n(128),a=(r=o)&&r.__esModule?r:{default:r};var s={quality:.5,maxWidth:800,maxHeight:600,autoRotate:!0,debug:!1,mimeType:"image/jpeg"};function u(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=document.createElement("canvas");r.width=e.width,r.height=e.height;var o=r.getContext("2d");o.save(),function(e,t,n,r){var o=e.width,i=e.style.width,a=e.height,s=e.style.height;4<n&&(e.width=a,e.style.width=s,e.height=o,e.style.height=i);switch(n){case 2:t.translate(o,0),t.scale(-1,1);break;case 3:t.translate(o,a),t.rotate(Math.PI);break;case 4:t.translate(0,a),t.scale(1,-1);break;case 5:t.rotate(.5*Math.PI),t.scale(1,-1);break;case 6:t.rotate(.5*Math.PI),t.translate(0,-a);break;case 7:t.rotate(.5*Math.PI),t.translate(o,-a),t.scale(-1,1);break;case 8:t.rotate(-.5*Math.PI),t.translate(-o,0)}t.drawImage(r,0,0),t.restore()}(r,o,n,e);for(var i=function(e,t){var n=t.width/t.height,r=Math.min(t.width,e.maxWidth,n*e.maxHeight);0<e.maxSize&&e.maxSize<t.width*t.height/1e3&&(r=Math.min(r,Math.floor(1e3*e.maxSize/t.height)));e.scaleRatio&&(r=Math.min(r,Math.floor(e.scaleRatio*t.width)));e.debug&&(console.log("browser-image-resizer: original image size = "+t.width+" px (width) X "+t.height+" px (height)"),console.log("browser-image-resizer: scaled image size = "+r+" px (width) X "+Math.floor(r/n)+" px (height)"));r<=0&&(r=1,console.warning("browser-image-resizer: image size is too small"));return r}(t,r);r.width>=2*i;)r=c(r);r.width>i&&(r=function(e,t){var n=document.createElement("canvas"),r=t.outputWidth/e.width;n.width=e.width*r,n.height=e.height*r;var o=e.getContext("2d").getImageData(0,0,e.width,e.height),i=n.getContext("2d").createImageData(n.width,n.height);return function(e,t,n){function r(e,t,n,r,o,i){var a=1-o,s=1-i;return e*a*s+t*o*s+n*a*i+r*o*i}var o,i,a,s,u,c,l,f,p,h,d,v,y,g,m,_,b,w,E;for(o=0;o<t.height;++o)for(a=o/n,s=Math.floor(a),u=Math.ceil(a)>e.height-1?e.height-1:Math.ceil(a),i=0;i<t.width;++i)c=i/n,l=Math.floor(c),f=Math.ceil(c)>e.width-1?e.width-1:Math.ceil(c),p=4*(i+t.width*o),h=4*(l+e.width*s),d=4*(f+e.width*s),v=4*(l+e.width*u),y=4*(f+e.width*u),g=c-l,m=a-s,_=r(e.data[h],e.data[d],e.data[v],e.data[y],g,m),t.data[p]=_,b=r(e.data[h+1],e.data[d+1],e.data[v+1],e.data[y+1],g,m),t.data[p+1]=b,w=r(e.data[h+2],e.data[d+2],e.data[v+2],e.data[y+2],g,m),t.data[p+2]=w,E=r(e.data[h+3],e.data[d+3],e.data[v+3],e.data[y+3],g,m),t.data[p+3]=E}(o,i,r),n.getContext("2d").putImageData(i,0,0),n}(r,Object.assign(t,{outputWidth:i})));var a=r.toDataURL(t.mimeType,t.quality);return"function"==typeof t.onScale&&t.onScale(a),function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),i=0;i<t.length;i++)o[i]=t.charCodeAt(i);return new Blob([r],{type:n})}(a)}function c(e){var t=document.createElement("canvas");return t.width=e.width/2,t.height=e.height/2,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t}},function(e,t,n){"use strict";n(72);var r,o=(r=n(21))&&"object"==typeof r&&"default"in r?r.default:r;e.exports=o},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}},function(e,n,t){(function(e){var t;t=function(){var a=null,s={};e("monochrome",null,[[0,0],[100,0]]),e("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),e("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),e("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),e("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),e("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),e("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),e("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var u=function(e){if(void 0!==(e=e||{}).seed&&null!==e.seed&&e.seed===parseInt(e.seed,10))a=e.seed;else if("string"==typeof e.seed)a=function(e){for(var t=0,n=0;n!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);n++)t+=e.charCodeAt(n);return t}(e.seed);else{if(void 0!==e.seed&&null!==e.seed)throw new TypeError("The seed value must be an integer or string");a=null}var t,n,r;if(null===e.count||void 0===e.count)return t=function(e){var t=c(function(e){if("number"==typeof parseInt(e)){var t=parseInt(e);if(t<360&&0<t)return[t,t]}if("string"==typeof e)if(s[e]){var n=s[e];if(n.hueRange)return n.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var r=function(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,r=parseInt(e.substr(4,2),16)/255,o=Math.max(t,n,r),i=o-Math.min(t,n,r),a=o?i/o:0;switch(o){case t:return[(n-r)/i%6*60||0,a,o];case n:return[60*((r-t)/i+2)||0,a,o];case r:return[60*((t-n)/i+4)||0,a,o]}}(e)[0];return[r,r]}return[0,360]}(e.hue));t<0&&(t=360+t);return t}(e),n=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return c([0,100]);var n=(i=e,l(i).saturationRange),r=n[0],o=n[1];var i;switch(t.luminosity){case"bright":r=55;break;case"dark":r=o-10;break;case"light":o=55}return c([r,o])}(t,e),r=function(e,t,n){var r=function(e,t){for(var n=l(e).lowerBounds,r=0;r<n.length-1;r++){var o=n[r][0],i=n[r][1],a=n[r+1][0],s=n[r+1][1];if(o<=t&&t<=a){var u=(s-i)/(a-o),c=i-u*o;return u*t+c}}return 0}(e,t),o=100;switch(n.luminosity){case"dark":o=r+20;break;case"light":r=(o+r)/2;break;case"random":r=0,o=100}return c([r,o])}(t,n,e),function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return p(e);case"hsl":var n=p(e);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var r=p(e),o=t.alpha||Math.random();return"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+o+")";case"rgbArray":return f(e);case"rgb":var i=f(e);return"rgb("+i.join(", ")+")";case"rgba":var a=f(e),o=t.alpha||Math.random();return"rgba("+a.join(", ")+", "+o+")";default:return function(e){var t=f(e);function n(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+n(t[0])+n(t[1])+n(t[2])}(e)}}([t,n,r],e);var o=e.count,i=[];for(e.count=null;o>i.length;)a&&e.seed&&(e.seed+=1),i.push(u(e));return e.count=o,i};function l(e){for(var t in 334<=e&&e<=360&&(e-=360),s){var n=s[t];if(n.hueRange&&e>=n.hueRange[0]&&e<=n.hueRange[1])return s[t]}return"Color not found"}function c(e){if(null===a)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));var t=e[1]||1,n=e[0]||0,r=(a=(9301*a+49297)%233280)/233280;return Math.floor(n+r*(t-n))}function e(e,t,n){var r=n[0][0],o=n[n.length-1][0],i=n[n.length-1][1],a=n[0][1];s[e]={hueRange:t,lowerBounds:n,saturationRange:[r,o],brightnessRange:[i,a]}}function f(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var n=e[1]/100,r=e[2]/100,o=Math.floor(6*t),i=6*t-o,a=r*(1-n),s=r*(1-i*n),u=r*(1-(1-i)*n),c=256,l=256,f=256;switch(o){case 0:c=r,l=u,f=a;break;case 1:c=s,l=r,f=a;break;case 2:c=a,l=r,f=u;break;case 3:c=a,l=s,f=r;break;case 4:c=u,l=a,f=r;break;case 5:c=r,l=a,f=s}var p=[Math.floor(255*c),Math.floor(255*l),Math.floor(255*f)];return p}function p(e){var t=e[0],n=e[1]/100,r=e[2]/100,o=(2-n)*r;return[t,Math.round(n*r/(o<1?o:2-o)*1e4)/100,o/2*100]}return u}(),e&&e.exports&&(n=e.exports=t),n.randomColor=t}).call(this,t(133)(e))},function(e,t,n){var p=n(134);e.exports=s,e.exports.parse=i,e.exports.compile=function(e,t){return r(i(e,t))},e.exports.tokensToFunction=r,e.exports.tokensToRegExp=a;var C=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r,o=[],i=0,a=0,s="",u=t&&t.delimiter||"/";null!=(n=C.exec(e));){var c=n[0],l=n[1],f=n.index;if(s+=e.slice(a,f),a=f+c.length,l)s+=l[1];else{var p=e[a],h=n[2],d=n[3],v=n[4],y=n[5],g=n[6],m=n[7];s&&(o.push(s),s="");var _=null!=h&&null!=p&&p!==h,b="+"===g||"*"===g,w="?"===g||"*"===g,E=n[2]||u,S=v||y;o.push({name:d||i++,prefix:h||"",delimiter:E,optional:w,repeat:b,partial:_,asterisk:!!m,pattern:S?(r=S,r.replace(/([=!:$\/()])/g,"\\$1")):m?".*":"[^"+T(E)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&o.push(s),o}function h(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function r(l){for(var f=new Array(l.length),e=0;e<l.length;e++)"object"==typeof l[e]&&(f[e]=new RegExp("^(?:"+l[e].pattern+")$"));return function(e,t){for(var n="",r=e||{},o=(t||{}).pretty?h:encodeURIComponent,i=0;i<l.length;i++){var a=l[i];if("string"!=typeof a){var s,u=r[a.name];if(null==u){if(a.optional){a.partial&&(n+=a.prefix);continue}throw new TypeError('Expected "'+a.name+'" to be defined')}if(p(u)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var c=0;c<u.length;c++){if(s=o(u[c]),!f[i].test(s))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received `'+JSON.stringify(s)+"`");n+=(0===c?a.prefix:a.delimiter)+s}}else{if(s=a.asterisk?encodeURI(u).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):o(u),!f[i].test(s))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+s+'"');n+=a.prefix+s}}else n+=a}return n}}function T(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function d(e,t){return e.keys=t,e}function v(e){return e.sensitive?"":"i"}function a(e,t,n){p(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,i="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)i+=T(s);else{var u=T(s.prefix),c="(?:"+s.pattern+")";t.push(s),s.repeat&&(c+="(?:"+u+c+")*"),i+=c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")"}}var l=T(n.delimiter||"/"),f=i.slice(-l.length)===l;return r||(i=(f?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=o?"$":r&&f?"":"(?="+l+"|$)",d(new RegExp("^"+i,v(n)),t)}function s(e,t,n){return p(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):p(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(s(e[o],t,n).source);return d(new RegExp("(?:"+r.join("|")+")",v(n)),t)}(e,t,n):(r=t,a(i(e,o=n),r,o));var r,o}},function(e,t,n){"use strict";
/** @license React v16.7.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=n(51),r="function"==typeof Symbol&&Symbol.for,f=r?Symbol.for("react.element"):60103,c=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,a,s){if(!e){if((e=void 0)===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||_}function E(){}function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||_}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&m("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=w.prototype;var C=S.prototype=new E;C.constructor=S,l(C,w.prototype),C.isPureReactComponent=!0;var T={current:null,currentDispatcher:null},O=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r=void 0,o={},i=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)O.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:f,type:e,key:i,ref:a,props:o,_owner:T.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===f}var A=/\/+/g,I=[];function R(e,t,n,r){if(I.length){var o=I.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function j(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,I.length<10&&I.push(e)}function N(e,t,n){return null==e?0:function e(t,n,r,o){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var a=!1;if(null===t)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case f:case c:a=!0}}if(a)return r(o,t,""===n?"."+F(t,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){var u=n+F(i=t[s],s);a+=e(i,u,r,o)}else if("function"==typeof(u=null===t||"object"!=typeof t?null:"function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null))for(t=u.call(t),s=0;!(i=t.next()).done;)a+=e(i=i.value,u=n+F(i,s++),r,o);else"object"===i&&m("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return a}(e,"",t,n)}function F(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function D(e,t){e.func.call(e.context,t,e.count++)}function M(e,t,n){var r,o,i=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,i,n,function(e){return e}):null!=e&&(P(e)&&(o=a+(!(r=e).key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n,e={$$typeof:f,type:r.type,key:o,ref:r.ref,props:r.props,_owner:r._owner}),i.push(e))}function L(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(A,"$&/")+"/"),N(e,M,t=R(t,i,r,o)),j(t)}var U={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;N(e,D,t=R(null,null,t,n)),j(t)},count:function(e){return N(e,function(){return null},null)},toArray:function(e){var t=[];return L(e,t,null,function(e){return e}),t},only:function(e){return P(e)||m("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:y,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},Fragment:o,StrictMode:i,Suspense:d,createElement:x,cloneElement:function(e,t,n){null==e&&m("267",e);var r=void 0,o=l({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,s=T.current),void 0!==t.key&&(i=""+t.key);var u=void 0;for(r in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)O.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=void 0===t[r]&&void 0!==u?u[r]:t[r])}if(1===(r=arguments.length-2))o.children=n;else if(1<r){u=Array(r);for(var c=0;c<r;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:f,type:e.type,key:i,ref:a,props:o,_owner:s}},createFactory:function(e){var t=x.bind(null,e);return t.type=e,t},isValidElement:P,version:"16.7.0",unstable_ConcurrentMode:p,unstable_Profiler:a,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:T,assign:l}},W=U;e.exports=W.default||W},function(e,t,n){"use strict";
/** @license React v16.7.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=n(0),m=n(51),r=n(70);function D(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,a,s){if(!e){if((e=void 0)===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}o||D("227");var l=!1,f=null,p=!1,h=null,c={onError:function(e){l=!0,f=e}};function d(e,t,n,r,o,i,a,s,u){l=!1,f=null,function(e,t,n,r,o,i,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(c,arguments)}var v=null,y={};function i(){if(v)for(var e in y){var t=y[e],n=v.indexOf(e);if(-1<n||D("96",e),!_[n])for(var r in t.extractEvents||D("97",e),n=(_[n]=t).eventTypes){var o=void 0,i=n[r],a=t,s=r;b.hasOwnProperty(s)&&D("99",s);var u=(b[s]=i).phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&g(u[o],a,s);o=!0}else o=!!i.registrationName&&(g(i.registrationName,a,s),!0);o||D("98",r,e)}}}function g(e,t,n){w[e]&&D("100",e),w[e]=t,u[e]=t.eventTypes[n].dependencies}var _=[],b={},w={},u={},a=null,s=null,E=null;function S(e,t,n){var r=e.type||"unknown-event";e.currentTarget=E(n),function(e,t,n,r,o,i,a,s,u){if(d.apply(this,arguments),l){if(l){var c=f;l=!1,f=null}else D("198"),c=void 0;p||(p=!0,h=c)}}(r,t,void 0,e),e.currentTarget=null}function C(e,t){return null==t&&D("30"),null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function T(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var O=null;function k(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)S(e,t[r],n[r]);else t&&S(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var x={injectEventPluginOrder:function(e){v&&D("101"),v=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];y.hasOwnProperty(t)&&y[t]===r||(y[t]&&D("102",t),y[t]=r,n=!0)}n&&i()}};function P(e,t){var n=e.stateNode;if(!n)return null;var r=a(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&D("231",t,typeof n),n)}function A(e){if(null!==e&&(O=C(O,e)),e=O,O=null,e&&(T(e,k),O&&D("95"),p))throw e=h,p=!1,h=null,e}var I=Math.random().toString(36).slice(2),R="__reactInternalInstance$"+I,j="__reactEventHandlers$"+I;function N(e){if(e[R])return e[R];for(;!e[R];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[R]).tag||6===e.tag?e:null}function F(e){return!(e=e[R])||5!==e.tag&&6!==e.tag?null:e}function M(e){if(5===e.tag||6===e.tag)return e.stateNode;D("33")}function L(e){return e[j]||null}function U(e){for(;(e=e.return)&&5!==e.tag;);return e||null}function W(e,t,n){(t=P(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=U(t);for(t=n.length;0<t--;)W(n[t],"captured",e);for(t=0;t<n.length;t++)W(n[t],"bubbled",e)}}function B(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=P(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function V(e){e&&e.dispatchConfig.registrationName&&B(e._targetInst,null,e)}function q(e){T(e,z)}var H=!("undefined"==typeof window||!window.document||!window.document.createElement);function K(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Q={animationend:K("Animation","AnimationEnd"),animationiteration:K("Animation","AnimationIteration"),animationstart:K("Animation","AnimationStart"),transitionend:K("Transition","TransitionEnd")},$={},G={};function Y(e){if($[e])return $[e];if(!Q[e])return e;var t,n=Q[e];for(t in n)if(n.hasOwnProperty(t)&&t in G)return $[e]=n[t];return e}H&&(G=document.createElement("div").style,"AnimationEvent"in window||(delete Q.animationend.animation,delete Q.animationiteration.animation,delete Q.animationstart.animation),"TransitionEvent"in window||delete Q.transitionend.transition);var X=Y("animationend"),Z=Y("animationiteration"),J=Y("animationstart"),ee=Y("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,oe=null;function ie(){if(oe)return oe;var e,t,n=re,r=n.length,o="value"in ne?ne.value:ne.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return oe=o.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function ue(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ce(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function le(e){e instanceof this||D("279"),e.destructor(),this.eventPool.length<10&&this.eventPool.push(e)}function fe(e){e.eventPool=[],e.getPooled=ce,e.release=le}m(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return m(o,n.prototype),((n.prototype=o).constructor=n).Interface=m({},r.Interface,e),n.extend=r.extend,fe(n),n},fe(ue);var pe=ue.extend({data:null}),he=ue.extend({data:null}),de=[9,13,27,32],ve=H&&"CompositionEvent"in window,ye=null;H&&"documentMode"in document&&(ye=document.documentMode);var ge=H&&"TextEvent"in window&&!ye,me=H&&(!ve||ye&&8<ye&&ye<=11),_e=String.fromCharCode(32),be={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},we=!1;function Ee(e,t){switch(e){case"keyup":return-1!==de.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Se(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ce=!1;var Te={eventTypes:be,extractEvents:function(e,t,n,r){var o=void 0,i=void 0;if(ve)e:{switch(e){case"compositionstart":o=be.compositionStart;break e;case"compositionend":o=be.compositionEnd;break e;case"compositionupdate":o=be.compositionUpdate;break e}o=void 0}else Ce?Ee(e,n)&&(o=be.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=be.compositionStart);return i=o?(me&&"ko"!==n.locale&&(Ce||o!==be.compositionStart?o===be.compositionEnd&&Ce&&(i=ie()):(re="value"in(ne=r)?ne.value:ne.textContent,Ce=!0)),o=pe.getPooled(o,t,n,r),i?o.data=i:null!==(i=Se(n))&&(o.data=i),q(o),o):null,(e=ge?function(e,t){switch(e){case"compositionend":return Se(t);case"keypress":return 32!==t.which?null:(we=!0,_e);case"textInput":return(e=t.data)===_e&&we?null:e;default:return null}}(e,n):function(e,t){if(Ce)return"compositionend"===e||!ve&&Ee(e,t)?(e=ie(),oe=re=ne=null,Ce=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return me&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=he.getPooled(be.beforeInput,t,n,r)).data=e,q(t)):t=null,null===i?t:null===t?i:[i,t]}},Oe=null,ke=null,xe=null;function Pe(e){if(e=s(e)){"function"!=typeof Oe&&D("280");var t=a(e.stateNode);Oe(e.stateNode,e.type,t)}}function Ae(e){ke?xe?xe.push(e):xe=[e]:ke=e}function Ie(){if(ke){var e=ke,t=xe;if(xe=ke=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Re(e,t){return e(t)}function je(e,t,n){return e(t,n)}function Ne(){}var Fe=!1;function De(e,t){if(Fe)return e(t);Fe=!0;try{return Re(e,t)}finally{Fe=!1,(null!==ke||null!==xe)&&(Ne(),Ie())}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Me[e.type]:"textarea"===t}function Ue(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function We(e){if(!H)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function ze(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Be(e){e._valueTracker||(e._valueTracker=function(e){var t=ze(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ze(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var qe=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,He=/^(.*)[\\\/]/,Ke="function"==typeof Symbol&&Symbol.for,Qe=Ke?Symbol.for("react.element"):60103,$e=Ke?Symbol.for("react.portal"):60106,Ge=Ke?Symbol.for("react.fragment"):60107,Ye=Ke?Symbol.for("react.strict_mode"):60108,Xe=Ke?Symbol.for("react.profiler"):60114,Ze=Ke?Symbol.for("react.provider"):60109,Je=Ke?Symbol.for("react.context"):60110,et=Ke?Symbol.for("react.concurrent_mode"):60111,tt=Ke?Symbol.for("react.forward_ref"):60112,nt=Ke?Symbol.for("react.suspense"):60113,rt=Ke?Symbol.for("react.memo"):60115,ot=Ke?Symbol.for("react.lazy"):60116,it="function"==typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=it&&e[it]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case Ge:return"Fragment";case $e:return"Portal";case Xe:return"Profiler";case Ye:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Je:return"Context.Consumer";case Ze:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return st(e.type);case ot:if(e=1===e._status?e._result:null)return st(e)}return null}function ut(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=st(e.type);n=null,r&&(n=st(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(He,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}var ct=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lt=Object.prototype.hasOwnProperty,ft={},pt={};function ht(e,t,n,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dt[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dt[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){dt[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dt[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dt[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){dt[e]=new ht(e,3,!0,e,null)}),["capture","download"].forEach(function(e){dt[e]=new ht(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){dt[e]=new ht(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){dt[e]=new ht(e,5,!1,e.toLowerCase(),null)});var vt=/[\-:]([a-z])/g;function yt(e){return e[1].toUpperCase()}function gt(e,t,n,r){var o,i=dt.hasOwnProperty(t)?dt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}return!1}(t,n,i,r)&&(n=null),r||null===i?(o=t,(lt.call(pt,o)||!lt.call(ft,o)&&(ct.test(o)?pt[o]=!0:!(ft[o]=!0)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function mt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _t(e,t){var n=t.checked;return m({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function bt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=mt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function wt(e,t){null!=(t=t.checked)&&gt(e,"checked",t,!1)}function Et(e,t){wt(e,t);var n=mt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ct(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ct(e,t.type,mt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function St(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ct(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vt,yt);dt[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vt,yt);dt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vt,yt);dt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),dt.tabIndex=new ht("tabIndex",1,!1,"tabindex",null);var Tt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ot(e,t,n){return(e=ue.getPooled(Tt.change,e,t,n)).type="change",Ae(n),q(e),e}var kt=null,xt=null;function Pt(e){A(e)}function At(e){if(Ve(M(e)))return e}function It(e,t){if("change"===e)return t}var Rt=!1;function jt(){kt&&(kt.detachEvent("onpropertychange",Nt),xt=kt=null)}function Nt(e){"value"===e.propertyName&&At(xt)&&De(Pt,e=Ot(xt,e,Ue(e)))}function Ft(e,t,n){"focus"===e?(jt(),xt=n,(kt=t).attachEvent("onpropertychange",Nt)):"blur"===e&&jt()}function Dt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return At(xt)}function Mt(e,t){if("click"===e)return At(t)}function Lt(e,t){if("input"===e||"change"===e)return At(t)}H&&(Rt=We("input")&&(!document.documentMode||9<document.documentMode));var Ut={eventTypes:Tt,_isInputEventSupported:Rt,extractEvents:function(e,t,n,r){var o=t?M(t):window,i=void 0,a=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?i=It:Le(o)?Rt?i=Lt:(i=Dt,a=Ft):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=Mt),i&&(i=i(e,t)))return Ot(i,n,r);a&&a(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Ct(o,"number",o.value)}},Wt=ue.extend({view:null,detail:null}),zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=zt[e])&&!!t[e]}function Vt(){return Bt}var qt=0,Ht=0,Kt=!1,Qt=!1,$t=Wt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=qt;return qt=e.screenX,Kt?"mousemove"===e.type?e.screenX-t:0:(Kt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ht;return Ht=e.screenY,Qt?"mousemove"===e.type?e.screenY-t:0:(Qt=!0,0)}}),Gt=$t.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Yt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Xt={eventTypes:Yt,extractEvents:function(e,t,n,r){var o="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(o&&(n.relatedTarget||n.fromElement)||!i&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=t,t=(t=n.relatedTarget||n.toElement)?N(t):null):i=null,i===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=$t,s=Yt.mouseLeave,u=Yt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Gt,s=Yt.pointerLeave,u=Yt.pointerEnter,c="pointer");var l=null==i?o:M(i);if(o=null==t?o:M(t),(e=a.getPooled(s,i,n,r)).type=c+"leave",e.target=l,e.relatedTarget=o,(n=a.getPooled(u,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=l,r=t,i&&r)e:{for(o=r,c=0,a=t=i;a;a=U(a))c++;for(a=0,u=o;u;u=U(u))a++;for(;0<c-a;)t=U(t),c--;for(;0<a-c;)o=U(o),a--;for(;c--;){if(t===o||t===o.alternate)break e;t=U(t),o=U(o)}t=null}else t=null;for(o=t,t=[];i&&i!==o&&(null===(c=i.alternate)||c!==o);)t.push(i),i=U(i);for(i=[];r&&r!==o&&(null===(c=r.alternate)||c!==o);)i.push(r),r=U(r);for(r=0;r<t.length;r++)B(t[r],"bubbled",e);for(r=i.length;0<r--;)B(i[r],"captured",n);return[e,n]}},Zt=Object.prototype.hasOwnProperty;function Jt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function en(e,t){if(Jt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Zt.call(t,n[r])||!Jt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&D("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&D("188"),1===t?null:e;for(var n=e,r=t;;){var o=n.return,i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var a=o.child;a;){if(a===n)return nn(o),e;if(a===r)return nn(o),t;a=a.sibling}D("188")}if(n.return!==r.return)n=o,r=i;else{a=!1;for(var s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}a||D("189")}}n.alternate!==r&&D("190")}return 3!==n.tag&&D("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child.return=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var on=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=ue.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=Wt.extend({relatedTarget:null});function un(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn=Wt.extend({key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=un(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ln[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vt,charCode:function(e){return"keypress"===e.type?un(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?un(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pn=$t.extend({dataTransfer:null}),hn=Wt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vt}),dn=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),vn=$t.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),yn=[["abort","abort"],[X,"animationEnd"],[Z,"animationIteration"],[J,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],gn={},mn={};function _n(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},gn[e]=t,mn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){_n(e,!0)}),yn.forEach(function(e){_n(e,!1)});var bn={eventTypes:gn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=mn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var o=mn[e];if(!o)return null;switch(e){case"keypress":if(0===un(n))return null;case"keydown":case"keyup":e=fn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=$t;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=hn;break;case X:case Z:case J:e=on;break;case ee:e=dn;break;case"scroll":e=Wt;break;case"wheel":e=vn;break;case"copy":case"cut":case"paste":e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Gt;break;default:e=ue}return q(t=e.getPooled(o,t,n,r)),t}},wn=bn.isInteractiveTopLevelEventType,En=[];function Sn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=N(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=Ue(e.nativeEvent);r=e.topLevelType;for(var i=e.nativeEvent,a=null,s=0;s<_.length;s++){var u=_[s];u&&(u=u.extractEvents(r,t,i,o))&&(a=C(a,u))}A(a)}}var Cn=!0;function Tn(e,t){if(!t)return null;var n=(wn(e)?kn:xn).bind(null,e);t.addEventListener(e,n,!1)}function On(e,t){if(!t)return null;var n=(wn(e)?kn:xn).bind(null,e);t.addEventListener(e,n,!0)}function kn(e,t){je(xn,e,t)}function xn(e,t){if(Cn){var n=Ue(t);if(null===(n=N(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),En.length){var r=En.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{De(Sn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,En.length<10&&En.push(e)}}}var Pn={},An=0,In="_reactListenersID"+(""+Math.random()).slice(2);function Rn(e){return Object.prototype.hasOwnProperty.call(e,In)||(e[In]=An++,Pn[e[In]]={}),Pn[e[In]]}function jn(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Nn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fn(e,t){var n,r=Nn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nn(r)}}function Dn(){for(var e=window,t=jn();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=jn(e.document)}return t}function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Ln=H&&"documentMode"in document&&document.documentMode<=11,Un={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wn=null,zn=null,Bn=null,Vn=!1;function qn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Vn||null==Wn||Wn!==jn(n)?null:(n="selectionStart"in(n=Wn)&&Mn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Bn&&en(Bn,n)?null:(Bn=n,(e=ue.getPooled(Un.select,zn,e,t)).type="select",e.target=Wn,q(e),e))}var Hn={eventTypes:Un,extractEvents:function(e,t,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){e:{i=Rn(i),o=u.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}o=!i}if(o)return null;switch(i=t?M(t):window,e){case"focus":(Le(i)||"true"===i.contentEditable)&&(Wn=i,zn=t,Bn=null);break;case"blur":Bn=zn=Wn=null;break;case"mousedown":Vn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Vn=!1,qn(n,r);case"selectionchange":if(Ln)break;case"keydown":case"keyup":return qn(n,r)}return null}};function Kn(e,t){var n,r;return e=m({children:void 0},t),n=t.children,r="",o.Children.forEach(n,function(e){null!=e&&(r+=e)}),(t=r)&&(e.children=t),e}function Qn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function $n(e,t){return null!=t.dangerouslySetInnerHTML&&D("91"),m({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&D("92"),Array.isArray(t)&&(t.length<=1||D("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:mt(n)}}function Yn(e,t){var n=mt(t.value),r=mt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Xn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}x.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),a=L,s=F,E=M,x.injectEventPluginsByName({SimpleEventPlugin:bn,EnterLeaveEventPlugin:Xt,ChangeEventPlugin:Ut,SelectEventPlugin:Hn,BeforeInputEventPlugin:Te});var Zn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Jn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Jn(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var tr,nr=void 0,rr=(tr=function(e,t){if(e.namespaceURI!==Zn.svg||"innerHTML"in e)e.innerHTML=t;else{for((nr=nr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=nr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return tr(e,t)})}:tr);function or(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ir={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ar=["Webkit","ms","Moz","O"];function sr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ir.hasOwnProperty(e)&&ir[e]?(""+t).trim():t+"px"}function ur(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=sr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ir).forEach(function(t){ar.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ir[e]=ir[t]})});var cr=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lr(e,t){t&&(cr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&D("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&D("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||D("61")),null!=t.style&&"object"!=typeof t.style&&D("62",""))}function fr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pr(e,t){var n=Rn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=u[t];for(var r=0;r<t.length;r++){var o=t[r];if(!n.hasOwnProperty(o)||!n[o]){switch(o){case"scroll":On("scroll",e);break;case"focus":case"blur":On("focus",e),On("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":We(o)&&On(o,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(o)&&Tn(o,e)}n[o]=!0}}}function hr(){}var dr=null,vr=null;function yr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var mr="function"==typeof setTimeout?setTimeout:void 0,_r="function"==typeof clearTimeout?clearTimeout:void 0;function br(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function wr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Er=[],Sr=-1;function Cr(e){Sr<0||(e.current=Er[Sr],Er[Sr]=null,Sr--)}function Tr(e,t){Er[++Sr]=e.current,e.current=t}var Or={},kr={current:Or},xr={current:!1},Pr=Or;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Or;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ir(e){return null!=(e=e.childContextTypes)}function Rr(e){Cr(xr),Cr(kr)}function jr(e){Cr(xr),Cr(kr)}function Nr(e,t,n){kr.current!==Or&&D("168"),Tr(kr,t),Tr(xr,n)}function Fr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||D("108",st(t)||"Unknown",o);return m({},n,r)}function Dr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Or,Pr=kr.current,Tr(kr,t),Tr(xr,xr.current),!0}function Mr(e,t,n){var r=e.stateNode;r||D("169"),n?(t=Fr(e,t,Pr),r.__reactInternalMemoizedMergedChildContext=t,Cr(xr),Cr(kr),Tr(kr,t)):Cr(xr),Tr(xr,n)}var Lr=null,Ur=null;function Wr(t){return function(e){try{return t(e)}catch(e){}}}function zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Br(e,t,n,r){return new zr(e,t,n,r)}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.firstContextDependency=e.firstContextDependency,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hr(e,t,n,r,o,i){var a=2;if("function"==typeof(r=e))Vr(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Ge:return Kr(n.children,o,i,t);case et:return Qr(n,3|o,i,t);case Ye:return Qr(n,2|o,i,t);case Xe:return(e=Br(12,n,t,4|o)).elementType=Xe,e.type=Xe,e.expirationTime=i,e;case nt:return(e=Br(13,n,t,o)).elementType=nt,e.type=nt,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ze:a=10;break e;case Je:a=9;break e;case tt:a=11;break e;case rt:a=14;break e;case ot:a=16,r=null;break e}D("130",null==e?e:typeof e,"")}return(t=Br(a,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function Kr(e,t,n,r){return(e=Br(7,e,r,t)).expirationTime=n,e}function Qr(e,t,n,r){return e=Br(8,e,r,t),t=0==(1&t)?Ye:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function $r(e,t,n){return(e=Br(6,e,null,t)).expirationTime=n,e}function Gr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),Jr(t,e)}function Xr(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:t<r&&(e.latestSuspendedTime=t),Jr(t,e)}function Zr(e,t){var n=e.earliestPendingTime;return t<n&&(t=n),t<(e=e.earliestSuspendedTime)&&(t=e),t}function Jr(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,o=t.earliestPendingTime,i=t.latestPingedTime;0===(o=0!==o?o:i)&&(0===e||r<e)&&(o=r),0!==(e=o)&&e<n&&(e=n),t.nextExpirationTimeToWorkOn=o,t.expirationTime=e}var eo=!1;function to(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function no(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ro(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function oo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function io(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,o=null;null===r&&(r=e.updateQueue=to(e.memoizedState))}else r=e.updateQueue,o=n.updateQueue,null===r?null===o?(r=e.updateQueue=to(e.memoizedState),o=n.updateQueue=to(n.memoizedState)):r=e.updateQueue=no(o):null===o&&(o=n.updateQueue=no(r));null===o||r===o?oo(r,t):null===r.lastUpdate||null===o.lastUpdate?(oo(r,t),oo(o,t)):(oo(r,t),o.lastUpdate=t)}function ao(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=to(e.memoizedState):so(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function so(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=no(t)),t}function uo(e,t,n,r,o,i){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(i,r,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(i,r,o):e))break;return m({},r,o);case 2:eo=!0}return r}function co(e,t,n,r,o){eo=!1;for(var i=(t=so(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=i;null!==u;){var l=u.expirationTime;l<o?(null===a&&(a=u,i=c),s<l&&(s=l)):(c=uo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,(u.nextEffect=null)===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<o?(null===l&&(l=u,null===a&&(i=c)),s<f&&(s=f)):(c=uo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,(u.nextEffect=null)===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(i=c),t.baseState=i,t.firstUpdate=a,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=c}function lo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),fo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,fo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function fo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&D("191",n),n.call(r)}e=e.nextEffect}}function po(e,t){return{value:e,source:t,stack:ut(t)}}var ho={current:null},vo=null,yo=null,go=null;function mo(e,t){var n=e.type._context;Tr(ho,n._currentValue),n._currentValue=t}function _o(e){var t=ho.current;Cr(ho),e.type._context._currentValue=t}function bo(e){go=yo=null,(vo=e).firstContextDependency=null}function wo(e,t){return go!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(go=e,t=1073741823),t={context:e,observedBits:t,next:null},null===yo?(null===vo&&D("293"),vo.firstContextDependency=yo=t):yo=yo.next=t),e._currentValue}var Eo={},So={current:Eo},Co={current:Eo},To={current:Eo};function Oo(e){return e===Eo&&D("174"),e}function ko(e,t){Tr(To,t),Tr(Co,e),Tr(So,Eo);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:er(null,"");break;default:t=er(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Cr(So),Tr(So,t)}function xo(e){Cr(So),Cr(Co),Cr(To)}function Po(e){Oo(To.current);var t=Oo(So.current),n=er(t,e.type);t!==n&&(Tr(Co,e),Tr(So,n))}function Ao(e){Co.current===e&&(Cr(So),Cr(Co))}function Io(e,t){if(e&&e.defaultProps)for(var n in t=m({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ro=qe.ReactCurrentOwner,jo=(new o.Component).refs;function No(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:m({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Fo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Oa(),o=ro(r=Zi(r,e));o.payload=t,null!=n&&(o.callback=n),Qi(),io(e,o),ta(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Oa(),o=ro(r=Zi(r,e));o.tag=1,o.payload=t,null!=n&&(o.callback=n),Qi(),io(e,o),ta(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Oa(),r=ro(n=Zi(n,e));r.tag=2,null!=t&&(r.callback=t),Qi(),io(e,r),ta(e,n)}};function Do(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(o,i))}function Mo(e,t,n){var r=!1,o=Or,i=t.contextType;return t=new t(n,i="object"==typeof i&&null!==i?Ro.currentDispatcher.readContext(i):(o=Ir(t)?Pr:kr.current,(r=null!=(r=t.contextTypes))?Ar(e,o):Or)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fo,(e.stateNode=t)._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fo.enqueueReplaceState(t,t.state,null)}function Uo(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=jo;var i=t.contextType;o.context="object"==typeof i&&null!==i?Ro.currentDispatcher.readContext(i):Ar(e,i=Ir(t)?Pr:kr.current),null!==(i=e.updateQueue)&&(co(e,i,n,o,r),o.state=e.memoizedState),"function"==typeof(i=t.getDerivedStateFromProps)&&(No(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Fo.enqueueReplaceState(o,o.state,null),null!==(i=e.updateQueue)&&(co(e,i,n,o,r),o.state=e.memoizedState)),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var Wo=Array.isArray;function zo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&D("289"),r=n.stateNode),r||D("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===jo&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!=typeof e&&D("284"),n._owner||D("290",e)}return e}function Bo(e,t){"textarea"!==e.type&&D("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Vo(f){function p(e,t){if(f){var n=e.lastEffect;null!==n?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.effectTag=8}}function h(e,t){if(!f)return null;for(;null!==t;)p(e,t),t=t.sibling;return null}function d(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return(e=qr(e,t)).index=0,e.sibling=null,e}function v(e,t,n){return e.index=n,f?null!==(n=e.alternate)?(n=n.index)<t?(e.effectTag=2,t):n:(e.effectTag=2,t):t}function s(e){return f&&null===e.alternate&&(e.effectTag=2),e}function i(e,t,n,r){return null===t||6!==t.tag?(t=$r(n,e.mode,r)).return=e:(t=a(t,n)).return=e,t}function u(e,t,n,r){return null!==t&&t.elementType===n.type?(r=a(t,n.props)).ref=zo(e,t,n):(r=Hr(n.type,n.key,n.props,null,e.mode,r)).ref=zo(e,t,n),r.return=e,r}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Gr(n,e.mode,r)).return=e:(t=a(t,n.children||[])).return=e,t}function l(e,t,n,r,o){return null===t||7!==t.tag?(t=Kr(n,e.mode,r,o)).return=e:(t=a(t,n)).return=e,t}function y(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Qe:return(n=Hr(t.type,t.key,t.props,null,e.mode,n)).ref=zo(e,null,t),n.return=e,n;case $e:return(t=Gr(t,e.mode,n)).return=e,t}if(Wo(t)||at(t))return(t=Kr(t,e.mode,n,null)).return=e,t;Bo(e,t)}return null}function g(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:i(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Qe:return n.key===o?n.type===Ge?l(e,t,n.props.children,r,o):u(e,t,n,r):null;case $e:return n.key===o?c(e,t,n,r):null}if(Wo(n)||at(n))return null!==o?null:l(e,t,n,r,null);Bo(e,n)}return null}function m(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return i(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Qe:return e=e.get(null===r.key?n:r.key)||null,r.type===Ge?l(t,e,r.props.children,o,r.key):u(t,e,r,o);case $e:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Wo(r)||at(r))return l(t,e=e.get(n)||null,r,o,null);Bo(t,r)}return null}return function(e,t,n,r){var o="object"==typeof n&&null!==n&&n.type===Ge&&null===n.key;o&&(n=n.props.children);var i="object"==typeof n&&null!==n;if(i)switch(n.$$typeof){case Qe:e:{for(i=n.key,o=t;null!==o;){if(o.key===i){if(7===o.tag?n.type===Ge:o.elementType===n.type){h(e,o.sibling),(t=a(o,n.type===Ge?n.props.children:n.props)).ref=zo(e,o,n),t.return=e,e=t;break e}h(e,o);break}p(e,o),o=o.sibling}e=n.type===Ge?((t=Kr(n.props.children,e.mode,r,n.key)).return=e,t):((r=Hr(n.type,n.key,n.props,null,e.mode,r)).ref=zo(e,t,n),r.return=e,r)}return s(e);case $e:e:{for(o=n.key;null!==t;){if(t.key===o){if(4===t.tag&&t.stateNode.containerInfo===n.containerInfo&&t.stateNode.implementation===n.implementation){h(e,t.sibling),(t=a(t,n.children||[])).return=e,e=t;break e}h(e,t);break}p(e,t),t=t.sibling}(t=Gr(n,e.mode,r)).return=e,e=t}return s(e)}if("string"==typeof n||"number"==typeof n)return n=""+n,s(e=((t=null!==t&&6===t.tag?(h(e,t.sibling),a(t,n)):(h(e,t),$r(n,e.mode,r))).return=e,t));if(Wo(n))return function(t,e,n,r){for(var o=null,i=null,a=e,s=e=0,u=null;null!==a&&s<n.length;s++){a.index>s?(u=a,a=null):u=a.sibling;var c=g(t,a,n[s],r);if(null===c){null===a&&(a=u);break}f&&a&&null===c.alternate&&p(t,a),e=v(c,e,s),null===i?o=c:i.sibling=c,i=c,a=u}if(s===n.length)return h(t,a),o;if(null===a){for(;s<n.length;s++)(a=y(t,n[s],r))&&(e=v(a,e,s),null===i?o=a:i.sibling=a,i=a);return o}for(a=d(t,a);s<n.length;s++)(u=m(a,t,s,n[s],r))&&(f&&null!==u.alternate&&a.delete(null===u.key?s:u.key),e=v(u,e,s),null===i?o=u:i.sibling=u,i=u);return f&&a.forEach(function(e){return p(t,e)}),o}(e,t,n,r);if(at(n))return function(t,e,n,r){var o=at(n);"function"!=typeof o&&D("150"),null==(n=o.call(n))&&D("151");for(var i=o=null,a=e,s=e=0,u=null,c=n.next();null!==a&&!c.done;s++,c=n.next()){a.index>s?(u=a,a=null):u=a.sibling;var l=g(t,a,c.value,r);if(null===l){a||(a=u);break}f&&a&&null===l.alternate&&p(t,a),e=v(l,e,s),null===i?o=l:i.sibling=l,i=l,a=u}if(c.done)return h(t,a),o;if(null===a){for(;!c.done;s++,c=n.next())null!==(c=y(t,c.value,r))&&(e=v(c,e,s),null===i?o=c:i.sibling=c,i=c);return o}for(a=d(t,a);!c.done;s++,c=n.next())null!==(c=m(a,t,s,c.value,r))&&(f&&null!==c.alternate&&a.delete(null===c.key?s:c.key),e=v(c,e,s),null===i?o=c:i.sibling=c,i=c);return f&&a.forEach(function(e){return p(t,e)}),o}(e,t,n,r);if(i&&Bo(e,n),void 0===n&&!o)switch(e.tag){case 1:case 0:D("152",(r=e.type).displayName||r.name||"Component")}return h(e,t)}}var qo=Vo(!0),Ho=Vo(!1),Ko=null,Qo=null,$o=!1;function Go(e,t){var n=Br(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Yo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Xo(e){if($o){var t=Qo;if(t){var n=t;if(!Yo(e,t)){if(!(t=br(n))||!Yo(e,t))return e.effectTag|=2,$o=!1,void(Ko=e);Go(Ko,n)}Ko=e,Qo=wr(t)}else e.effectTag|=2,$o=!1,Ko=e}}function Zo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;Ko=e}function Jo(e){if(e!==Ko)return!1;if(!$o)return Zo(e),!($o=!0);var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!gr(t,e.memoizedProps))for(t=Qo;t;)Go(e,t),t=br(t);return Zo(e),Qo=Ko?br(e.stateNode):null,!0}function ei(){Qo=Ko=null,$o=!1}var ti=qe.ReactCurrentOwner;function ni(e,t,n,r){t.child=null===e?Ho(t,null,n,r):qo(t,e.child,n,r)}function ri(e,t,n,r,o){n=n.render;var i=t.ref;return bo(t),r=n(r,i),t.effectTag|=1,ni(e,t,r,o),t.child}function oi(e,t,n,r,o,i){if(null!==e)return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:en)(o,r)&&e.ref===t.ref)?pi(e,t,i):(t.effectTag|=1,(e=qr(a,r)).ref=t.ref,(e.return=t).child=e);var a=n.type;return"function"!=typeof a||Vr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hr(n.type,null,r,null,t.mode,i)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=a,ii(e,t,a,r,o,i))}function ii(e,t,n,r,o,i){return null!==e&&o<i&&en(e.memoizedProps,r)&&e.ref===t.ref?pi(e,t,i):si(e,t,n,r,i)}function ai(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function si(e,t,n,r,o){var i=Ir(n)?Pr:kr.current;return i=Ar(t,i),bo(t),n=n(r,i),t.effectTag|=1,ni(e,t,n,o),t.child}function ui(e,t,n,r,o){if(Ir(n)){var i=!0;Dr(t)}else i=!1;if(bo(t),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Mo(t,n,r),Uo(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?Ro.currentDispatcher.readContext(c):Ar(t,c=Ir(n)?Pr:kr.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Lo(t,a,r,c),eo=!1;var p=t.memoizedState;u=a.state=p;var h=t.updateQueue;null!==h&&(co(t,h,r,a,o),u=t.memoizedState),r=s!==r||p!==u||xr.current||eo?("function"==typeof l&&(No(t,n,l,r),u=t.memoizedState),(s=eo||Do(t,n,s,r,p,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Io(t.type,s),u=a.context,c="object"==typeof(c=n.contextType)&&null!==c?Ro.currentDispatcher.readContext(c):Ar(t,c=Ir(n)?Pr:kr.current),(f="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Lo(t,a,r,c),eo=!1,u=t.memoizedState,p=a.state=u,null!==(h=t.updateQueue)&&(co(t,h,r,a,o),p=t.memoizedState),r=s!==r||u!==p||xr.current||eo?("function"==typeof l&&(No(t,n,l,r),p=t.memoizedState),(l=eo||Do(t,n,s,r,u,p,c))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),!1);return ci(e,t,n,r,i,o)}function ci(e,t,n,r,o,i){ai(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return o&&Mr(t,n,!1),pi(e,t,i);r=t.stateNode,ti.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=qo(t,e.child,null,i),t.child=qo(t,null,s,i)):ni(e,t,s,i),t.memoizedState=r.state,o&&Mr(t,n,!0),t.child}function li(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),ko(e,t.containerInfo)}function fi(e,t,n){var r=t.mode,o=t.pendingProps,i=t.memoizedState;if(0==(64&t.effectTag)){i=null;var a=!1}else i={timedOutAt:null!==i?i.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=o.fallback;e=Kr(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Kr(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=Ho(t,null,o.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,a?(n=o.fallback,o=qr(r,r.pendingProps),0==(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(o.child=a)),r=o.sibling=qr(s,n,s.expirationTime),(n=o).childExpirationTime=0,n.return=r.return=t):n=r=qo(t,r.child,o.children,n)):(s=e.child,a?(a=o.fallback,(o=Kr(null,r,0,null)).child=s,0==(1&t.mode)&&(o.child=null!==t.memoizedState?t.child.child:t.child),(r=o.sibling=Kr(a,r,n,null)).effectTag|=2,(n=o).childExpirationTime=0,n.return=r.return=t):r=n=qo(t,s,o.children,n)),t.stateNode=e.stateNode;return t.memoizedState=i,t.child=n,r}function pi(e,t,n){if(null!==e&&(t.firstContextDependency=e.firstContextDependency),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&D("153"),null!==t.child){for(n=qr(e=t.child,e.pendingProps,e.expirationTime),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function hi(e,t,n){var r=t.expirationTime;if(null!==e&&e.memoizedProps===t.pendingProps&&!xr.current&&r<n){switch(t.tag){case 3:li(t),ei();break;case 5:Po(t);break;case 1:Ir(t.type)&&Dr(t);break;case 4:ko(t,t.stateNode.containerInfo);break;case 10:mo(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&n<=r?fi(e,t,n):null!==(t=pi(e,t,n))?t.sibling:null}return pi(e,t,n)}switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var o=Ar(t,kr.current);if(bo(t),o=r(e,o),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,Ir(r)){var i=!0;Dr(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var a=r.getDerivedStateFromProps;"function"==typeof a&&No(t,r,a,e),o.updater=Fo,Uo((t.stateNode=o)._reactInternalFiber=t,r,e,n),t=ci(null,t,r,!0,i,n)}else t.tag=0,ni(null,t,o,n),t=t.child;return t;case 16:switch(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),i=t.pendingProps,e=function(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:throw t._status=0,(e=(e=t._ctor)()).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._result=e}}(o),t.type=e,o=t.tag=function(e){if("function"==typeof e)return Vr(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),i=Io(e,i),a=void 0,o){case 0:a=si(null,t,e,i,n);break;case 1:a=ui(null,t,e,i,n);break;case 11:a=ri(null,t,e,i,n);break;case 14:a=oi(null,t,e,Io(e.type,i),r,n);break;default:D("306",e,"")}return a;case 0:return r=t.type,o=t.pendingProps,si(e,t,r,o=t.elementType===r?o:Io(r,o),n);case 1:return r=t.type,o=t.pendingProps,ui(e,t,r,o=t.elementType===r?o:Io(r,o),n);case 3:return li(t),null===(r=t.updateQueue)&&D("282"),o=null!==(o=t.memoizedState)?o.element:null,co(t,r,t.pendingProps,null,n),t=(r=t.memoizedState.element)===o?(ei(),pi(e,t,n)):(o=t.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(Qo=wr(t.stateNode.containerInfo),Ko=t,o=$o=!0),o?(t.effectTag|=2,t.child=Ho(t,null,r,n)):(ni(e,t,r,n),ei()),t.child);case 5:return Po(t),null===e&&Xo(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,a=o.children,gr(r,o)?a=null:null!==i&&gr(r,i)&&(t.effectTag|=16),ai(e,t),t=1!==n&&1&t.mode&&o.hidden?(t.expirationTime=1,null):(ni(e,t,a,n),t.child);case 6:return null===e&&Xo(t),null;case 13:return fi(e,t,n);case 4:return ko(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qo(t,null,r,n):ni(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ri(e,t,r,o=t.elementType===r?o:Io(r,o),n);case 7:return ni(e,t,t.pendingProps,n),t.child;case 8:case 12:return ni(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,mo(t,i=o.value),null!==a){var s=a.value;if(0===(i=s===i&&(0!==s||1/s==1/i)||s!=s&&i!=i?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,i):1073741823))){if(a.children===o.children&&!xr.current){t=pi(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){if(null!==(s=a.firstContextDependency))do{if(s.context===r&&0!=(s.observedBits&i)){if(1===a.tag){var u=ro(n);u.tag=2,io(a,u)}a.expirationTime<n&&(a.expirationTime=n),null!==(u=a.alternate)&&u.expirationTime<n&&(u.expirationTime=n);for(var c=a.return;null!==c;){if(u=c.alternate,c.childExpirationTime<n)c.childExpirationTime=n,null!==u&&u.childExpirationTime<n&&(u.childExpirationTime=n);else{if(!(null!==u&&u.childExpirationTime<n))break;u.childExpirationTime=n}c=c.return}}u=a.child,s=s.next}while(null!==s);else u=10===a.tag&&a.type===t.type?null:a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}}ni(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,bo(t),r=r(o=wo(o,i.unstable_observedBits)),t.effectTag|=1,ni(e,t,r,n),t.child;case 14:return i=Io(o=t.type,t.pendingProps),oi(e,t,o,i=Io(o.type,i),r,n);case 15:return ii(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Io(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Ir(r)?(e=!0,Dr(t)):e=!1,bo(t),Mo(t,r,o),Uo(t,r,o,n),ci(null,t,r,!0,e,n);default:D("156")}}function di(e){e.effectTag|=4}var vi=void 0,yi=void 0,gi=void 0,mi=void 0;vi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},yi=function(){},gi=function(e,t,n,r,o){var i=e.memoizedProps;if(i!==r){var a=t.stateNode;switch(Oo(So.current),e=null,n){case"input":i=_t(a,i),r=_t(a,r),e=[];break;case"option":i=Kn(a,i),r=Kn(a,r),e=[];break;case"select":i=m({},i,{value:void 0}),r=m({},r,{value:void 0}),e=[];break;case"textarea":i=$n(a,i),r=$n(a,r),e=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(a.onclick=hr)}lr(n,r),a=n=void 0;var s=null;for(n in i)if(!r.hasOwnProperty(n)&&i.hasOwnProperty(n)&&null!=i[n])if("style"===n){var u=i[n];for(a in u)u.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(w.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=i?i[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(s||(s={}),s[a]=c[a])}else s||(e||(e=[]),e.push(n,s)),s=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(w.hasOwnProperty(n)?(null!=c&&pr(o,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}s&&(e=e||[]).push("style",s),o=e,(t.updateQueue=o)&&di(t)}},mi=function(e,t,n,r){n!==r&&di(t)};var _i="function"==typeof WeakSet?WeakSet:Set;function bi(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ut(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function wi(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Xi(t,e)}else e.current=null}function Ei(t){switch("function"==typeof Ur&&Ur(t),t.tag){case 0:case 11:case 14:case 15:var e=t.updateQueue;if(null!==e&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n.destroy;if(null!==r){var o=t;try{r()}catch(e){Xi(o,e)}}n=n.next}while(n!==e)}break;case 1:if(wi(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Xi(t,e)}break;case 5:wi(t);break;case 4:Ti(t)}}function Si(e){return 5===e.tag||3===e.tag||4===e.tag}function Ci(e){e:{for(var t=e.return;null!==t;){if(Si(t)){var n=t;break e}t=t.return}D("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:D("161")}16&n.effectTag&&(or(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Si(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child.return=n).child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)if(n)if(r){var i=t,a=o.stateNode,s=n;8===i.nodeType?i.parentNode.insertBefore(a,s):i.insertBefore(a,s)}else t.insertBefore(o.stateNode,n);else r?(a=t,s=o.stateNode,8===a.nodeType?(i=a.parentNode).insertBefore(s,a):(i=a).appendChild(s),null!=(a=a._reactRootContainer)||null!==i.onclick||(i.onclick=hr)):t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o=(o.child.return=o).child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Ti(e){for(var t=e,n=!1,r=void 0,o=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&D("160"),n.tag){case 5:r=n.stateNode,o=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var i=t,a=i;;)if(Ei(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===i)break;for(;null===a.sibling;){if(null===a.return||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}o?(i=r,a=t.stateNode,8===i.nodeType?i.parentNode.removeChild(a):i.removeChild(a)):r.removeChild(t.stateNode)}else if(4===t.tag?(r=t.stateNode.containerInfo,o=!0):Ei(t),null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function Oi(e,n){switch(n.tag){case 0:case 11:case 14:case 15:case 1:break;case 5:var t=n.stateNode;if(null!=t){var r=n.memoizedProps;e=null!==e?e.memoizedProps:r;var o=n.type,i=n.updateQueue;(n.updateQueue=null)!==i&&function(e,t,n,r,o){e[j]=o,"input"===n&&"radio"===o.type&&null!=o.name&&wt(e,o),fr(n,r),r=fr(n,o);for(var i=0;i<t.length;i+=2){var a=t[i],s=t[i+1];"style"===a?ur(e,s):"dangerouslySetInnerHTML"===a?rr(e,s):"children"===a?or(e,s):gt(e,a,s,r)}switch(n){case"input":Et(e,o);break;case"textarea":Yn(e,o);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!o.multiple,null!=(n=o.value)?Qn(e,!!o.multiple,n,!1):t!==!!o.multiple&&(null!=o.defaultValue?Qn(e,!!o.multiple,o.defaultValue,!0):Qn(e,!!o.multiple,o.multiple?[]:"",!1))}}(t,i,o,e,r)}break;case 6:null===n.stateNode&&D("162"),n.stateNode.nodeValue=n.memoizedProps;break;case 3:case 12:break;case 13:if(t=n.memoizedState,r=void 0,e=n,null===t?r=!1:(r=!0,e=n.child,0===t.timedOutAt&&(t.timedOutAt=Oa())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,r.style.display=sr("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n=(n.child.return=n).child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(t=n.updateQueue)){n.updateQueue=null;var a=n.stateNode;null===a&&(a=n.stateNode=new _i),t.forEach(function(e){var t=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Zi(t=Oa(),e),null!==(e=ea(e,t))&&(Yr(e,t),0!==(t=e.expirationTime)&&ka(e,t))}.bind(null,n,e);a.has(e)||(a.add(e),e.then(t,t))})}break;case 17:break;default:D("163")}}var ki="function"==typeof WeakMap?WeakMap:Map;function xi(e,t,n){(n=ro(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Da(r),bi(e,t)},n}function Pi(n,r,e){(e=ro(e)).tag=3;var o=n.type.getDerivedStateFromError;if("function"==typeof o){var t=r.value;e.payload=function(){return o(t)}}var i=n.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){"function"!=typeof o&&(null===Hi?Hi=new Set([this]):Hi.add(this));var e=r.value,t=r.stack;bi(n,r),this.componentDidCatch(e,{componentStack:null!==t?t:""})}),e}function Ai(e){switch(e.tag){case 1:Ir(e.type)&&Rr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return xo(),jr(),0!=(64&(t=e.effectTag))&&D("285"),e.effectTag=-2049&t|64,e;case 5:return Ao(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 4:return xo(),null;case 10:return _o(e),null;default:return null}}var Ii={readContext:wo},Ri=qe.ReactCurrentOwner,ji=1073741822,Ni=0,Fi=!1,Di=null,Mi=null,Li=0,Ui=-1,Wi=!1,zi=null,Bi=!1,Vi=null,qi=null,Hi=null;function Ki(){if(null!==Di)for(var e=Di.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Rr();break;case 3:xo(),jr();break;case 5:Ao(t);break;case 4:xo();break;case 10:_o(t)}e=e.return}Li=0,Wi=!(Ui=-1),Di=Mi=null}function Qi(){null!==qi&&(r.unstable_cancelCallback(Vi),qi())}function $i(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){e:{var o=t,i=Li,a=(t=Di=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Ir(t.type)&&Rr();break;case 3:xo(),jr(),(a=t.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==o&&null!==o.child||(Jo(t),t.effectTag&=-3),yi(t);break;case 5:Ao(t);var s=Oo(To.current);if(i=t.type,null!==o&&null!=t.stateNode)gi(o,t,i,a,s),o.ref!==t.ref&&(t.effectTag|=128);else if(a){var u=Oo(So.current);if(Jo(t)){o=(a=t).stateNode;var c=a.type,l=a.memoizedProps,f=s;switch(o[R]=a,o[j]=l,i=void 0,s=c){case"iframe":case"object":Tn("load",o);break;case"video":case"audio":for(c=0;c<te.length;c++)Tn(te[c],o);break;case"source":Tn("error",o);break;case"img":case"image":case"link":Tn("error",o),Tn("load",o);break;case"form":Tn("reset",o),Tn("submit",o);break;case"details":Tn("toggle",o);break;case"input":bt(o,l),Tn("invalid",o),pr(f,"onChange");break;case"select":o._wrapperState={wasMultiple:!!l.multiple},Tn("invalid",o),pr(f,"onChange");break;case"textarea":Gn(o,l),Tn("invalid",o),pr(f,"onChange")}for(i in lr(s,l),c=null,l)l.hasOwnProperty(i)&&(u=l[i],"children"===i?"string"==typeof u?o.textContent!==u&&(c=["children",u]):"number"==typeof u&&o.textContent!==""+u&&(c=["children",""+u]):w.hasOwnProperty(i)&&null!=u&&pr(f,i));switch(s){case"input":Be(o),St(o,l,!0);break;case"textarea":Be(o),Xn(o);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(o.onclick=hr)}i=c,a.updateQueue=i,(a=null!==i)&&di(t)}else{l=t,o=i,f=a,c=9===s.nodeType?s:s.ownerDocument,u===Zn.html&&(u=Jn(o)),u===Zn.html?"script"===o?((o=c.createElement("div")).innerHTML="<script><\/script>",c=o.removeChild(o.firstChild)):"string"==typeof f.is?c=c.createElement(o,{is:f.is}):(c=c.createElement(o),"select"===o&&f.multiple&&(c.multiple=!0)):c=c.createElementNS(u,o),(o=c)[R]=l,o[j]=a,vi(o,t,!1,!1),f=o;var p=s,h=fr(c=i,l=a);switch(c){case"iframe":case"object":Tn("load",f),s=l;break;case"video":case"audio":for(s=0;s<te.length;s++)Tn(te[s],f);s=l;break;case"source":Tn("error",f),s=l;break;case"img":case"image":case"link":Tn("error",f),Tn("load",f),s=l;break;case"form":Tn("reset",f),Tn("submit",f),s=l;break;case"details":Tn("toggle",f),s=l;break;case"input":bt(f,l),s=_t(f,l),Tn("invalid",f),pr(p,"onChange");break;case"option":s=Kn(f,l);break;case"select":f._wrapperState={wasMultiple:!!l.multiple},s=m({},l,{value:void 0}),Tn("invalid",f),pr(p,"onChange");break;case"textarea":Gn(f,l),s=$n(f,l),Tn("invalid",f),pr(p,"onChange");break;default:s=l}lr(c,s),u=void 0;var d=c,v=f,y=s;for(u in y)if(y.hasOwnProperty(u)){var g=y[u];"style"===u?ur(v,g):"dangerouslySetInnerHTML"===u?null!=(g=g?g.__html:void 0)&&rr(v,g):"children"===u?"string"==typeof g?("textarea"!==d||""!==g)&&or(v,g):"number"==typeof g&&or(v,""+g):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(w.hasOwnProperty(u)?null!=g&&pr(p,u):null!=g&&gt(v,u,g,h))}switch(c){case"input":Be(f),St(f,l,!1);break;case"textarea":Be(f),Xn(f);break;case"option":null!=l.value&&f.setAttribute("value",""+mt(l.value));break;case"select":(s=f).multiple=!!l.multiple,null!=(f=l.value)?Qn(s,!!l.multiple,f,!1):null!=l.defaultValue&&Qn(s,!!l.multiple,l.defaultValue,!0);break;default:"function"==typeof s.onClick&&(f.onclick=hr)}(a=yr(i,a))&&di(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&D("166");break;case 6:o&&null!=t.stateNode?mi(o,t,o.memoizedProps,a):("string"!=typeof a&&(null===t.stateNode&&D("166")),o=Oo(To.current),Oo(So.current),Jo(t)?(i=(a=t).stateNode,o=a.memoizedProps,i[R]=a,(a=i.nodeValue!==o)&&di(t)):(i=t,(a=(9===o.nodeType?o:o.ownerDocument).createTextNode(a))[R]=t,i.stateNode=a));break;case 11:break;case 13:if(a=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=i,Di=t;break e}a=null!==a,i=null!==o&&null!==o.memoizedState,null!==o&&!a&&i&&(null!==(o=o.child.sibling)&&(s=t.firstEffect,o.nextEffect=null!==s?(t.firstEffect=o,s):(t.firstEffect=t.lastEffect=o,null),o.effectTag=8)),(a!==i||0==(1&t.effectTag)&&a)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:xo(),yi(t);break;case 10:_o(t);break;case 9:case 14:break;case 17:Ir(t.type)&&Rr();break;default:D("156")}Di=null}if(t=e,1===Li||1!==t.childExpirationTime){for(a=0,i=t.child;null!==i;)a<(o=i.expirationTime)&&(a=o),a<(s=i.childExpirationTime)&&(a=s),i=i.sibling;t.childExpirationTime=a}if(null!==Di)return Di;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Ai(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Gi(e){var t=hi(e.alternate,e,Li);return e.memoizedProps=e.pendingProps,null===t&&(t=$i(e)),Ri.current=null,t}function Yi(t,e){Fi&&D("243"),Qi(),Fi=!0,Ri.currentDispatcher=Ii;var n=t.nextExpirationTimeToWorkOn;n===Li&&t===Mi&&null!==Di||(Ki(),Li=n,Di=qr((Mi=t).current,null),t.pendingCommitExpirationTime=0);for(var r=!1;;){try{if(e)for(;null!==Di&&!Aa();)Di=Gi(Di);else for(;null!==Di;)Di=Gi(Di)}catch(e){if(go=yo=vo=null,null===Di)r=!0,Da(e);else{null===Di&&D("271");var o=Di,i=o.return;if(null!==i){e:{var a=t,s=i,u=o,c=e;if(i=Li,u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c;c=s;var f=-1,p=-1;do{if(13===c.tag){var h=c.alternate;if(null!==h&&null!==(h=h.memoizedState)){p=10*(1073741822-h.timedOutAt);break}"number"==typeof(h=c.pendingProps.maxDuration)&&(h<=0?f=0:(-1===f||h<f)&&(f=h))}c=c.return}while(null!==c);c=s;do{if((h=13===c.tag)&&(h=void 0!==c.memoizedProps.fallback&&null===c.memoizedState),h){if(null===(s=c.updateQueue)?c.updateQueue=new Set([l]):s.add(l),0==(1&c.mode)){c.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((i=ro(1073741823)).tag=2,io(u,i))),u.expirationTime=1073741823;break e}null===(u=a.pingCache)?(u=a.pingCache=new ki,s=new Set,u.set(l,s)):void 0===(s=u.get(l))&&(s=new Set,u.set(l,s)),s.has(i)||(s.add(i),u=Ji.bind(null,a,l,i),l.then(u,u)),0<=(a=-1===f?1073741823:(-1===p&&(p=10*(1073741822-Zr(a,i))-5e3),p+f))&&Ui<a&&(Ui=a),c.effectTag|=2048,c.expirationTime=i;break e}c=c.return}while(null!==c);c=Error((st(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ut(u))}Wi=!0,c=po(c,u),a=s;do{switch(a.tag){case 3:a.effectTag|=2048,a.expirationTime=i,ao(a,i=xi(a,c,i));break e;case 1:if(l=c,f=a.type,p=a.stateNode,0==(64&a.effectTag)&&("function"==typeof f.getDerivedStateFromError||null!==p&&"function"==typeof p.componentDidCatch&&(null===Hi||!Hi.has(p)))){a.effectTag|=2048,a.expirationTime=i,ao(a,i=Pi(a,l,i));break e}}a=a.return}while(null!==a)}Di=$i(o);continue}r=!0,Da(e)}}break}if(Fi=!1,go=yo=vo=Ri.currentDispatcher=null,r)Mi=null,t.finishedWork=null;else if(null!==Di)t.finishedWork=null;else{if(null===(r=t.current.alternate)&&D("281"),Mi=null,Wi){if(o=t.latestPendingTime,i=t.latestSuspendedTime,a=t.latestPingedTime,0!==o&&o<n||0!==i&&i<n||0!==a&&a<n)return Xr(t,n),void Ta(t,r,n,t.expirationTime,-1);if(!t.didError&&e)return t.didError=!0,void Ta(t,r,n=t.nextExpirationTimeToWorkOn=n,e=t.expirationTime=1073741823,-1)}e&&-1!==Ui?(Xr(t,n),(e=10*(1073741822-Zr(t,n)))<Ui&&(Ui=e),e=10*(1073741822-Oa()),e=Ui-e,Ta(t,r,n,t.expirationTime,e<0?0:e)):(t.pendingCommitExpirationTime=n,t.finishedWork=r)}}function Xi(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hi||!Hi.has(r)))return io(n,e=Pi(n,e=po(t,e),1073741823)),void ta(n,1073741823);break;case 3:return io(n,e=xi(n,e=po(t,e),1073741823)),void ta(n,1073741823)}n=n.return}3===e.tag&&(io(e,n=xi(e,n=po(t,e),1073741823)),ta(e,1073741823))}function Zi(e,t){return 0!==Ni?e=Ni:Fi?e=Bi?1073741823:Li:1&t.mode?(e=va?1073741822-10*(1+((1073741822-e+15)/10|0)):1073741822-25*(1+((1073741822-e+500)/25|0)),null!==Mi&&e===Li&&--e):e=1073741823,va&&(0===la||e<la)&&(la=e),e}function Ji(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==Mi&&Li===n?Mi=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&r<=n&&(e.didError=!1,(0===(t=e.latestPingedTime)||n<t)&&(e.latestPingedTime=n),Jr(n,e),0!==(n=e.expirationTime)&&ka(e,n)))}function ea(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return o}function ta(e,t){null!==(e=ea(e,t))&&(!Fi&&0!==Li&&Li<t&&Ki(),Yr(e,t),Fi&&!Bi&&Mi===e||ka(e,e.expirationTime),ba<wa&&(wa=0,D("185")))}function na(e,t,n,r,o){var i=Ni;Ni=1073741823;try{return e(t,n,r,o)}finally{Ni=i}}var ra=null,oa=null,ia=0,aa=void 0,sa=!1,ua=null,ca=0,la=0,fa=!1,pa=null,ha=!1,da=!1,va=!1,ya=null,ga=r.unstable_now(),ma=1073741822-(ga/10|0),_a=ma,ba=50,wa=0,Ea=null;function Sa(){ma=1073741822-((r.unstable_now()-ga)/10|0)}function Ca(e,t){if(0!==ia){if(t<ia)return;null!==aa&&r.unstable_cancelCallback(aa)}ia=t,e=r.unstable_now()-ga,aa=r.unstable_scheduleCallback(Ia,{timeout:10*(1073741822-t)-e})}function Ta(e,t,n,r,o){e.expirationTime=r,0!==o||Aa()?0<o&&(e.timeoutHandle=mr(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,Sa(),_a=ma,ja(e,n)}.bind(null,e,t,n),o)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Oa(){return sa||(xa(),0!==ca&&1!==ca||(Sa(),_a=ma)),_a}function ka(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===oa?(ra=oa=e,e.nextScheduledRoot=e):(oa=oa.nextScheduledRoot=e).nextScheduledRoot=ra):t>e.expirationTime&&(e.expirationTime=t),sa||(ha?da&&Na(ua=e,ca=1073741823,!1):1073741823===t?Ra(1073741823,!1):Ca(e,t))}function xa(){var e=0,t=null;if(null!==oa)for(var n=oa,r=ra;null!==r;){var o=r.expirationTime;if(0===o){if((null===n||null===oa)&&D("244"),r===r.nextScheduledRoot){ra=oa=r.nextScheduledRoot=null;break}if(r===ra)ra=o=r.nextScheduledRoot,oa.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===oa){(oa=n).nextScheduledRoot=ra,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(e<o&&(e=o,t=r),r===oa)break;if(1073741823===e)break;r=(n=r).nextScheduledRoot}}ua=t,ca=e}var Pa=!1;function Aa(){return!!Pa||!!r.unstable_shouldYield()&&(Pa=!0)}function Ia(){try{if(!Aa()&&null!==ra){Sa();var e=ra;do{var t=e.expirationTime;0!==t&&ma<=t&&(e.nextExpirationTimeToWorkOn=ma),e=e.nextScheduledRoot}while(e!==ra)}Ra(0,!0)}finally{Pa=!1}}function Ra(e,t){if(xa(),t)for(Sa(),_a=ma;null!==ua&&0!==ca&&e<=ca&&!(Pa&&ca<ma);)Na(ua,ca,ca<ma),xa(),Sa(),_a=ma;else for(;null!==ua&&0!==ca&&e<=ca;)Na(ua,ca,!1),xa();if(t&&(ia=0,aa=null),0!==ca&&Ca(ua,ca),wa=0,(Ea=null)!==ya)for(e=ya,ya=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){fa||(fa=!0,pa=e)}}if(fa)throw e=pa,pa=null,fa=!1,e}function ja(e,t){sa&&D("253"),Na(ua=e,ca=t,!1),Ra(1073741823,!1)}function Na(e,t,n){if(sa&&D("245"),sa=!0,n){var r=e.finishedWork;null!==r?Fa(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,_r(r)),Yi(e,n),null!==(r=e.finishedWork)&&(Aa()?e.finishedWork=r:Fa(e,r,t)))}else null!==(r=e.finishedWork)?Fa(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,_r(r)),Yi(e,n),null!==(r=e.finishedWork)&&Fa(e,r,t));sa=!1}function Fa(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===ya?ya=[r]:ya.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===Ea?wa++:(Ea=e,wa=0),Bi=Fi=!0,e.current===t&&D("177"),0===(n=e.pendingCommitExpirationTime)&&D("261"),e.pendingCommitExpirationTime=0,r=t.expirationTime;var o=t.childExpirationTime;if(r=r<o?o:r,e.didError=!1,0===r?(e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0):(r<e.latestPingedTime&&(e.latestPingedTime=0),0!==(o=e.latestPendingTime)&&(r<o?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>r&&(e.earliestPendingTime=e.latestPendingTime)),0===(o=e.earliestSuspendedTime)?Yr(e,r):r<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Yr(e,r)):o<r&&Yr(e,r)),Jr(0,e),Ri.current=null,r=1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t).firstEffect:t:t.firstEffect,dr=Cn,Mn(o=Dn())){if("selectionStart"in o)var i={start:o.selectionStart,end:o.selectionEnd};else e:{var a=(i=(i=o.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(a&&0!==a.rangeCount){i=a.anchorNode;var s=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{i.nodeType,u.nodeType}catch(e){i=null;break e}var c=0,l=-1,f=-1,p=0,h=0,d=o,v=null;t:for(;;){for(var y;d!==i||0!==s&&3!==d.nodeType||(l=c+s),d!==u||0!==a&&3!==d.nodeType||(f=c+a),3===d.nodeType&&(c+=d.nodeValue.length),null!==(y=d.firstChild);)v=d,d=y;for(;;){if(d===o)break t;if(v===i&&++p===s&&(l=c),v===u&&++h===a&&(f=c),null!==(y=d.nextSibling))break;v=(d=v).parentNode}d=y}i=-1===l||-1===f?null:{start:l,end:f}}else i=null}i=i||{start:0,end:0}}else i=null;for(Cn=!(vr={focusedElem:o,selectionRange:i}),zi=r;null!==zi;){o=!1,i=void 0;try{for(;null!==zi;){if(256&zi.effectTag)e:{var g=zi.alternate;switch((s=zi).tag){case 0:case 11:case 15:break e;case 1:if(256&s.effectTag&&null!==g){var m=g.memoizedProps,_=g.memoizedState,b=s.stateNode,w=b.getSnapshotBeforeUpdate(s.elementType===s.type?m:Io(s.type,m),_);b.__reactInternalSnapshotBeforeUpdate=w}break e;case 3:case 5:case 6:case 4:case 17:break e;default:D("163")}}zi=zi.nextEffect}}catch(e){o=!0,i=e}o&&(null===zi&&D("178"),Xi(zi,i),null!==zi&&(zi=zi.nextEffect))}for(zi=r;null!==zi;){g=!1,m=void 0;try{for(;null!==zi;){var E=zi.effectTag;if(16&E&&or(zi.stateNode,""),128&E){var S=zi.alternate;if(null!==S){var C=S.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(14&E){case 2:Ci(zi),zi.effectTag&=-3;break;case 6:Ci(zi),zi.effectTag&=-3,Oi(zi.alternate,zi);break;case 4:Oi(zi.alternate,zi);break;case 8:Ti(_=zi),_.return=null,_.child=null,_.memoizedState=null,_.updateQueue=null;var T=_.alternate;null!==T&&(T.return=null,T.child=null,T.memoizedState=null,T.updateQueue=null)}zi=zi.nextEffect}}catch(e){g=!0,m=e}g&&(null===zi&&D("178"),Xi(zi,m),null!==zi&&(zi=zi.nextEffect))}if(C=vr,S=Dn(),E=C.focusedElem,g=C.selectionRange,S!==E&&E&&E.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(E.ownerDocument.documentElement,E)){null!==g&&Mn(E)&&(S=g.start,void 0===(C=g.end)&&(C=S),"selectionStart"in E?(E.selectionStart=S,E.selectionEnd=Math.min(C,E.value.length)):(C=(S=E.ownerDocument||document)&&S.defaultView||window).getSelection&&(C=C.getSelection(),m=E.textContent.length,T=Math.min(g.start,m),g=void 0===g.end?T:Math.min(g.end,m),!C.extend&&g<T&&(m=g,g=T,T=m),m=Fn(E,T),_=Fn(E,g),m&&_&&(1!==C.rangeCount||C.anchorNode!==m.node||C.anchorOffset!==m.offset||C.focusNode!==_.node||C.focusOffset!==_.offset)&&((S=S.createRange()).setStart(m.node,m.offset),C.removeAllRanges(),g<T?(C.addRange(S),C.extend(_.node,_.offset)):(S.setEnd(_.node,_.offset),C.addRange(S))))),S=[];for(C=E;C=C.parentNode;)1===C.nodeType&&S.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof E.focus&&E.focus(),E=0;E<S.length;E++)(C=S[E]).element.scrollLeft=C.left,C.element.scrollTop=C.top}for(Cn=!!dr,dr=vr=null,e.current=t,zi=r;null!==zi;){r=!1,E=void 0;try{for(S=n;null!==zi;){var O=zi.effectTag;if(36&O){var k=zi.alternate;switch(T=S,(C=zi).tag){case 0:case 11:case 15:break;case 1:var x=C.stateNode;if(4&C.effectTag)if(null===k)x.componentDidMount();else{var P=C.elementType===C.type?k.memoizedProps:Io(C.type,k.memoizedProps);x.componentDidUpdate(P,k.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var A=C.updateQueue;null!==A&&lo(0,A,x);break;case 3:var I=C.updateQueue;if(null!==I){if((g=null)!==C.child)switch(C.child.tag){case 5:g=C.child.stateNode;break;case 1:g=C.child.stateNode}lo(0,I,g)}break;case 5:var R=C.stateNode;null===k&&4&C.effectTag&&yr(C.type,C.memoizedProps)&&R.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:D("163")}}if(128&O){var j=zi.ref;if(null!==j){var N=zi.stateNode;switch(zi.tag){case 5:var F=N;break;default:F=N}"function"==typeof j?j(F):j.current=F}}zi=zi.nextEffect}}catch(e){r=!0,E=e}r&&(null===zi&&D("178"),Xi(zi,E),null!==zi&&(zi=zi.nextEffect))}Fi=Bi=!1,"function"==typeof Lr&&Lr(t.stateNode),0===(t=(O=t.expirationTime)<(t=t.childExpirationTime)?t:O)&&(Hi=null),e.expirationTime=t,e.finishedWork=null}function Da(e){null===ua&&D("246"),ua.expirationTime=0,fa||(fa=!0,pa=e)}function Ma(e,t){var n=ha;ha=!0;try{return e(t)}finally{(ha=n)||sa||Ra(1073741823,!1)}}function La(e,t){if(ha&&!da){da=!0;try{return e(t)}finally{da=!1}}return e(t)}function Ua(e,t,n){if(va)return e(t,n);ha||sa||0===la||(Ra(la,!1),la=0);var r=va,o=ha;ha=va=!0;try{return e(t,n)}finally{va=r,(ha=o)||sa||Ra(1073741823,!1)}}function Wa(e,t,n,r,o){var i=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||D("170");var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Ir(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);D("171"),a=void 0}if(1===n.tag){var s=n.type;if(Ir(s)){n=Fr(n,s,a);break e}}n=a}else n=Or;return null===t.context?t.context=n:t.pendingContext=n,t=o,(o=ro(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),Qi(),io(i,o),ta(i,r),r}function za(e,t,n,r){var o=t.current;return Wa(e,t,n,o=Zi(Oa(),o),r)}function Ba(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Va(e){var t=1073741822-25*(1+((1073741822-Oa()+500)/25|0));ji<=t&&(t=ji-1),this._expirationTime=ji=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function qa(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ha(e,t,n){e={current:t=Br(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Ka(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qa(e,t,n,r,o){Ka(n)||D("200");var i=n._reactRootContainer;if(i){if("function"==typeof o){var a=o;o=function(){var e=Ba(i._internalRoot);a.call(e)}}null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ha(e,!1,t)}(n,r),"function"==typeof o){var s=o;o=function(){var e=Ba(i._internalRoot);s.call(e)}}La(function(){null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)})}return Ba(i._internalRoot)}function $a(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Ka(t)||D("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$e,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Oe=function(e,t,n){switch(t){case"input":if(Et(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=L(r);o||D("90"),Ve(r),Et(r,o)}}}break;case"textarea":Yn(e,n);break;case"select":null!=(t=n.value)&&Qn(e,!!n.multiple,t,!1)}},Va.prototype.render=function(e){this._defer||D("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new qa;return Wa(e,t,null,n,r._onCommit),r},Va.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Va.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||D("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,o=t;o!==this;)o=(r=o)._next;null===r&&D("251"),r._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,ja(e,n),t=this._next,(this._next=null)!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Va.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},qa.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},qa.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&D("191",n),n()}}},Ha.prototype.render=function(e,t){var n=this._internalRoot,r=new qa;return null!==(t=void 0===t?null:t)&&r.then(t),za(e,n,null,r._onCommit),r},Ha.prototype.unmount=function(e){var t=this._internalRoot,n=new qa;return null!==(e=void 0===e?null:e)&&n.then(e),za(null,t,null,n._onCommit),n},Ha.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,o=new qa;return null!==(n=void 0===n?null:n)&&o.then(n),za(t,r,e,o._onCommit),o},Ha.prototype.createBatch=function(){var e=new Va(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)(n.firstBatch=e)._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)r=(n=r)._next;e._next=r,null!==n&&(n._next=e)}return e},Ne=function(){sa||0===la||(Ra(la,!1),la=0)};var Ga,Ya,Xa={createPortal:$a,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?D("188"):D("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return Qa(null,e,t,!0,n)},render:function(e,t,n){return Qa(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&D("38"),Qa(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Ka(e)||D("40"),!!e._reactRootContainer&&(La(function(){Qa(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return $a.apply(void 0,arguments)},unstable_batchedUpdates:Re=Ma,unstable_interactiveUpdates:je=Ua,flushSync:function(e,t){sa&&D("187");var n=ha;ha=!0;try{return na(e,t)}finally{ha=n,Ra(1073741823,!1)}},unstable_createRoot:function(e,t){return Ka(e)||D("299","unstable_createRoot"),new Ha(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=ha;ha=!0;try{na(e)}finally{(ha=t)||sa||Ra(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[F,M,L,x.injectEventPluginsByName,b,q,function(e){T(e,V)},Ae,Ie,xn,A]}};Ya=(Ga={findFiberByHostInstance:N,bundleType:0,version:"16.7.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return;try{var n=t.inject(e);Lr=Wr(function(e){return t.onCommitFiberRoot(n,e)}),Ur=Wr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}}(m({},Ga,{overrideProps:null,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Ya?Ya(e):null}}));var Za=Xa;e.exports=Za.default||Za},function(e,t,n){"use strict";e.exports=n(71)},function(e,U,t){"use strict";(function(e){
/** @license React v0.12.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(U,"__esModule",{value:!0});var a=null,r=!1,s=3,o=-1,u=-1,i=!1,c=!1;function l(){if(!i){var e=a.expirationTime;c?E():c=!0,w(t,e)}}function f(){var e=a,t=a.next;if(a===t)a=null;else{var n=a.previous;a=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var r=s,o=u;s=e,u=t;try{var i=n()}finally{s=r,u=o}if("function"==typeof i)if(i={callback:i,priorityLevel:e,expirationTime:t,next:null,previous:null},null===a)a=i.next=i.previous=i;else{n=null,e=a;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==a);null===n?n=a:n===a&&(a=i,l()),(t=n.previous).next=n.previous=i,i.next=n,i.previous=t}}function p(){if(-1===o&&null!==a&&1===a.priorityLevel){i=!0;try{for(;f(),null!==a&&1===a.priorityLevel;);}finally{i=!1,null!==a?l():c=!1}}}function t(e){i=!0;var t=r;r=e;try{if(e)for(;null!==a;){var n=U.unstable_now();if(!(a.expirationTime<=n))break;for(;f(),null!==a&&a.expirationTime<=n;);}else if(null!==a)for(;f(),null!==a&&!S(););}finally{i=!1,r=t,null!==a?l():c=!1,p()}}var n,h,d=Date,v="function"==typeof setTimeout?setTimeout:void 0,y="function"==typeof clearTimeout?clearTimeout:void 0,g="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,m="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function _(t){n=g(function(e){y(h),t(e)}),h=v(function(){m(n),t(U.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var b=performance;U.unstable_now=function(){return b.now()}}else U.unstable_now=function(){return d.now()};var w,E,S,C=null;if("undefined"!=typeof window?C=window:void 0!==e&&(C=e),C&&C._schedMock){var T=C._schedMock;w=T[0],E=T[1],S=T[2],U.unstable_now=T[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var O=null,k=function(e){if(null!==O)try{O(e)}finally{O=null}};w=function(e){null!==O?setTimeout(w,0,e):(O=e,setTimeout(k,0,!1))},E=function(){O=null},S=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var x=null,P=!1,A=-1,I=!1,R=!1,j=0,N=33,F=33;S=function(){return j<=U.unstable_now()};var D=new MessageChannel,M=D.port2;D.port1.onmessage=function(){P=!1;var e=x,t=A;x=null,A=-1;var n=U.unstable_now(),r=!1;if(j-n<=0){if(!(-1!==t&&t<=n))return I||(I=!0,_(L)),x=e,void(A=t);r=!0}if(null!==e){R=!0;try{e(r)}finally{R=!1}}};var L=function(e){if(null!==x){_(L);var t=e-j+F;t<F&&N<F?(t<8&&(t=8),F=t<N?N:t):N=t,j=e+F,P||(P=!0,M.postMessage(void 0))}else I=!1};w=function(e,t){x=e,A=t,R||t<0?M.postMessage(void 0):I||(I=!0,_(L))},E=function(){x=null,P=!1,A=-1}}U.unstable_ImmediatePriority=1,U.unstable_UserBlockingPriority=2,U.unstable_NormalPriority=3,U.unstable_IdlePriority=5,U.unstable_LowPriority=4,U.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=s,r=o;s=e,o=U.unstable_now();try{return t()}finally{s=n,o=r,p()}},U.unstable_scheduleCallback=function(e,t){var n=-1!==o?o:U.unstable_now();if("object"==typeof t&&null!==t&&"number"==typeof t.timeout)t=n+t.timeout;else switch(s){case 1:t=n+-1;break;case 2:t=n+250;break;case 5:t=n+1073741823;break;case 4:t=n+1e4;break;default:t=n+5e3}if(e={callback:e,priorityLevel:s,expirationTime:t,next:null,previous:null},null===a)a=e.next=e.previous=e,l();else{n=null;var r=a;do{if(r.expirationTime>t){n=r;break}r=r.next}while(r!==a);null===n?n=a:n===a&&(a=e,l()),(t=n.previous).next=n.previous=e,e.next=n,e.previous=t}return e},U.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)a=null;else{e===a&&(a=t);var n=e.previous;(n.next=t).previous=n}e.next=e.previous=null}},U.unstable_wrapCallback=function(n){var r=s;return function(){var e=s,t=o;s=r,o=U.unstable_now();try{return n.apply(this,arguments)}finally{s=e,o=t,p()}}},U.unstable_getCurrentPriorityLevel=function(){return s},U.unstable_shouldYield=function(){return!r&&(null!==a&&a.expirationTime<u||S())},U.unstable_continueExecution=function(){null!==a&&l()},U.unstable_pauseExecution=function(){},U.unstable_getFirstCallbackNode=function(){return a}}).call(this,t(7))},function(e,t,n){"use strict";n.r(t);n(73),n(74),n(77),n(82),n(84),n(89),n(94),n(97),n(109)},function(e,t){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,a="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,o="ArrayBuffer"in e;if(o)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&-1<i.indexOf(Object.prototype.toString.call(e))};d.prototype.append=function(e,t){e=f(e),t=p(t);var n=this.map[e];this.map[e]=n?n+","+t:t},d.prototype.delete=function(e){delete this.map[f(e)]},d.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},d.prototype.set=function(e,t){this.map[f(e)]=p(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),h(n)},d.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),h(t)},d.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),h(n)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},_.call(b.prototype),_.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var l=[301,302,303,307,308];E.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=d,e.Request=b,e.Response=E,e.fetch=function(n,o){return new Promise(function(r,e){var t=new b(n,o),i=new XMLHttpRequest;i.onload=function(){var e,o,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",o=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();o.append(n,r)}}),o)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var n="response"in i?i.response:i.responseText;r(new E(n,t))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&a&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})},e.fetch.polyfill=!0}function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!=typeof e&&(e=String(e)),e}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function v(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function g(e){var t=new FileReader,n=y(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(a&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(r&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&a&&s(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=v(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=y(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function b(e,t){var n,r,o=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),-1<c.indexOf(r)?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function w(e){var o=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),n=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");o.append(decodeURIComponent(n),decodeURIComponent(r))}}),o}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";(function(t,e){var n=setTimeout;function r(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function o(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn(function(){var e=1===n._state?r.onFulfilled:r.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void s(r.promise,e)}a(r.promise,t)}else(1===n._state?a:s)(r.promise,n._value)})):n._deferreds.push(r)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void l((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,u(t)}catch(e){s(t,e)}var r,o}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new c(e,t,n)),n},i.prototype.finally=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})},i.all=function(t){return new i(function(r,o){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return r([]);var a=i.length;function s(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){s(t,e)},o)}i[t]=e,0==--a&&r(i)}catch(e){o(e)}}for(var e=0;e<i.length;e++)s(e,i[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(o){return new i(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},i._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){n(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var f=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();f.Promise||(f.Promise=i)}).call(this,n(75).setImmediate,n(7))},function(e,o,i){(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}o.setTimeout=function(){return new r(n.call(setTimeout,t,arguments),clearTimeout)},o.setInterval=function(){return new r(n.call(setInterval,t,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(t,this._id)},o.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},o.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},o._unrefActive=o.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(76),o.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(7))},function(e,t,n){(function(e,d){!function(n,r){"use strict";if(!n.setImmediate){var o,i,t,a,e,s=1,u={},c=!1,l=n.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(n);f=f&&f.setTimeout?f:n,o="[object process]"==={}.toString.call(n.process)?function(e){d.nextTick(function(){h(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(a="setImmediate$"+Math.random()+"$",e=function(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},n.addEventListener?n.addEventListener("message",e,!1):n.attachEvent("onmessage",e),function(e){n.postMessage(a+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){t.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):function(e){setTimeout(h,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[s]=r,o(s),s++},f.clearImmediate=p}function p(e){delete u[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(7),n(33))},function(e,t,n){n(78),e.exports=n(12).Array.find},function(e,t,n){"use strict";var r=n(13),o=n(55)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),n(39)("find")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(81);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(15),o=n(56),i=n(8)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){n(83),e.exports=n(12).Array.findIndex},function(e,t,n){"use strict";var r=n(13),o=n(55)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),n(39)(i)},function(e,t,n){n(85),e.exports=n(12).Object.assign},function(e,t,n){var r=n(13);r(r.S+r.F,"Object",{assign:n(86)})},function(e,t,n){"use strict";var p=n(27),h=n(42),d=n(32),v=n(36),y=n(35),o=Object.assign;e.exports=!o||n(23)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=o({},e)[n]||Object.keys(o({},t)).join("")!=r})?function(e,t){for(var n=v(e),r=arguments.length,o=1,i=h.f,a=d.f;o<r;)for(var s,u=y(arguments[o++]),c=i?p(u).concat(i(u)):p(u),l=c.length,f=0;f<l;)a.call(u,s=c[f++])&&(n[s]=u[s]);return n}:o},function(e,t,n){var u=n(20),c=n(37),l=n(88);e.exports=function(s){return function(e,t,n){var r,o=u(e),i=c(o.length),a=l(n,i);if(s&&t!=t){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((s||a in o)&&o[a]===t)return s||a||0;return!s&&-1}}},function(e,t,n){var r=n(31),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){n(90),e.exports=n(12).String.startsWith},function(e,t,n){"use strict";var r=n(13),o=n(37),i=n(91),a="startsWith",s=""[a];r(r.P+r.F*n(93)(a),"String",{startsWith:function(e){var t=i(this,e,a),n=o(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(92),o=n(26);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(15),o=n(30),i=n(8)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(8)("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(e){}}return!0}},function(e,t,n){n(95),e.exports=n(12).String.repeat},function(e,t,n){var r=n(13);r(r.P,"String",{repeat:n(96)})},function(e,t,n){"use strict";var o=n(31),i=n(26);e.exports=function(e){var t=String(i(this)),n="",r=o(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},function(e,t,n){n(98),n(105),n(107),n(108),e.exports=n(12).Symbol},function(e,t,n){"use strict";var r=n(11),a=n(16),o=n(19),i=n(13),s=n(24),u=n(99).KEY,c=n(23),l=n(38),f=n(43),p=n(25),h=n(8),d=n(44),v=n(45),y=n(100),g=n(56),m=n(28),_=n(15),b=n(20),w=n(34),E=n(29),S=n(58),C=n(103),T=n(104),O=n(18),k=n(27),x=T.f,P=O.f,A=C.f,I=r.Symbol,R=r.JSON,j=R&&R.stringify,N="prototype",F=h("_hidden"),D=h("toPrimitive"),M={}.propertyIsEnumerable,L=l("symbol-registry"),U=l("symbols"),W=l("op-symbols"),z=Object[N],B="function"==typeof I,V=r.QObject,q=!V||!V[N]||!V[N].findChild,H=o&&c(function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=x(z,t);r&&delete z[t],P(e,t,n),r&&e!==z&&P(z,t,r)}:P,K=function(e){var t=U[e]=S(I[N]);return t._k=e,t},Q=B&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},$=function(e,t,n){return e===z&&$(W,t,n),m(e),t=w(t,!0),m(n),a(U,t)?(n.enumerable?(a(e,F)&&e[F][t]&&(e[F][t]=!1),n=S(n,{enumerable:E(0,!1)})):(a(e,F)||P(e,F,E(1,{})),e[F][t]=!0),H(e,t,n)):P(e,t,n)},G=function(e,t){m(e);for(var n,r=y(t=b(t)),o=0,i=r.length;o<i;)$(e,n=r[o++],t[n]);return e},Y=function(e){var t=M.call(this,e=w(e,!0));return!(this===z&&a(U,e)&&!a(W,e))&&(!(t||!a(this,e)||!a(U,e)||a(this,F)&&this[F][e])||t)},X=function(e,t){if(e=b(e),t=w(t,!0),e!==z||!a(U,t)||a(W,t)){var n=x(e,t);return!n||!a(U,t)||a(e,F)&&e[F][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=A(b(e)),r=[],o=0;n.length>o;)a(U,t=n[o++])||t==F||t==u||r.push(t);return r},J=function(e){for(var t,n=e===z,r=A(n?W:b(e)),o=[],i=0;r.length>i;)!a(U,t=r[i++])||n&&!a(z,t)||o.push(U[t]);return o};B||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=p(0<arguments.length?arguments[0]:void 0),n=function(e){this===z&&n.call(W,e),a(this,F)&&a(this[F],t)&&(this[F][t]=!1),H(this,t,E(1,e))};return o&&q&&H(z,t,{configurable:!0,set:n}),K(t)})[N],"toString",function(){return this._k}),T.f=X,O.f=$,n(59).f=C.f=Z,n(32).f=Y,n(42).f=J,o&&!n(46)&&s(z,"propertyIsEnumerable",Y,!0),d.f=function(e){return K(h(e))}),i(i.G+i.W+i.F*!B,{Symbol:I});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ne=k(h.store),re=0;ne.length>re;)v(ne[re++]);i(i.S+i.F*!B,"Symbol",{for:function(e){return a(L,e+="")?L[e]:L[e]=I(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),i(i.S+i.F*!B,"Object",{create:function(e,t){return void 0===t?S(e):G(S(e),t)},defineProperty:$,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),R&&i(i.S+i.F*(!B||c(function(){var e=I();return"[null]"!=j([e])||"{}"!=j({a:e})||"{}"!=j(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(_(t)||void 0!==e)&&!Q(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),r[1]=t,j.apply(R,r)}}),I[N][D]||n(14)(I[N],D,I[N].valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(25)("meta"),o=n(15),i=n(16),a=n(18).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(23)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!i(e,r)&&l(e),e}}},function(e,t,n){var s=n(27),u=n(42),c=n(32);e.exports=function(e){var t=s(e),n=u.f;if(n)for(var r,o=n(e),i=c.f,a=0;o.length>a;)i.call(e,r=o[a++])&&t.push(r);return t}},function(e,t,n){var a=n(18),s=n(28),u=n(27);e.exports=n(19)?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),o=r.length,i=0;i<o;)a.f(e,n=r[i++],t[n]);return e}},function(e,t,n){var r=n(11).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(20),o=n(59).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(32),o=n(29),i=n(20),a=n(34),s=n(16),u=n(52),c=Object.getOwnPropertyDescriptor;t.f=n(19)?c:function(e,t){if(e=i(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r=n(106),o={};o[n(8)("toStringTag")]="z",o+""!="[object z]"&&n(24)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var o=n(30),i=n(8)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){n(45)("asyncIterator")},function(e,t,n){n(45)("observable")},function(e,t,n){n(110),n(114),e.exports=n(44).f("iterator")},function(e,t,n){"use strict";var r=n(111)(!0);n(60)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var u=n(31),c=n(26);e.exports=function(s){return function(e,t){var n,r,o=String(c(e)),i=u(t),a=o.length;return i<0||a<=i?s?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?s?o.charAt(i):n:s?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(58),o=n(29),i=n(43),a={};n(14)(a,n(8)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(16),o=n(36),i=n(40)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){for(var r=n(115),o=n(27),i=n(24),a=n(11),s=n(14),u=n(47),c=n(8),l=c("iterator"),f=c("toStringTag"),p=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=o(h),v=0;v<d.length;v++){var y,g=d[v],m=h[g],_=a[g],b=_&&_.prototype;if(b&&(b[l]||s(b,l,p),b[f]||s(b,f,g),u[g]=p,m))for(y in r)b[y]||i(b,y,r[y],!0)}},function(e,t,n){"use strict";var r=n(39),o=n(116),i=n(47),a=n(20);e.exports=n(60)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";n.r(t);n(118)},function(gn,mn,_n){"use strict";(function(u){Object.defineProperty(mn,"__esModule",{value:!0});var e,t,b=_n(61),n=_n(119),a=_n(62),c=(e=_n(21))&&"object"==typeof e&&"default"in e?e.default:e,r=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),b.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:b.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),o=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return b.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),i=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new r(t)}}catch(e){}return new o},l=i("localStorage"),s=i("sessionStorage"),f=new n.Logger("@firebase/database"),g=(t=1,function(){return t++}),p=function(e){var t=b.stringToByteArray(e),n=new b.Sha1;n.update(t);var r=n.digest();return b.base64.encodeByteArray(r)},h=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++)Array.isArray(e[r])||e[r]&&"object"==typeof e[r]&&"number"==typeof e[r].length?n+=h.apply(null,e[r]):"object"==typeof e[r]?n+=b.stringify(e[r]):n+=e[r],n+=" ";return n},d=null,v=!0,y=function(e,t){b.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(f.logLevel=n.LogLevel.VERBOSE,d=f.log.bind(f),t&&s.set("logging_enabled",!0)):"function"==typeof e?d=e:(d=null,s.remove("logging_enabled"))},m=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===v&&(v=!1,null===d&&!0===s.get("logging_enabled")&&y(!0)),d){var n=h.apply(null,e);d(n)}},_=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];m.apply(void 0,[n].concat(e))}},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+h.apply(void 0,e);f.error(n)},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+h.apply(void 0,e);throw f.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+h.apply(void 0,e);f.warn(n)},C=function(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",O="[MAX_NAME]",k=function(e,t){if(e===t)return 0;if(e===T||t===O)return-1;if(t===T||e===O)return 1;var n=F(e),r=F(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},x=function(e,t){return e===t?0:e<t?-1:1},P=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+b.stringify(t))},A=function(e){if("object"!=typeof e||null===e)return b.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",o=0;o<t.length;o++)0!==o&&(r+=","),r+=b.stringify(t[o]),r+=":",r+=A(e[t[o]]);return r+="}"},I=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],o=0;o<n;o+=t)n<o+t?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r},R=function(e,n){if(Array.isArray(e))for(var t=0;t<e.length;++t)n(t,e[t]);else b.forEach(e,function(e,t){return n(t,e)})},j=function(e){b.assert(!C(e),"Invalid JSON number");var t,n,r,o,i,a,s;for(0===e?t=1/e==-1/(r=n=0)?1:0:(t=e<0,r=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074)))),a=[],i=52;i;i-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(i=11;i;i-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse(),s=a.join("");var u="";for(i=0;i<64;i+=8){var c=parseInt(s.substr(i,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},N=new RegExp("^-?\\d{1,10}$"),F=function(e){if(N.test(e)){var t=Number(e);if(-2147483648<=t&&t<=2147483647)return t}return null},D=function(e){try{e()}catch(t){setTimeout(function(){var e=t.stack||"";throw S("Exception was thrown by user callback.",e),t},Math.floor(0))}},M=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},L=function(){function o(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(o,"Empty",{get:function(){return new o("")},enumerable:!0,configurable:!0}),o.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},o.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},o.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new o(this.pieces_,e)},o.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},o.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},o.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},o.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},o.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],t=this.pieceNum_;t<this.pieces_.length-1;t++)e.push(this.pieces_[t]);return new o(e,0)},o.prototype.child=function(e){for(var t=[],n=this.pieceNum_;n<this.pieces_.length;n++)t.push(this.pieces_[n]);if(e instanceof o)for(n=e.pieceNum_;n<e.pieces_.length;n++)t.push(e.pieces_[n]);else{var r=e.split("/");for(n=0;n<r.length;n++)0<r[n].length&&t.push(r[n])}return new o(t,0)},o.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},o.relativePath=function(e,t){var n=e.getFront(),r=t.getFront();if(null===n)return t;if(n===r)return o.relativePath(e.popFront(),t.popFront());throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")},o.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),o=0;o<n.length&&o<r.length;o++){var i=k(n[o],r[o]);if(0!==i)return i}return n.length===r.length?0:n.length<r.length?-1:1},o.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},o.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},o}(),U=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=b.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=b.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=b.stringLength(e),0<this.parts_.length&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),W="firebaseio.com",z="long_polling",B=function(){function e(e,t,n,r,o){void 0===o&&(o=""),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=o,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=l.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&l.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(b.assert("string"==typeof e,"typeof type must == string"),b.assert("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==z)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return b.forEach(t,function(e,t){r.push(e+"="+t)}),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();var V,q,H,K,Q,$=function(e){var t=G(e),n=t.subdomain;"firebase"===t.domain&&E(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new B(t.host,t.secure,n,r),path:new L(t.pathString)}},G=function(e){var t="",n="",r="",o="",i=!0,a="https",s=443;if("string"==typeof e){var u=e.indexOf("//");0<=u&&(a=e.substring(0,u-1),e=e.substring(u+2));var c=e.indexOf("/");-1===c&&(c=e.length);var l=e.indexOf("?");-1===l&&(l=e.length),t=e.substring(0,Math.min(c,l)),c<l&&(o=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(e){}t+="/"+o}return t}(e.substring(c,l)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));for(var n=0,r=e.split("&");n<r.length;n++){var o=r[n];if(0!==o.length){var i=o.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):S("Invalid query segment '"+o+"' in query '"+e+"'")}}return t}(e.substring(Math.min(e.length,l)));0<=(u=t.indexOf(":"))?(i="https"===a||"wss"===a,s=parseInt(t.substring(u+1),10)):u=e.length;var p=t.split(".");3===p.length?(n=p[1],r=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,u).toLowerCase()&&(n="localhost"),""===r&&"ns"in f&&(r=f.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:i,scheme:a,pathString:o}},Y=/[\[\].#$\/\u0000-\u001F\u007F]/,X=/[\[\].#$\u0000-\u001F\u007F]/,Z=10485760,J=function(e){return"string"==typeof e&&0!==e.length&&!Y.test(e)},ee=function(e){return"string"==typeof e&&0!==e.length&&!X.test(e)},te=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!C(e)||e&&"object"==typeof e&&b.contains(e,".sv")},ne=function(e,t,n,r,o){o&&void 0===n||re(b.errorPrefix(e,t,o),n,r)},re=function(n,e,t){var r=t instanceof L?new U(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(n+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(C(e))throw new Error(n+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>Z/3&&b.stringLength(e)>Z)throw new Error(n+"contains a string greater than "+Z+" utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,i=!1;if(b.forEach(e,function(e,t){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(i=!0,!J(e)))throw new Error(n+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),re(n,t,r),r.pop()}),o&&i)throw new Error(n+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},oe=function(e,t,n,r,o){if(!o||void 0!==n){var i=b.errorPrefix(e,t,o);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(i+" must be an object containing the children to replace.");var a=[];b.forEach(n,function(e,t){var n=new L(e);if(re(i,t,r.child(n)),".priority"===n.getBack()&&!te(t))throw new Error(i+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var o=(r=t[n]).slice(),i=0;i<o.length;i++)if(".priority"===o[i]&&i===o.length-1);else if(!J(o[i]))throw new Error(e+"contains an invalid key ("+o[i]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(L.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},ie=function(e,t,n,r){if(!r||void 0!==n){if(C(n))throw new Error(b.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!te(n))throw new Error(b.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ae=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(b.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},se=function(e,t,n,r){if(!(r&&void 0===n||J(n)))throw new Error(b.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ue=function(e,t,n,r){if(!(r&&void 0===n||ee(n)))throw new Error(b.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ce=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},le=function(e,t,n){var r,o=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!J(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==o.length&&((r=o)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),!ee(r)))throw new Error(b.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},fe=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){b.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),b.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new b.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){b.validateArgCount("OnDisconnect.remove",0,1,arguments.length),ce("OnDisconnect.remove",this.path_),b.validateCallback("OnDisconnect.remove",1,e,!0);var t=new b.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){b.validateArgCount("OnDisconnect.set",1,2,arguments.length),ce("OnDisconnect.set",this.path_),ne("OnDisconnect.set",1,e,this.path_,!1),b.validateCallback("OnDisconnect.set",2,t,!0);var n=new b.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){b.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),ce("OnDisconnect.setWithPriority",this.path_),ne("OnDisconnect.setWithPriority",1,e,this.path_,!1),ie("OnDisconnect.setWithPriority",2,t,!1),b.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new b.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(b.validateArgCount("OnDisconnect.update",1,2,arguments.length),ce("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oe("OnDisconnect.update",1,e,this.path_,!1),b.validateCallback("OnDisconnect.update",2,t,!0);var o=new b.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,o.wrapCallback(t)),o.promise},e}(),pe=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return b.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),he=(V="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",q=0,H=[],function(e){var t,n=e===q;q=e;var r=new Array(8);for(t=7;0<=t;t--)r[t]=V.charAt(e%64),e=Math.floor(e/64);b.assert(0===e,"Cannot push at time == 0");var o=r.join("");if(n){for(t=11;0<=t&&63===H[t];t--)H[t]=0;H[t]++}else for(t=0;t<12;t++)H[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)o+=V.charAt(H[t]);return b.assert(20===o.length,"nextPushId: Length should be 20."),o}),de=function(){function n(e,t){this.name=e,this.node=t}return n.Wrap=function(e,t){return new n(e,t)},n}(),ve=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new de(T,e),r=new de(T,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return de.MIN},e}(),ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return K},set:function(e){K=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return k(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw b.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return de.MIN},t.prototype.maxPost=function(){return new de(O,K)},t.prototype.makePost=function(e,t){return b.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new de(e,K)},t.prototype.toString=function(){return".key"},t}(ve),ge=new ye;var me,_e,be,we=function(e){return"number"==typeof e?"number:"+j(e):"string:"+e},Ee=function(e){if(e.isLeafNode()){var t=e.val();b.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&b.contains(t,".sv"),"Priority must be a string or number.")}else b.assert(e===Q||e.isEmpty(),"priority of unexpected type.");b.assert(e===Q||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Se=function(){function i(e,t){void 0===t&&(t=i.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,b.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ee(this.priorityNode_)}return Object.defineProperty(i,"__childrenNodeConstructor",{get:function(){return me},set:function(e){me=e},enumerable:!0,configurable:!0}),i.prototype.isLeafNode=function(){return!0},i.prototype.getPriority=function(){return this.priorityNode_},i.prototype.updatePriority=function(e){return new i(this.value_,e)},i.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE},i.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE},i.prototype.hasChild=function(){return!1},i.prototype.getPredecessorChildName=function(e,t){return null},i.prototype.updateImmediateChild=function(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},i.prototype.updateChild=function(e,t){var n=e.getFront();return null===n?t:t.isEmpty()&&".priority"!==n?this:(b.assert(".priority"!==n||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),t)))},i.prototype.isEmpty=function(){return!1},i.prototype.numChildren=function(){return 0},i.prototype.forEachChild=function(e,t){return!1},i.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},i.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+we(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?j(this.value_):this.value_,this.lazyHash_=p(e)}return this.lazyHash_},i.prototype.getValue=function(){return this.value_},i.prototype.compareTo=function(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:(b.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},i.prototype.compareToLeafNode_=function(e){var t=typeof e.value_,n=typeof this.value_,r=i.VALUE_TYPE_ORDER.indexOf(t),o=i.VALUE_TYPE_ORDER.indexOf(n);return b.assert(0<=r,"Unknown leaf type: "+t),b.assert(0<=o,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r},i.prototype.withIndex=function(){return this},i.prototype.isIndexed=function(){return!0},i.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i}();var Ce,Te,Oe=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?k(e.name,t.name):o},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return de.MIN},t.prototype.maxPost=function(){return new de(O,new Se("[PRIORITY-POST]",be))},t.prototype.makePost=function(e,t){var n=_e(e);return new de(t,new Se("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(ve)),ke=function(){function e(e,t,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var i=1;!e.isEmpty();)if(e=e,i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return 0<this.nodeStack_.length},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),xe=function(){function i(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:i.RED,this.left=null!=r?r:Ae.EMPTY_NODE,this.right=null!=o?o:Ae.EMPTY_NODE}return i.prototype.copy=function(e,t,n,r,o){return new i(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)},i.prototype.count=function(){return this.left.count()+1+this.right.count()},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},i.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},i.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},i.prototype.minKey=function(){return this.min_().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(e,t,n){var r,o;return(o=(r=n(e,(o=this).key))<0?o.copy(null,null,null,o.left.insert(e,t,n),null):0===r?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n))).fixUp_()},i.prototype.removeMin_=function(){if(this.left.isEmpty())return Ae.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},i.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ae.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},i.prototype.isRed_=function(){return this.color},i.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},i.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},i.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},i.prototype.rotateLeft_=function(){var e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},i.prototype.rotateRight_=function(){var e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},i.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},i.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},i.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},i.RED=!0,i.BLACK=!1,i}(),Pe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,o){return this},e.prototype.insert=function(e,t,n){return new xe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ae=function(){function n(e,t){void 0===t&&(t=n.EMPTY_NODE),this.comparator_=e,this.root_=t}return n.prototype.insert=function(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,xe.BLACK,null,null))},n.prototype.remove=function(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xe.BLACK,null,null))},n.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null},n.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:0<t&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},n.prototype.isEmpty=function(){return this.root_.isEmpty()},n.prototype.count=function(){return this.root_.count()},n.prototype.minKey=function(){return this.root_.minKey()},n.prototype.maxKey=function(){return this.root_.maxKey()},n.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},n.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},n.prototype.getIterator=function(e){return new ke(this.root_,null,this.comparator_,!1,e)},n.prototype.getIteratorFrom=function(e,t){return new ke(this.root_,e,this.comparator_,!1,t)},n.prototype.getReverseIteratorFrom=function(e,t){return new ke(this.root_,e,this.comparator_,!0,t)},n.prototype.getReverseIterator=function(e){return new ke(this.root_,null,this.comparator_,!0,e)},n.EMPTY_NODE=new Pe,n}(),Ie=Math.log(2),Re=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ie,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),je=function(c,e,l,t){c.sort(e);var f=function(e,t){var n,r,o=t-e;if(0==o)return null;if(1==o)return n=c[e],r=l?l(n):n,new xe(r,n.node,xe.BLACK,null,null);var i=parseInt(o/2,10)+e,a=f(e,i),s=f(i+1,t);return n=c[i],r=l?l(n):n,new xe(r,n.node,xe.BLACK,a,s)},n=function(e){for(var t=null,n=null,s=c.length,r=function(e,t){var n=s-e,r=s;s-=e;var o=f(n+1,r),i=c[n],a=l?l(i):i;u(new xe(a,i.node,t,null,o))},u=function(e){t=t?t.left=e:n=e},o=0;o<e.count;++o){var i=e.nextBitIsOne(),a=Math.pow(2,e.count-(o+1));i?r(a,xe.BLACK):(r(a,xe.BLACK),r(a,xe.RED))}return n}(new Re(c.length));return new Ae(t||e,n)},Ne={},Fe=function(){function f(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(f,"Default",{get:function(){return b.assert(Oe,"ChildrenNode.ts has not been loaded"),Ce=Ce||new f({".priority":Ne},{".priority":Oe})},enumerable:!0,configurable:!0}),f.prototype.get=function(e){var t=b.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===Ne?null:t},f.prototype.hasIndex=function(e){return b.contains(this.indexSet_,e.toString())},f.prototype.addIndex=function(e,t){b.assert(e!==ge,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,r=[],o=!1,i=t.getIterator(de.Wrap),a=i.getNext();a;)o=o||e.isDefinedOn(a.node),r.push(a),a=i.getNext();n=o?je(r,e.getCompare()):Ne;var s=e.toString(),u=b.clone(this.indexSet_);u[s]=e;var c=b.clone(this.indexes_);return c[s]=n,new f(c,u)},f.prototype.addToIndexes=function(u,c){var l=this;return new f(b.map(this.indexes_,function(e,t){var n=b.safeGet(l.indexSet_,t);if(b.assert(n,"Missing index implementation for "+t),e===Ne){if(n.isDefinedOn(u.node)){for(var r=[],o=c.getIterator(de.Wrap),i=o.getNext();i;)i.name!=u.name&&r.push(i),i=o.getNext();return r.push(u),je(r,n.getCompare())}return Ne}var a=c.get(u.name),s=e;return a&&(s=s.remove(new de(u.name,a))),s.insert(u,u.node)}),this.indexSet_)},f.prototype.removeFromIndexes=function(n,r){return new f(b.map(this.indexes_,function(e){if(e===Ne)return e;var t=r.get(n.name);return t?e.remove(new de(n.name,t)):e}),this.indexSet_)},f}();function De(e,t){return k(e.name,t.name)}function Me(e,t){return k(e,t)}var Le=function(){function s(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ee(this.priorityNode_),this.children_.isEmpty()&&b.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(s,"EMPTY_NODE",{get:function(){return Te||(Te=new s(new Ae(Me),null,Fe.Default))},enumerable:!0,configurable:!0}),s.prototype.isLeafNode=function(){return!1},s.prototype.getPriority=function(){return this.priorityNode_||Te},s.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new s(this.children_,e,this.indexMap_)},s.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Te:t},s.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},s.prototype.hasChild=function(e){return null!==this.children_.get(e)},s.prototype.updateImmediateChild=function(e,t){if(b.assert(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);var n=new de(e,t),r=void 0,o=void 0;return o=t.isEmpty()?(r=this.children_.remove(e),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),this.indexMap_.addToIndexes(n,this.children_)),new s(r,r.isEmpty()?Te:this.priorityNode_,o)},s.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;b.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},s.prototype.isEmpty=function(){return this.children_.isEmpty()},s.prototype.numChildren=function(){return this.children_.count()},s.prototype.val=function(n){if(this.isEmpty())return null;var r={},o=0,i=0,a=!0;if(this.forEachChild(Oe,function(e,t){r[e]=t.val(n),o++,a&&s.INTEGER_REGEXP_.test(e)?i=Math.max(i,Number(e)):a=!1}),!n&&a&&i<2*o){var e=[];for(var t in r)e[t]=r[t];return e}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r},s.prototype.hash=function(){if(null===this.lazyHash_){var r="";this.getPriority().isEmpty()||(r+="priority:"+we(this.getPriority().val())+":"),this.forEachChild(Oe,function(e,t){var n=t.hash();""!==n&&(r+=":"+e+":"+n)}),this.lazyHash_=""===r?"":p(r)}return this.lazyHash_},s.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new de(e,t));return o?o.name:null}return this.children_.getPredecessorKey(e)},s.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},s.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new de(t,this.children_.get(t)):null},s.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},s.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new de(t,this.children_.get(t)):null},s.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},s.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},s.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,de.Wrap),o=r.peek();null!=o&&t.compare(o,e)<0;)r.getNext(),o=r.peek();return r},s.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},s.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,de.Wrap),o=r.peek();null!=o&&0<t.compare(o,e);)r.getNext(),o=r.peek();return r},s.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ue?-1:0},s.prototype.withIndex=function(e){if(e===ge||this.indexMap_.hasIndex(e))return this;var t=this.indexMap_.addIndex(e,this.children_);return new s(this.children_,this.priorityNode_,t)},s.prototype.isIndexed=function(e){return e===ge||this.indexMap_.hasIndex(e)},s.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()!==t.children_.count())return!1;for(var n=this.getIterator(Oe),r=t.getIterator(Oe),o=n.getNext(),i=r.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=n.getNext(),i=r.getNext()}return null===o&&null===i}return!1},s.prototype.resolveIndex_=function(e){return e===ge?null:this.indexMap_.get(e.toString())},s.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,s}(),Ue=new(function(e){function t(){return e.call(this,new Ae(Me),Le.EMPTY_NODE,Fe.Default)||this}return a.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Le.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Le));Object.defineProperties(de,{MIN:{value:new de(T,Le.EMPTY_NODE)},MAX:{value:new de(O,Ue)}}),ye.__EMPTY_NODE=Le.EMPTY_NODE,Se.__childrenNodeConstructor=Le,Q=Ue,be=Ue;var We=!0;function ze(e,t){if(void 0===t&&(t=null),null===e)return Le.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),b.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Se(e,ze(t));if(e instanceof Array||!We){var r=Le.EMPTY_NODE,o=e;return b.forEach(o,function(e,t){if(b.contains(o,e)&&"."!==e.substring(0,1)){var n=ze(t);!n.isLeafNode()&&n.isEmpty()||(r=r.updateImmediateChild(e,n))}}),r.updatePriority(ze(t))}var i=[],a=!1,s=e;if(b.forEach(s,function(e,t){if("string"!=typeof e||"."!==e.substring(0,1)){var n=ze(s[e]);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new de(e,n)))}}),0==i.length)return Le.EMPTY_NODE;var n=je(i,De,function(e){return e.name},Me);if(a){var u=je(i,Oe.getCompare());return new Le(n,ze(t),new Fe({".priority":u},{".priority":Oe}))}return new Le(n,ze(t),Fe.Default)}_e=ze;var Be,Ve,qe,He=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?k(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return de.MIN},t.prototype.maxPost=function(){return de.MAX},t.prototype.makePost=function(e,t){var n=ze(e);return new de(t,n)},t.prototype.toString=function(){return".value"},t}(ve)),Ke=function(n){function e(e){var t=n.call(this)||this;return t.indexPath_=e,b.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),t}return a.__extends(e,n),e.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?k(e.name,t.name):o},e.prototype.makePost=function(e,t){var n=ze(e),r=Le.EMPTY_NODE.updateChild(this.indexPath_,n);return new de(t,r)},e.prototype.maxPost=function(){var e=Le.EMPTY_NODE.updateChild(this.indexPath_,Ue);return new de(O,e)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(ve),Qe=function(){function o(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return o.prototype.val=function(){return b.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},o.prototype.exportVal=function(){return b.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},o.prototype.toJSON=function(){return b.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},o.prototype.exists=function(){return b.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},o.prototype.child=function(e){b.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),ue("DataSnapshot.child",1,e,!1);var t=new L(e),n=this.ref_.child(t);return new o(this.node_.getChild(t),n,Oe)},o.prototype.hasChild=function(e){b.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ue("DataSnapshot.hasChild",1,e,!1);var t=new L(e);return!this.node_.getChild(t).isEmpty()},o.prototype.getPriority=function(){return b.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},o.prototype.forEach=function(n){var r=this;return b.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),b.validateCallback("DataSnapshot.forEach",1,n,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(e,t){return n(new o(t,r.ref_.child(e),Oe))})},o.prototype.hasChildren=function(){return b.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(o.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),o.prototype.numChildren=function(){return b.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},o.prototype.getRef=function(){return b.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(o.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),o}(),$e=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+b.stringify(this.snapshot.exportVal())},e}(),Ge=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ye=function(){function t(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return t.prototype.respondsTo=function(e){return"value"===e},t.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new $e("value",this,new Qe(e.snapshotNode,t.getRef(),n))},t.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){b.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},t.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ge(this,e,t):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Xe=function(){function o(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return o.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,b.contains(this.callbacks_,t)},o.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ge(this,e,t):null},o.prototype.createEvent=function(e,t){b.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new $e(e.type,this,new Qe(e.snapshotNode,n,r),e.prevName)},o.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){b.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},o.prototype.matches=function(n){if(n instanceof o){if(!this.callbacks_||!n.callbacks_)return!0;if(this.context_===n.context_){var e=b.getCount(n.callbacks_);if(e===b.getCount(this.callbacks_)){if(1!==e)return b.every(this.callbacks_,function(e,t){return n.callbacks_[e]===t});var t=b.getAnyKey(n.callbacks_),r=b.getAnyKey(this.callbacks_);return!(r!==t||n.callbacks_[t]&&this.callbacks_[r]&&n.callbacks_[t]!==this.callbacks_[r])}}}return!1},o.prototype.hasAnyCallback=function(){return null!==this.callbacks_},o}(),Ze=function(){function c(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(c,"__referenceConstructor",{get:function(){return b.assert(Be,"Reference.ts has not been loaded"),Be},set:function(e){Be=e},enumerable:!0,configurable:!0}),c.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ge){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=T)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!=O)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(e.getIndex()===Oe){if(null!=t&&!te(t)||null!=n&&!te(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(b.assert(e.getIndex()instanceof Ke||e.getIndex()===He,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},c.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},c.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},c.prototype.getQueryParams=function(){return this.queryParams_},c.prototype.getRef=function(){return b.validateArgCount("Query.ref",0,0,arguments.length),new c.__referenceConstructor(this.repo,this.path)},c.prototype.on=function(e,t,n,r){b.validateArgCount("Query.on",2,4,arguments.length),ae("Query.on",1,e,!1),b.validateCallback("Query.on",2,t,!1);var o=c.getCancelAndContextArgs_("Query.on",n,r);if("value"===e)this.onValueEvent(t,o.cancel,o.context);else{var i={};i[e]=t,this.onChildEvent(i,o.cancel,o.context)}return t},c.prototype.onValueEvent=function(e,t,n){var r=new Ye(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},c.prototype.onChildEvent=function(e,t,n){var r=new Xe(e,t,n);this.repo.addEventCallbackForQuery(this,r)},c.prototype.off=function(e,t,n){b.validateArgCount("Query.off",0,3,arguments.length),ae("Query.off",1,e,!0),b.validateCallback("Query.off",2,t,!0),b.validateContextObject("Query.off",3,n,!0);var r=null,o=null;"value"===e?r=new Ye(t||null,null,n||null):e&&(t&&((o={})[e]=t),r=new Xe(o,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},c.prototype.once=function(t,n,e,r){var o=this;b.validateArgCount("Query.once",1,4,arguments.length),ae("Query.once",1,t,!1),b.validateCallback("Query.once",2,n,!0);var i=c.getCancelAndContextArgs_("Query.once",e,r),a=!0,s=new b.Deferred;s.promise.catch(function(){});var u=function(e){a&&(a=!1,o.off(t,u),n&&n.bind(i.context)(e),s.resolve(e))};return this.on(t,u,function(e){o.off(t,u),i.cancel&&i.cancel.bind(i.context)(e),s.reject(e)}),s.promise},c.prototype.limitToFirst=function(e){if(b.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new c(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},c.prototype.limitToLast=function(e){if(b.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new c(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},c.prototype.orderByChild=function(e){if(b.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ue("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var t=new L(e);if(t.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var n=new Ke(t),r=this.queryParams_.orderBy(n);return c.validateQueryEndpoints_(r),new c(this.repo,this.path,r,!0)},c.prototype.orderByKey=function(){b.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(ge);return c.validateQueryEndpoints_(e),new c(this.repo,this.path,e,!0)},c.prototype.orderByPriority=function(){b.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Oe);return c.validateQueryEndpoints_(e),new c(this.repo,this.path,e,!0)},c.prototype.orderByValue=function(){b.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(He);return c.validateQueryEndpoints_(e),new c(this.repo,this.path,e,!0)},c.prototype.startAt=function(e,t){void 0===e&&(e=null),b.validateArgCount("Query.startAt",0,2,arguments.length),ne("Query.startAt",1,e,this.path,!0),se("Query.startAt",2,t,!0);var n=this.queryParams_.startAt(e,t);if(c.validateLimit_(n),c.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(t=e=null),new c(this.repo,this.path,n,this.orderByCalled_)},c.prototype.endAt=function(e,t){void 0===e&&(e=null),b.validateArgCount("Query.endAt",0,2,arguments.length),ne("Query.endAt",1,e,this.path,!0),se("Query.endAt",2,t,!0);var n=this.queryParams_.endAt(e,t);if(c.validateLimit_(n),c.validateQueryEndpoints_(n),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new c(this.repo,this.path,n,this.orderByCalled_)},c.prototype.equalTo=function(e,t){if(b.validateArgCount("Query.equalTo",1,2,arguments.length),ne("Query.equalTo",1,e,this.path,!1),se("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},c.prototype.toString=function(){return b.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},c.prototype.toJSON=function(){return b.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},c.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},c.prototype.queryIdentifier=function(){var e=this.queryObject(),t=A(e);return"{}"===t?"default":t},c.prototype.isEqual=function(e){if(b.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof c)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var t=this.repo===e.repo,n=this.path.equals(e.path),r=this.queryIdentifier()===e.queryIdentifier();return t&&n&&r},c.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,b.validateCallback(e,3,r.cancel,!0),r.context=n,b.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(b.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(c.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),c}(),Je=function(){function e(){this.set={}}return e.prototype.add=function(e,t){this.set[e]=null===t||t},e.prototype.contains=function(e){return b.contains(this.set,e)},e.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},e.prototype.remove=function(e){delete this.set[e]},e.prototype.clear=function(){this.set={}},e.prototype.isEmpty=function(){return b.isEmpty(this.set)},e.prototype.count=function(){return b.getCount(this.set)},e.prototype.each=function(n){b.forEach(this.set,function(e,t){return n(e,t)})},e.prototype.keys=function(){var t=[];return b.forEach(this.set,function(e){t.push(e)}),t},e}(),et=function(){function o(){this.value_=null,this.children_=null}return o.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(e.isEmpty()||null==this.children_)return null;var t=e.getFront();return e=e.popFront(),this.children_.contains(t)?this.children_.get(t).find(e):null},o.prototype.remember=function(e,t){if(e.isEmpty())this.value_=t,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,t);else{null==this.children_&&(this.children_=new Je);var n=e.getFront();this.children_.contains(n)||this.children_.add(n,new o);var r=this.children_.get(n);e=e.popFront(),r.remember(e,t)}},o.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,!(this.children_=null);if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(Oe,function(e,t){n.remember(new L(e),t)}),this.forget(e)}if(null===this.children_)return!0;var r=e.getFront();return e=e.popFront(),this.children_.contains(r)&&this.children_.get(r).forget(e)&&this.children_.remove(r),!!this.children_.isEmpty()&&!(this.children_=null)},o.prototype.forEachTree=function(r,o){null!==this.value_?o(r,this.value_):this.forEachChild(function(e,t){var n=new L(r.toString()+"/"+e);t.forEachTree(n,o)})},o.prototype.forEachChild=function(n){null!==this.children_&&this.children_.each(function(e,t){n(e,t)})},o}(),tt=function(e,t){return e&&"object"==typeof e?(b.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},nt=function(e,r){var o,t=e.getPriority().val(),n=tt(t,r);if(e.isLeafNode()){var i=e,a=tt(i.getValue(),r);return a!==i.getValue()||n!==i.getPriority().val()?new Se(a,ze(n)):e}var s=e;return n!==(o=s).getPriority().val()&&(o=o.updatePriority(new Se(n))),s.forEachChild(Oe,function(e,t){var n=nt(t,r);n!==t&&(o=o.updateImmediateChild(e,n))}),o};(qe=Ve||(Ve={}))[qe.OVERWRITE=0]="OVERWRITE",qe[qe.MERGE=1]="MERGE",qe[qe.ACK_USER_WRITE=2]="ACK_USER_WRITE",qe[qe.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var rt,ot,it=function(){function t(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,b.assert(!r||t,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),at=function(){function n(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ve.ACK_USER_WRITE,this.source=it.User}return n.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return b.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new L(e));return new n(L.Empty,t,this.revert)}return b.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new n(this.path.popFront(),this.affectedTree,this.revert)},n}(),st=function(){function i(e,t){void 0===t&&(rt||(rt=new Ae(x)),t=rt),this.value=e,this.children=t}return i.fromObject=function(e){var n=i.Empty;return b.forEach(e,function(e,t){n=n.set(new L(e),t)}),n},i.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},i.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:L.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null===r)return null;var o=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null==o?null:{path:new L(n).child(o.path),value:o.value}},i.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},i.prototype.subtree=function(e){if(e.isEmpty())return this;var t=e.getFront(),n=this.children.get(t);return null!==n?n.subtree(e.popFront()):i.Empty},i.prototype.set=function(e,t){if(e.isEmpty())return new i(t,this.children);var n=e.getFront(),r=(this.children.get(n)||i.Empty).set(e.popFront(),t),o=this.children.insert(n,r);return new i(this.value,o)},i.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?i.Empty:new i(null,this.children);var t=e.getFront(),n=this.children.get(t);if(n){var r=n.remove(e.popFront()),o=void 0;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?i.Empty:new i(this.value,o)}return this},i.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},i.prototype.setTree=function(e,t){if(e.isEmpty())return t;var n=e.getFront(),r=(this.children.get(n)||i.Empty).setTree(e.popFront(),t),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new i(this.value,o)},i.prototype.fold=function(e){return this.fold_(L.Empty,e)},i.prototype.fold_=function(n,r){var o={};return this.children.inorderTraversal(function(e,t){o[e]=t.fold_(n.child(e),r)}),r(n,this.value,o)},i.prototype.findOnPath=function(e,t){return this.findOnPath_(e,L.Empty,t)},i.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var o=e.getFront(),i=this.children.get(o);return i?i.findOnPath_(e.popFront(),t.child(o),n):null},i.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,L.Empty,t)},i.prototype.foreachOnPath_=function(e,t,n){if(e.isEmpty())return this;this.value&&n(t,this.value);var r=e.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(e.popFront(),t.child(r),n):i.Empty},i.prototype.foreach=function(e){this.foreach_(L.Empty,e)},i.prototype.foreach_=function(n,r){this.children.inorderTraversal(function(e,t){t.foreach_(n.child(e),r)}),this.value&&r(n,this.value)},i.prototype.foreachChild=function(n){this.children.inorderTraversal(function(e,t){t.value&&n(e,t.value)})},i.Empty=new i(null),i}(),ut=function(){function t(e,t){this.source=e,this.path=t,this.type=Ve.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,L.Empty):new t(this.source,this.path.popFront())},t}(),ct=function(){function t(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ve.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,L.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),lt=function(){function n(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ve.MERGE}return n.prototype.operationForChild=function(e){if(this.path.isEmpty()){var t=this.children.subtree(new L(e));return t.isEmpty()?null:t.value?new ct(this.source,L.Empty,t.value):new n(this.source,L.Empty,t)}return b.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,this.path.popFront(),this.children)},n.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},n}(),ft=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),pt=function(){function r(e,t){this.eventCache_=e,this.serverCache_=t}return r.prototype.updateEventSnap=function(e,t,n){return new r(new ft(e,t,n),this.serverCache_)},r.prototype.updateServerSnap=function(e,t,n){return new r(this.eventCache_,new ft(e,t,n))},r.prototype.getEventCache=function(){return this.eventCache_},r.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},r.prototype.getServerCache=function(){return this.serverCache_},r.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},r.Empty=new r(new ft(Le.EMPTY_NODE,!1,!1),new ft(Le.EMPTY_NODE,!1,!1)),r}(),ht=function(){function r(e,t,n,r,o){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=o}return r.valueChange=function(e){return new r(r.VALUE,e)},r.childAddedChange=function(e,t){return new r(r.CHILD_ADDED,t,e)},r.childRemovedChange=function(e,t){return new r(r.CHILD_REMOVED,t,e)},r.childChangedChange=function(e,t,n){return new r(r.CHILD_CHANGED,t,e,n)},r.childMovedChange=function(e,t){return new r(r.CHILD_MOVED,t,e)},r.CHILD_ADDED="child_added",r.CHILD_REMOVED="child_removed",r.CHILD_CHANGED="child_changed",r.CHILD_MOVED="child_moved",r.VALUE="value",r}(),dt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,o,i){b.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?e:(null!=i&&(n.isEmpty()?e.hasChild(t)?i.trackChildChange(ht.childRemovedChange(t,a)):b.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?i.trackChildChange(ht.childAddedChange(t,n)):i.trackChildChange(ht.childChangedChange(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(r,n,o){return null!=o&&(r.isLeafNode()||r.forEachChild(Oe,function(e,t){n.hasChild(e)||o.trackChildChange(ht.childRemovedChange(e,t))}),n.isLeafNode()||n.forEachChild(Oe,function(e,t){if(r.hasChild(e)){var n=r.getImmediateChild(e);n.equals(t)||o.trackChildChange(ht.childChangedChange(e,t,n))}else o.trackChildChange(ht.childAddedChange(e,t))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Le.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),vt=function(){function e(){this.changeMap_={}}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;b.assert(t==ht.CHILD_ADDED||t==ht.CHILD_CHANGED||t==ht.CHILD_REMOVED,"Only child changes supported for tracking"),b.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=b.safeGet(this.changeMap_,n);if(r){var o=r.type;if(t==ht.CHILD_ADDED&&o==ht.CHILD_REMOVED)this.changeMap_[n]=ht.childChangedChange(n,e.snapshotNode,r.snapshotNode);else if(t==ht.CHILD_REMOVED&&o==ht.CHILD_ADDED)delete this.changeMap_[n];else if(t==ht.CHILD_REMOVED&&o==ht.CHILD_CHANGED)this.changeMap_[n]=ht.childRemovedChange(n,r.oldSnap);else if(t==ht.CHILD_CHANGED&&o==ht.CHILD_ADDED)this.changeMap_[n]=ht.childAddedChange(n,e.snapshotNode);else{if(t!=ht.CHILD_CHANGED||o!=ht.CHILD_CHANGED)throw b.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap_[n]=ht.childChangedChange(n,e.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=e},e.prototype.getChanges=function(){return b.getValues(this.changeMap_)},e}(),yt=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),gt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ft(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===o.length?null:o[0]},e}(),mt=function(e,t){this.viewCache=e,this.changes=t},_t=function(){function f(e){this.filter_=e}return f.prototype.assertIndexed=function(e){b.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),b.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},f.prototype.applyOperation=function(e,t,n,r){var o,i,a=new vt;if(t.type===Ve.OVERWRITE){var s=t;o=s.source.fromUser?this.applyUserOverwrite_(e,s.path,s.snap,n,r,a):(b.assert(s.source.fromServer,"Unknown source."),i=s.source.tagged||e.getServerCache().isFiltered()&&!s.path.isEmpty(),this.applyServerOverwrite_(e,s.path,s.snap,n,r,i,a))}else if(t.type===Ve.MERGE){var u=t;o=u.source.fromUser?this.applyUserMerge_(e,u.path,u.children,n,r,a):(b.assert(u.source.fromServer,"Unknown source."),i=u.source.tagged||e.getServerCache().isFiltered(),this.applyServerMerge_(e,u.path,u.children,n,r,i,a))}else if(t.type===Ve.ACK_USER_WRITE){var c=t;o=c.revert?this.revertUserWrite_(e,c.path,n,r,a):this.ackUserWrite_(e,c.path,c.affectedTree,n,r,a)}else{if(t.type!==Ve.LISTEN_COMPLETE)throw b.assertionError("Unknown operation type: "+t.type);o=this.listenComplete_(e,t.path,n,a)}var l=a.getChanges();return f.maybeAddValueEvent_(e,o,l),new mt(o,l)},f.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=e.getCompleteEventSnap();(0<n.length||!e.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(ht.valueChange(t.getCompleteEventSnap()))}},f.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,o){var i=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var a=void 0,s=void 0;if(t.isEmpty())if(b.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var u=e.getCompleteServerSnap(),c=u instanceof Le?u:Le.EMPTY_NODE,l=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(e.getEventCache().getNode(),l,o)}else{var f=n.calcCompleteEventCache(e.getCompleteServerSnap());a=this.filter_.updateFullNode(e.getEventCache().getNode(),f,o)}else{var p=t.getFront();if(".priority"==p){b.assert(1==t.getLength(),"Can't have a priority with additional path components");var h=i.getNode();s=e.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(t,h,s);a=null!=d?this.filter_.updatePriority(h,d):i.getNode()}else{var v=t.popFront(),y=void 0;if(i.isCompleteForChild(p)){s=e.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(t,i.getNode(),s);y=null!=g?i.getNode().getImmediateChild(p).updateChild(v,g):i.getNode().getImmediateChild(p)}else y=n.calcCompleteChild(p,e.getServerCache());a=null!=y?this.filter_.updateChild(i.getNode(),p,y,v,r,o):i.getNode()}}return e.updateEventSnap(a,i.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},f.prototype.applyServerOverwrite_=function(e,t,n,r,o,i,a){var s,u=e.getServerCache(),c=i?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);s=c.updateFullNode(u.getNode(),l,null)}else{var f=t.getFront();if(!u.isCompleteForPath(t)&&1<t.getLength())return e;var p=t.popFront(),h=u.getNode().getImmediateChild(f).updateChild(p,n);s=".priority"==f?c.updatePriority(u.getNode(),h):c.updateChild(u.getNode(),f,h,p,yt,null)}var d=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),v=new gt(r,d,o);return this.generateEventCacheAfterServerEvent_(d,t,r,v,a)},f.prototype.applyUserOverwrite_=function(e,t,n,r,o,i){var a,s,u=e.getEventCache(),c=new gt(r,e,o);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,i),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=t.getFront();if(".priority"===l)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var f=t.popFront(),p=u.getNode().getImmediateChild(l),h=void 0;if(f.isEmpty())h=n;else{var d=c.getCompleteChild(l);h=null!=d?".priority"===f.getBack()&&d.getChild(f.parent()).isEmpty()?d:d.updateChild(f,n):Le.EMPTY_NODE}if(p.equals(h))a=e;else{var v=this.filter_.updateChild(u.getNode(),l,h,f,c,i);a=e.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},f.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},f.prototype.applyUserMerge_=function(r,o,e,i,a,s){var u=this,c=r;return e.foreach(function(e,t){var n=o.child(e);f.cacheHasChild_(r,n.getFront())&&(c=u.applyUserOverwrite_(c,n,t,i,a,s))}),e.foreach(function(e,t){var n=o.child(e);f.cacheHasChild_(r,n.getFront())||(c=u.applyUserOverwrite_(c,n,t,i,a,s))}),c},f.prototype.applyMerge_=function(n,e){return e.foreach(function(e,t){n=n.updateChild(e,t)}),n},f.prototype.applyServerMerge_=function(i,e,t,a,s,u,c){var l=this;if(i.getServerCache().getNode().isEmpty()&&!i.getServerCache().isFullyInitialized())return i;var n,f=i;n=e.isEmpty()?t:st.Empty.setTree(e,t);var p=i.getServerCache().getNode();return n.children.inorderTraversal(function(e,t){if(p.hasChild(e)){var n=i.getServerCache().getNode().getImmediateChild(e),r=l.applyMerge_(n,t);f=l.applyServerOverwrite_(f,new L(e),r,a,s,u,c)}}),n.children.inorderTraversal(function(e,t){var n=!i.getServerCache().isCompleteForChild(e)&&null==t.value;if(!p.hasChild(e)&&!n){var r=i.getServerCache().getNode().getImmediateChild(e),o=l.applyMerge_(r,t);f=l.applyServerOverwrite_(f,new L(e),o,a,s,u,c)}}),f},f.prototype.ackUserWrite_=function(e,r,t,n,o,i){if(null!=n.shadowingWrite(r))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=t.value){if(r.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(r))return this.applyServerOverwrite_(e,r,s.getNode().getChild(r),n,o,a,i);if(r.isEmpty()){var u=st.Empty;return s.getNode().forEachChild(ge,function(e,t){u=u.set(new L(e),t)}),this.applyServerMerge_(e,r,u,n,o,a,i)}return e}var c=st.Empty;return t.foreach(function(e,t){var n=r.child(e);s.isCompleteForPath(n)&&(c=c.set(e,s.getNode().getChild(n)))}),this.applyServerMerge_(e,r,c,n,o,a,i)},f.prototype.listenComplete_=function(e,t,n,r){var o=e.getServerCache(),i=e.updateServerSnap(o.getNode(),o.isFullyInitialized()||t.isEmpty(),o.isFiltered());return this.generateEventCacheAfterServerEvent_(i,t,n,yt,r)},f.prototype.revertUserWrite_=function(e,t,n,r,o){var i;if(null!=n.shadowingWrite(t))return e;var a=new gt(n,e,r),s=e.getEventCache().getNode(),u=void 0;if(t.isEmpty()||".priority"===t.getFront()){var c=void 0;if(e.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var l=e.getServerCache().getNode();b.assert(l instanceof Le,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(s,c,o)}else{var f=t.getFront(),p=n.calcCompleteChild(f,e.getServerCache());null==p&&e.getServerCache().isCompleteForChild(f)&&(p=s.getImmediateChild(f)),(u=null!=p?this.filter_.updateChild(s,f,p,t.popFront(),a,o):e.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(s,f,Le.EMPTY_NODE,t.popFront(),a,o):s).isEmpty()&&e.getServerCache().isFullyInitialized()&&(i=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,i,o))}return i=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(L.Empty),e.updateEventSnap(u,i,this.filter_.filtersNodes())},f}(),bt=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,o=[],i=[];return e.forEach(function(e){e.type===ht.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&i.push(ht.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(o,ht.CHILD_REMOVED,e,n,t),this.generateEventsForType_(o,ht.CHILD_ADDED,e,n,t),this.generateEventsForType_(o,ht.CHILD_MOVED,i,n,t),this.generateEventsForType_(o,ht.CHILD_CHANGED,e,n,t),this.generateEventsForType_(o,ht.VALUE,e,n,t),o},e.prototype.generateEventsForType_=function(r,t,e,o,i){var a=this,n=e.filter(function(e){return e.type===t});n.sort(this.compareChanges_.bind(this)),n.forEach(function(t){var n=a.materializeSingleChange_(t,i);o.forEach(function(e){e.respondsTo(t.type)&&r.push(e.createEvent(n,a.query_))})})},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw b.assertionError("Should only compare child_ events.");var n=new de(e.childName,e.snapshotNode),r=new de(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),wt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new dt(n.getIndex()),o=n.getNodeFilter();this.processor_=new _t(o);var i=t.getServerCache(),a=t.getEventCache(),s=r.updateFullNode(Le.EMPTY_NODE,i.getNode(),null),u=o.updateFullNode(Le.EMPTY_NODE,a.getNode(),null),c=new ft(s,i.isFullyInitialized(),r.filtersNodes()),l=new ft(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=new pt(l,c),this.eventGenerator_=new bt(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,n){var r=[];if(n){b.assert(null==e,"A cancel should cancel all event registrations.");var o=this.query_.path;this.eventRegistrations_.forEach(function(e){n=n;var t=e.createCancelEvent(n,o);t&&r.push(t)})}if(e){for(var t=[],i=0;i<this.eventRegistrations_.length;++i){var a=this.eventRegistrations_[i];if(a.matches(e)){if(e.hasAnyCallback()){t=t.concat(this.eventRegistrations_.slice(i+1));break}}else t.push(a)}this.eventRegistrations_=t}else this.eventRegistrations_=[];return r},e.prototype.applyOperation=function(e,t,n){e.type===Ve.MERGE&&null!==e.source.queryId&&(b.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),b.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(o.viewCache),b.assert(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];t.getNode().isLeafNode()||t.getNode().forEachChild(Oe,function(e,t){n.push(ht.childAddedChange(e,t))});return t.isFullyInitialized()&&n.push(ht.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}(),Et=function(){function c(){this.views_={}}return Object.defineProperty(c,"__referenceConstructor",{get:function(){return b.assert(ot,"Reference.ts has not been loaded"),ot},set:function(e){b.assert(!ot,"__referenceConstructor has already been defined"),ot=e},enumerable:!0,configurable:!0}),c.prototype.isEmpty=function(){return b.isEmpty(this.views_)},c.prototype.applyOperation=function(n,r,o){var e=n.source.queryId;if(null!==e){var t=b.safeGet(this.views_,e);return b.assert(null!=t,"SyncTree gave us an op for an invalid query."),t.applyOperation(n,r,o)}var i=[];return b.forEach(this.views_,function(e,t){i=i.concat(t.applyOperation(n,r,o))}),i},c.prototype.addEventRegistration=function(e,t,n,r,o){var i=e.queryIdentifier(),a=b.safeGet(this.views_,i);if(!a){var s=n.calcCompleteEventCache(o?r:null),u=!1;u=!!s||(s=r instanceof Le?n.calcCompleteEventChildren(r):Le.EMPTY_NODE,!1);var c=new pt(new ft(s,u,!1),new ft(r,o,!1));a=new wt(e,c),this.views_[i]=a}return a.addEventRegistration(t),a.getInitialEvents(t)},c.prototype.removeEventRegistration=function(e,n,r){var t=e.queryIdentifier(),o=[],i=[],a=this.hasCompleteView();if("default"===t){var s=this;b.forEach(this.views_,function(e,t){i=i.concat(t.removeEventRegistration(n,r)),t.isEmpty()&&(delete s.views_[e],t.getQuery().getQueryParams().loadsAllData()||o.push(t.getQuery()))})}else{var u=b.safeGet(this.views_,t);u&&(i=i.concat(u.removeEventRegistration(n,r)),u.isEmpty()&&(delete this.views_[t],u.getQuery().getQueryParams().loadsAllData()||o.push(u.getQuery())))}return a&&!this.hasCompleteView()&&o.push(new c.__referenceConstructor(e.repo,e.path)),{removed:o,events:i}},c.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})},c.prototype.getCompleteServerCache=function(n){var r=null;return b.forEach(this.views_,function(e,t){r=r||t.getCompleteServerCache(n)}),r},c.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return b.safeGet(this.views_,t)},c.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},c.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},c.prototype.getCompleteView=function(){return b.findValue(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()})||null},c}(),St=function(){function s(e){this.writeTree_=e}return s.prototype.addWrite=function(e,t){if(e.isEmpty())return new s(new st(t));var n=this.writeTree_.findRootMostValueAndPath(e);if(null!=n){var r=n.path,o=n.value,i=L.relativePath(r,e);return o=o.updateChild(i,t),new s(this.writeTree_.set(r,o))}var a=new st(t);return new s(this.writeTree_.setTree(e,a))},s.prototype.addWrites=function(n,e){var r=this;return b.forEach(e,function(e,t){r=r.addWrite(n.child(e),t)}),r},s.prototype.removeWrite=function(e){return e.isEmpty()?s.Empty:new s(this.writeTree_.setTree(e,st.Empty))},s.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},s.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(L.relativePath(t.path,e)):null},s.prototype.getCompleteChildren=function(){var n=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Oe,function(e,t){n.push(new de(e,t))}):this.writeTree_.children.inorderTraversal(function(e,t){null!=t.value&&n.push(new de(e,t.value))}),n},s.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var t=this.getCompleteNode(e);return new s(null!=t?new st(t):this.writeTree_.subtree(e))},s.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},s.prototype.apply=function(e){return s.applySubtreeWrite_(L.Empty,this.writeTree_,e)},s.Empty=new s(new st(null)),s.applySubtreeWrite_=function(n,e,r){if(null!=e.value)return r.updateChild(n,e.value);var o=null;return e.children.inorderTraversal(function(e,t){".priority"===e?(b.assert(null!==t.value,"Priority writes must always be leaf nodes"),o=t.value):r=s.applySubtreeWrite_(n.child(e),t,r)}),r.getChild(n).isEmpty()||null===o||(r=r.updateChild(n.child(".priority"),o)),r},s}(),Ct=function(){function c(){this.visibleWrites_=St.Empty,this.allWrites_=[],this.lastWriteId_=-1}return c.prototype.childWrites=function(e){return new Tt(e,this)},c.prototype.addOverwrite=function(e,t,n,r){b.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},c.prototype.addMerge=function(e,t,n){b.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},c.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},c.prototype.removeWrite=function(t){var n=this,e=this.allWrites_.findIndex(function(e){return e.writeId===t});b.assert(0<=e,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[e];this.allWrites_.splice(e,1);for(var o=r.visible,i=!1,a=this.allWrites_.length-1;o&&0<=a;){var s=this.allWrites_[a];s.visible&&(e<=a&&this.recordContainsPath_(s,r.path)?o=!1:r.path.contains(s.path)&&(i=!0)),a--}if(o){if(i)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var u=r.children;b.forEach(u,function(e){n.visibleWrites_=n.visibleWrites_.removeWrite(r.path.child(e))})}return!0}return!1},c.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},c.prototype.calcCompleteEventCache=function(t,e,n,r){if(n||r){var o=this.visibleWrites_.childCompoundWrite(t);if(!r&&o.isEmpty())return e;if(r||null!=e||o.hasCompleteWrite(L.Empty)){var i=c.layerTree_(this.allWrites_,function(e){return(e.visible||r)&&(!n||!~n.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},t);u=e||Le.EMPTY_NODE;return i.apply(u)}return null}var a=this.visibleWrites_.getCompleteNode(t);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(t);if(s.isEmpty())return e;if(null!=e||s.hasCompleteWrite(L.Empty)){var u=e||Le.EMPTY_NODE;return s.apply(u)}return null},c.prototype.calcCompleteEventChildren=function(e,t){var r=Le.EMPTY_NODE,n=this.visibleWrites_.getCompleteNode(e);if(n)return n.isLeafNode()||n.forEachChild(Oe,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(t){var o=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Oe,function(e,t){var n=o.childCompoundWrite(new L(e)).apply(t);r=r.updateImmediateChild(e,n)}),o.getCompleteChildren().forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r},c.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){b.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=e.child(t);if(this.visibleWrites_.hasCompleteWrite(o))return null;var i=this.visibleWrites_.childCompoundWrite(o);return i.isEmpty()?r.getChild(t):i.apply(r.getChild(t))},c.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),o=this.visibleWrites_.getCompleteNode(r);return null!=o?o:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},c.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},c.prototype.calcIndexedSlice=function(e,t,n,r,o,i){var a,s=this.visibleWrites_.childCompoundWrite(e),u=s.getCompleteNode(L.Empty);if(null!=u)a=u;else{if(null==t)return[];a=s.apply(t)}if((a=a.withIndex(i)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=i.getCompare(),f=o?a.getReverseIteratorFrom(n,i):a.getIteratorFrom(n,i),p=f.getNext();p&&c.length<r;)0!==l(p,n)&&c.push(p),p=f.getNext();return c},c.prototype.recordContainsPath_=function(n,r){return n.snap?n.path.contains(r):!!b.findKey(n.children,function(e,t){return n.path.child(t).contains(r)})},c.prototype.resetTree_=function(){this.visibleWrites_=c.layerTree_(this.allWrites_,c.DefaultFilter_,L.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},c.DefaultFilter_=function(e){return e.visible},c.layerTree_=function(e,t,n){for(var r=St.Empty,o=0;o<e.length;++o){var i=e[o];if(t(i)){var a=i.path,s=void 0;if(i.snap)n.contains(a)?(s=L.relativePath(n,a),r=r.addWrite(s,i.snap)):a.contains(n)&&(s=L.relativePath(a,n),r=r.addWrite(L.Empty,i.snap.getChild(s)));else{if(!i.children)throw b.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=L.relativePath(n,a),r=r.addWrites(s,i.children);else if(a.contains(n))if((s=L.relativePath(a,n)).isEmpty())r=r.addWrites(L.Empty,i.children);else{var u=b.safeGet(i.children,s.getFront());if(u){var c=u.getChild(s.popFront());r=r.addWrite(L.Empty,c)}}}}}return r},c}(),Tt=function(){function t(e,t){this.treePath_=e,this.writeTree_=t}return t.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},t.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},t.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},t.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},t.prototype.calcIndexedSlice=function(e,t,n,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,o)},t.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ot=function(){function g(e){this.listenProvider_=e,this.syncPointTree_=st.Empty,this.pendingWriteTree_=new Ct,this.tagToQueryMap_={},this.queryToTagMap_={}}return g.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new ct(it.User,e,t)):[]},g.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=st.fromObject(t);return this.applyOperationToSyncPoints_(new lt(it.User,e,r))},g.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=st.Empty;return null!=n.snap?r=r.set(L.Empty,!0):b.forEach(n.children,function(e,t){r=r.set(new L(e),t)}),this.applyOperationToSyncPoints_(new at(n.path,r,t))}return[]},g.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new ct(it.Server,e,t))},g.prototype.applyServerMerge=function(e,t){var n=st.fromObject(t);return this.applyOperationToSyncPoints_(new lt(it.Server,e,n))},g.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new ut(it.Server,e))},g.prototype.applyTaggedQueryOverwrite=function(e,t,n){var r=this.queryKeyForTag_(n);if(null==r)return[];var o=g.parseQueryKey_(r),i=o.path,a=o.queryId,s=L.relativePath(i,e),u=new ct(it.forServerTaggedQuery(a),s,t);return this.applyTaggedOperation_(i,u)},g.prototype.applyTaggedQueryMerge=function(e,t,n){var r=this.queryKeyForTag_(n);if(r){var o=g.parseQueryKey_(r),i=o.path,a=o.queryId,s=L.relativePath(i,e),u=st.fromObject(t),c=new lt(it.forServerTaggedQuery(a),s,u);return this.applyTaggedOperation_(i,c)}return[]},g.prototype.applyTaggedListenComplete=function(e,t){var n=this.queryKeyForTag_(t);if(n){var r=g.parseQueryKey_(n),o=r.path,i=r.queryId,a=L.relativePath(o,e),s=new ut(it.forServerTaggedQuery(i),a);return this.applyTaggedOperation_(o,s)}return[]},g.prototype.addEventRegistration=function(e,t){var r=e.path,o=null,i=!1;this.syncPointTree_.foreachOnPath(r,function(e,t){var n=L.relativePath(e,r);o=o||t.getCompleteServerCache(n),i=i||t.hasCompleteView()});var n,a=this.syncPointTree_.get(r);(a?(i=i||a.hasCompleteView(),o=o||a.getCompleteServerCache(L.Empty)):(a=new Et,this.syncPointTree_=this.syncPointTree_.set(r,a)),null!=o)?n=!0:(n=!1,o=Le.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(e,t){var n=t.getCompleteServerCache(L.Empty);n&&(o=o.updateImmediateChild(e,n))}));var s=a.viewExistsForQuery(e);if(!s&&!e.getQueryParams().loadsAllData()){var u=g.makeQueryKey_(e);b.assert(!(u in this.queryToTagMap_),"View does not exist, but we have a tag");var c=g.getNextQueryTag_();this.queryToTagMap_[u]=c,this.tagToQueryMap_["_"+c]=u}var l=this.pendingWriteTree_.childWrites(r),f=a.addEventRegistration(e,t,l,o,n);if(!s&&!i){var p=a.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},g.prototype.removeEventRegistration=function(e,t,n){var r=this,o=e.path,i=this.syncPointTree_.get(o),a=[];if(i&&("default"===e.queryIdentifier()||i.viewExistsForQuery(e))){var s=i.removeEventRegistration(e,t,n);i.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=s.removed;a=s.events;var c=-1!==u.findIndex(function(e){return e.getQueryParams().loadsAllData()}),l=this.syncPointTree_.findOnPath(o,function(e,t){return t.hasCompleteView()});if(c&&!l){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),h=0;h<p.length;++h){var d=p[h],v=d.getQuery(),y=this.createListenerForView_(d);this.listenProvider_.startListening(g.queryForListening_(v),this.tagForQuery_(v),y.hashFn,y.onComplete)}}if(!l&&0<u.length&&!n)if(c){this.listenProvider_.stopListening(g.queryForListening_(e),null)}else u.forEach(function(e){var t=r.queryToTagMap_[g.makeQueryKey_(e)];r.listenProvider_.stopListening(g.queryForListening_(e),t)});this.removeTags_(u)}return a},g.prototype.calcCompleteEventCache=function(o,e){var t=this.pendingWriteTree_,n=this.syncPointTree_.findOnPath(o,function(e,t){var n=L.relativePath(e,o),r=t.getCompleteServerCache(n);if(r)return r});return t.calcCompleteEventCache(o,n,e,!0)},g.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),b.forEach(n,function(e,t){r=r.concat(t)}),r})},g.prototype.removeTags_=function(e){for(var t=0;t<e.length;++t){var n=e[t];if(!n.getQueryParams().loadsAllData()){var r=g.makeQueryKey_(n),o=this.queryToTagMap_[r];delete this.queryToTagMap_[r],delete this.tagToQueryMap_["_"+o]}}},g.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},g.prototype.setupListener_=function(e,t){var n=e.path,r=this.tagForQuery_(e),o=this.createListenerForView_(t),i=this.listenProvider_.startListening(g.queryForListening_(e),r,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(n);if(r)b.assert(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var s=a.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),b.forEach(n,function(e,t){r=r.concat(t)}),r}),u=0;u<s.length;++u){var c=s[u];this.listenProvider_.stopListening(g.queryForListening_(c),this.tagForQuery_(c))}return i},g.prototype.createListenerForView_=function(e){var n=this,r=e.getQuery(),o=this.tagForQuery_(r);return{hashFn:function(){return(e.getServerCache()||Le.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return o?n.applyTaggedListenComplete(r.path,o):n.applyListenComplete(r.path);var t=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,r);return n.removeEventRegistration(r,null,t)}}},g.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},g.parseQueryKey_=function(e){var t=e.indexOf("$");return b.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new L(e.substr(0,t))}},g.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]},g.prototype.tagForQuery_=function(e){var t=g.makeQueryKey_(e);return b.safeGet(this.queryToTagMap_,t)},g.getNextQueryTag_=function(){return g.nextQueryTag_++},g.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);b.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},g.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(L.Empty))},g.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var o=t.get(L.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(L.Empty));var i=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);i=i.concat(this.applyOperationHelper_(s,u,c,l))}return o&&(i=i.concat(o.applyOperation(e,r,n))),i},g.prototype.applyOperationDescendantsHelper_=function(i,e,a,s){var u=this,t=e.get(L.Empty);null==a&&null!=t&&(a=t.getCompleteServerCache(L.Empty));var c=[];return e.children.inorderTraversal(function(e,t){var n=a?a.getImmediateChild(e):null,r=s.child(e),o=i.operationForChild(e);o&&(c=c.concat(u.applyOperationDescendantsHelper_(o,t,n,r)))}),t&&(c=c.concat(t.applyOperation(i,s,a))),c},g.nextQueryTag_=1,g}(),kt=function(){function e(){this.rootNode_=Le.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),xt=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(m("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)},e}(),Pt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),b.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return b.deepCopy(this.counters_)},e}(),At=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Pt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),It=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),n=b.clone(e);return this.last_&&b.forEach(this.last_,function(e,t){n[e]=n[e]-t}),this.last_=e,n},e}(),Rt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new It(e);var n=1e4+2e4*Math.random();M(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var n=this,e=this.statsListener_.get(),r={},o=!1;b.forEach(e,function(e,t){0<t&&b.contains(n.statsToReport_,e)&&(r[e]=t,o=!0)}),o&&this.server_.reportStats(r),M(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),jt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],o=r.getPath();null===t||o.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Nt(o)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},e.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Nt=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();d&&m("event: "+t.toString()),D(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Ft=function(){function e(e){this.allowedEvents_=e,this.listeners_={},b.assert(Array.isArray(e)&&0<e.length,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=this.listeners_[e].slice(),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context))return void r.splice(o,1)},e.prototype.validateEventType_=function(t){b.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},e}(),Dt=function(r){function e(){var t,e,n=r.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),n.visible_=!0,e&&document.addEventListener(e,function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger("visible",e))},!1),n}return a.__extends(e,r),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(e){return b.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},e}(Ft),Mt=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||b.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(e){return b.assert("online"===e,"Unknown event type: "+e),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ft),Lt=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var r=this;this.pendingResponses[e]=t;for(var n=function(){var t=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var e=function(e){t[e]&&D(function(){r.onMessage_(t[e])})},n=0;n<t.length;++n)e(n);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){if("break"===n())break}},e}(),Ut=function(){function e(e,t,n,r){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_(e),this.stats_=At.getCollection(t),this.urlFn=function(e){return t.connectionURL(z,e)}}return e.prototype.open=function(e,t){var i=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Lt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){i.log_("Timed out trying to connect."),i.onClosed_(),i.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(b.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!i.isClosed_){i.scriptTagHolder=new Wt(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1],o=e[2];if(i.incrementIncomingBytes_(e),i.scriptTagHolder)if(i.connectTimeoutTimer_&&(clearTimeout(i.connectTimeoutTimer_),i.connectTimeoutTimer_=null),i.everConnected_=!0,"start"==n)i.id=r,i.password=o;else{if("close"!==n)throw new Error("Unrecognized command received: "+n);r?(i.scriptTagHolder.sendNewPolls=!1,i.myPacketOrderer.closeAfter(r,function(){i.onClosed_()})):i.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];i.incrementIncomingBytes_(e),i.myPacketOrderer.handleResponse(n,r)},function(){i.onClosed_()},i.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),i.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=i.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",i.transportSessionId&&(e.s=i.transportSessionId),i.lastSessionId&&(e.ls=i.lastSessionId),!b.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(W)&&(e.r="f");var t=i.urlFn(e);i.log_("Connecting via long-poll to "+t),i.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_||!e.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!b.isNodeSdk()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=b.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=b.base64Encode(t),r=I(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!b.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=b.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Wt=function(){function a(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Je,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,b.isNodeSdk())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=a.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var i="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(e){m("frame writing exception"),e.stack&&m(e.stack),m(e)}}}return a.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||m("No IE domain setting required")}catch(e){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},a.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),b.isNodeSdk()&&this.myID){var t={disconn:"t"};t.id=this.myID,t.pw=this.myPW;var n=this.urlFn(t);a.nodeRestRequest(n)}var r=this.onDisconnect;r&&(this.onDisconnect=null,r())},a.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},a.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;0<this.pendingSegs.length;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var o=this.pendingSegs.shift();n=n+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},a.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},a.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t,1);var r=function(){n.outstandingRequests.remove(t),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(o),r()})},a.prototype.addTag=function(e,n){var r=this;b.isNodeSdk()?this.doNodeLongPoll(e,n):setTimeout(function(){try{if(!r.sendNewPolls)return;var t=r.myIFrame.doc.createElement("script");t.type="text/javascript",t.async=!0,t.src=e,t.onload=t.onreadystatechange=function(){var e=t.readyState;e&&"loaded"!==e&&"complete"!==e||(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),n())},t.onerror=function(){m("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(t)}catch(e){}},Math.floor(1))},a}(),zt=null;"undefined"!=typeof MozWebSocket?zt=MozWebSocket:"undefined"!=typeof WebSocket&&(zt=WebSocket);var Bt=function(){function o(e,t,n,r){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_(this.connId),this.stats_=At.getCollection(t),this.connURL=o.connectionURL_(t,n,r)}return o.connectionURL_=function(e,t,n){var r={v:"5"};return!b.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(W)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},o.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,l.set("previous_websocket_failure",!0);try{if(b.isNodeSdk()){var r=b.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+c.SDK_VERSION+"/"+u.platform+"/"+r}},i=u.env,a=0==this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(o.proxy={origin:a}),this.mySock=new zt(this.connURL,[],o)}else this.mySock=new zt(this.connURL)}catch(e){this.log_("Error instantiating WebSocket.");var s=e.message||e.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},o.prototype.start=function(){},o.forceDisallow=function(){o.forceDisallow_=!0},o.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&parseFloat(t[1])<4.4&&(e=!0)}return!e&&null!==zt&&!o.forceDisallow_},o.previouslyFailed=function(){return l.isInMemoryStorage||!0===l.get("previous_websocket_failure")},o.prototype.markConnectionHealthy=function(){l.remove("previous_websocket_failure")},o.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=b.jsonEval(t);this.onMessage(n)}},o.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},o.prototype.extractFrameCount_=function(e){if(b.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},o.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},o.prototype.send=function(e){this.resetKeepAlive();var t=b.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=I(t,16384);1<n.length&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},o.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},o.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},o.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},o.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},o.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o}(),Vt=function(){function o(e){this.initTransports_(e)}return Object.defineProperty(o,"ALL_TRANSPORTS",{get:function(){return[Ut,Bt]},enumerable:!0,configurable:!0}),o.prototype.initTransports_=function(e){var t=Bt&&Bt.isAvailable(),n=t&&!Bt.previouslyFailed();if(e.webSocketOnly&&(t||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Bt];else{var r=this.transports_=[];R(o.ALL_TRANSPORTS,function(e,t){t&&t.isAvailable()&&r.push(t)})}},o.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},o.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},o}(),qt=function(){function e(e,t,n,r,o,i,a){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=o,this.onKill_=i,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_("c:"+this.id+":"),this.transportManager_=new Vt(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var o=t.healthyTimeout||0;0<o&&(this.healthyTimeout_=M(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&102400<e.conn_.bytesReceived?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&10240<e.conn_.bytesSent?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(e){t===n.conn_?n.onConnectionLost_(e):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(e){2!=n.state_&&(t===n.rx_?n.onPrimaryMessageReceived_(e):t===n.secondaryConn_?n.onSecondaryMessageReceived_(e):n.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=P("t",e),n=P("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=P("t",e),n=P("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=P("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?w("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),M(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):M(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(l.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Ht=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Kt=function(s){function l(e,t,n,r,o,i){var a=s.call(this)||this;if(a.repoInfo_=e,a.onDataUpdate_=t,a.onConnectStatus_=n,a.onServerInfoUpdate_=r,a.authTokenProvider_=o,a.authOverride_=i,a.id=l.nextPersistentConnectionId_++,a.log_=_("p:"+a.id+":"),a.interruptReasons_={},a.listens_={},a.outstandingPuts_=[],a.outstandingPutCount_=0,a.onDisconnectRequestQueue_=[],a.connected_=!1,a.reconnectDelay_=1e3,a.maxReconnectDelay_=3e5,a.securityDebugCallback_=null,a.lastSessionId=null,a.establishConnectionTimer_=null,a.visible_=!1,a.requestCBHash_={},a.requestNumber_=0,a.realtime_=null,a.authToken_=null,a.forceTokenRefresh_=!1,a.invalidAuthTokenCount_=0,a.firstConnection_=!0,a.lastConnectionAttemptTime_=null,a.lastConnectionEstablishedTime_=null,i&&!b.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return a.scheduleConnect_(0),Dt.getInstance().on("visible",a.onVisible_,a),-1===e.host.indexOf("fblocal")&&Mt.getInstance().on("online",a.onOnline_,a),a}return a.__extends(l,s),l.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(b.stringify(o)),b.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},l.prototype.listen=function(e,t,n,r){var o=e.queryIdentifier(),i=e.path.toString();this.log_("Listen called for "+i+" "+o),this.listens_[i]=this.listens_[i]||{},b.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),b.assert(!this.listens_[i][o],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens_[i][o]=a,this.connected_&&this.sendListen_(a)},l.prototype.sendListen_=function(r){var o=this,i=r.query,a=i.path.toString(),s=i.queryIdentifier();this.log_("Listen on "+a+" for "+s);var e={p:a};r.tag&&(e.q=i.queryObject(),e.t=r.tag),e.h=r.hashFn(),this.sendRequest("q",e,function(e){var t=e.d,n=e.s;l.warnOnListenWarnings_(t,i),(o.listens_[a]&&o.listens_[a][s])===r&&(o.log_("listen response",e),"ok"!==n&&o.removeListen_(a,s),r.onComplete&&r.onComplete(n,t))})},l.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&b.contains(e,"w")){var n=b.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',o=t.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},l.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},l.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||b.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},l.prototype.tryAuth=function(){var r=this;if(this.connected_&&this.authToken_){var o=this.authToken_,e=b.isValidFormat(o)?"auth":"gauth",t={cred:o};null===this.authOverride_?t.noauth=!0:"object"==typeof this.authOverride_&&(t.authvar=this.authOverride_),this.sendRequest(e,t,function(e){var t=e.s,n=e.d||"error";r.authToken_===o&&("ok"===t?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(t,n))})}},l.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),b.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},l.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},l.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},l.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},l.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},l.prototype.sendOnDisconnect_=function(e,t,n,r){var o={p:t,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},l.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},l.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},l.prototype.putInternal=function(e,t,n,r,o){var i={p:t,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},l.prototype.sendPut_=function(t){var n=this,r=this.outstandingPuts_[t].action,e=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,e,function(e){n.log_(r+" response",e),delete n.outstandingPuts_[t],n.outstandingPutCount_--,0===n.outstandingPutCount_&&(n.outstandingPuts_=[]),o&&o(e.s,e.d)})},l.prototype.reportStats=function(e){var n=this;if(this.connected_){var t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,function(e){if("ok"!==e.s){var t=e.d;n.log_("reportStats","Error sending stats: "+t)}})}},l.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+b.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},l.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):w("Unrecognized action received from server: "+b.stringify(e)+"\nAre you using the latest client?")},l.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},l.prototype.scheduleConnect_=function(e){var t=this;b.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},l.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},l.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},l.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},l.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+l.nextConnectionId_++,i=this,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())};this.realtime_={close:c,sendRequest:function(e){b.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)}};var e=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(e).then(function(e){s?m("getToken() completed but was canceled"):(m("getToken() completed. Creating connection."),i.authToken_=e&&e.accessToken,u=new qt(o,i.repoInfo_,t,n,r,function(e){S(e+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},a))}).then(null,function(e){i.log_("Failed to get token: "+e),s||(b.CONSTANTS.NODE_ADMIN&&S(e),c())})}},l.prototype.interrupt=function(e){m("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},l.prototype.resume=function(e){m("Resuming connection for reason: "+e),delete this.interruptReasons_[e],b.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},l.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},l.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},l.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return A(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},l.prototype.removeListen_=function(e,t){var n,r=new L(e).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][t],delete this.listens_[r][t],0===b.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},l.prototype.onAuthRevoked_=function(e,t){m("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},l.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},l.prototype.restoreState_=function(){var n=this;this.tryAuth(),b.forEach(this.listens_,function(e,t){b.forEach(t,function(e,t){n.sendListen_(t)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}},l.prototype.sendConnectStats_=function(){var e={},t="js";b.CONSTANTS.NODE_ADMIN?t="admin_node":b.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+c.SDK_VERSION.replace(/\./g,"-")]=1,b.isMobileCordova()?e["framework.cordova"]=1:b.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},l.prototype.shouldReconnect_=function(){var e=Mt.getInstance().currentlyOnline();return b.isEmpty(this.interruptReasons_)&&e},l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l}(Ht),Qt=function(o){function c(e,t,n){var r=o.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=t,r.authTokenProvider_=n,r.log_=_("p:rest:"),r.listens_={},r}return a.__extends(c,o),c.prototype.reportStats=function(e){throw new Error("Method not implemented.")},c.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(b.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},c.prototype.listen=function(e,t,r,o){var i=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var s=c.getListenId_(e,r),u={};this.listens_[s]=u;var n=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",n,function(e,t){var n=t;(404===e&&(e=n=null),null===e&&i.onDataUpdate_(a,n,!1,r),b.safeGet(i.listens_,s)===u)&&o(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},c.prototype.unlisten=function(e,t){var n=c.getListenId_(e,t);delete this.listens_[n]},c.prototype.refreshAuthToken=function(e){},c.prototype.restRequest_=function(o,i,a){var s=this;void 0===i&&(i={}),i.format="export",this.authTokenProvider_.getToken(!1).then(function(e){var t=e&&e.accessToken;t&&(i.auth=t);var n=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+o+"?ns="+s.repoInfo_.namespace+b.querystring(i);s.log_("Sending REST request for "+n);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(a&&4===r.readyState){s.log_("REST Response for "+n+" received. status:",r.status,"response:",r.responseText);var e=null;if(200<=r.status&&r.status<300){try{e=b.jsonEval(r.responseText)}catch(e){S("Failed to parse JSON response for "+n+": "+r.responseText)}a(null,e)}else 401!==r.status&&404!==r.status&&S("Got unsuccessful REST response for "+n+" Status: "+r.status),a(r.status);a=null}},r.open("GET",n,!0),r.send()})},c}(Ht),$t="repo_interrupt",Gt=function(){function e(e,t,n){var a=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new et,this.persistentConnection_=null;var r=new xt(n);if(this.stats_=At.getCollection(e),t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new Qt(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{b.stringify(o)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new Kt(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(e){a.server_.refreshAuthToken(e)}),this.statsReporter_=At.getOrCreateReporter(e,function(){return new Rt(a.stats_,a.server_)}),this.transactions_init_(),this.infoData_=new kt,this.infoSyncTree_=new Ot({startListening:function(e,t,n,r){var o=[],i=a.infoData_.getNode(e.path);return i.isEmpty()||(o=a.infoSyncTree_.applyServerOverwrite(e.path,i),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ot({startListening:function(r,e,t,o){return a.server_.listen(r,t,e,function(e,t){var n=o(e,t);a.eventQueue_.raiseEventsForChangedPath(r.path,n)}),[]},stopListening:function(e,t){a.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new L(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var o=new L(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var i=[];if(r)if(n){var a=b.map(t,function(e){return ze(e)});i=this.serverSyncTree_.applyTaggedQueryMerge(o,a,r)}else{var s=ze(t);i=this.serverSyncTree_.applyTaggedQueryOverwrite(o,s,r)}else if(n){var u=b.map(t,function(e){return ze(e)});i=this.serverSyncTree_.applyServerMerge(o,u)}else{var c=ze(t);i=this.serverSyncTree_.applyServerOverwrite(o,c)}var l=o;0<i.length&&(l=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(l,i)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var n=this;R(e,function(e,t){n.updateInfo_(t,e)})},e.prototype.updateInfo_=function(e,t){var n=new L("/.info/"+e),r=ze(t);this.infoData_.updateSnapshot(n,r);var o=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,o)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(o,e,t,i){var a=this;this.log_("set",{path:o.toString(),value:e,priority:t});var n=this.generateServerValues(),r=ze(e,t),s=nt(r,n),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(o,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(o.toString(),r.val(!0),function(e,t){var n="ok"===e;n||S("set at "+o+" failed: "+e);var r=a.serverSyncTree_.ackUserWrite(u,!n);a.eventQueue_.raiseEventsForChangedPath(o,r),a.callOnCompleteCallback(i,e,t)});var l=this.abortTransactions_(o);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},e.prototype.update=function(i,e,a){var s=this;this.log_("update",{path:i.toString(),value:e});var r=!0,o=this.generateServerValues(),u={};if(b.forEach(e,function(e,t){r=!1;var n=ze(t);u[e]=nt(n,o)}),r)m("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(a,"ok");else{var c=this.getNextWriteId_(),t=this.serverSyncTree_.applyUserMerge(i,u,c);this.eventQueue_.queueEvents(t),this.server_.merge(i.toString(),e,function(e,t){var n="ok"===e;n||S("update at "+i+" failed: "+e);var r=s.serverSyncTree_.ackUserWrite(c,!n),o=0<r.length?s.rerunTransactions_(i):i;s.eventQueue_.raiseEventsForChangedPath(o,r),s.callOnCompleteCallback(a,e,t)}),b.forEach(e,function(e){var t=s.abortTransactions_(i.child(e));s.rerunTransactions_(t)}),this.eventQueue_.raiseEventsForChangedPath(i,[])}},e.prototype.runOnDisconnectEvents_=function(){var r=this;this.log_("onDisconnectEvents");var e,n,o,t=this.generateServerValues(),i=(e=this.onDisconnect_,n=t,o=new et,e.forEachTree(new L(""),function(e,t){o.remember(e,nt(t,n))}),o),a=[];i.forEachTree(L.Empty,function(e,t){a=a.concat(r.serverSyncTree_.applyServerOverwrite(e,t));var n=r.abortTransactions_(e);r.rerunTransactions_(n)}),this.onDisconnect_=new et,this.eventQueue_.raiseEventsForChangedPath(L.Empty,a)},e.prototype.onDisconnectCancel=function(n,r){var o=this;this.server_.onDisconnectCancel(n.toString(),function(e,t){"ok"===e&&o.onDisconnect_.forget(n),o.callOnCompleteCallback(r,e,t)})},e.prototype.onDisconnectSet=function(n,e,r){var o=this,i=ze(e);this.server_.onDisconnectPut(n.toString(),i.val(!0),function(e,t){"ok"===e&&o.onDisconnect_.remember(n,i),o.callOnCompleteCallback(r,e,t)})},e.prototype.onDisconnectSetWithPriority=function(n,e,t,r){var o=this,i=ze(e,t);this.server_.onDisconnectPut(n.toString(),i.val(!0),function(e,t){"ok"===e&&o.onDisconnect_.remember(n,i),o.callOnCompleteCallback(r,e,t)})},e.prototype.onDisconnectUpdate=function(r,n,o){var i=this;if(b.isEmpty(n))return m("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(o,"ok");this.server_.onDisconnectMerge(r.toString(),n,function(e,t){"ok"===e&&b.forEach(n,function(e,t){var n=ze(t);i.onDisconnect_.remember(r.child(e),n)}),i.callOnCompleteCallback(o,e,t)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt($t)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume($t)},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;t=e?(this.statsListener_||(this.statsListener_=new It(this.stats_)),this.statsListener_.get()):this.stats_.get();var r=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);b.forEach(t,function(e,t){for(var n=e.length;n<r+2;n++)e+=" ";console.log(e+t)})}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),m.apply(void 0,[n].concat(e))},e.prototype.callOnCompleteCallback=function(r,o,i){r&&D(function(){if("ok"==o)r(null);else{var e=(o||"error").toUpperCase(),t=e;i&&(t+=": "+i);var n=new Error(t);n.code=e,r(n)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new un(this))},enumerable:!0,configurable:!0}),e}(),Yt=function(){function t(e){this.indexedFilter_=new dt(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,t,n,r,o,i){return this.matches(new de(t,n))||(n=Le.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,o,i)},t.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Le.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Le.EMPTY_NODE);var o=this;return t.forEachChild(Oe,function(e,t){o.matches(new de(e,t))||(r=r.updateImmediateChild(e,Le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},t.prototype.updatePriority=function(e,t){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},t}(),Xt=function(){function e(e){this.rangedFilter_=new Yt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,o,i){return this.rangedFilter_.matches(new de(t,n))||(n=Le.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,o,i):this.fullLimitUpdateChild_(e,t,n,o,i)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Le.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Le.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var i=0;o.hasNext()&&i<this.limit_;){var a=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),i++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Le.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else o=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();i=0;for(var f=!1;o.hasNext();){a=o.getNext();!f&&c(s,a)<=0&&(f=!0),f&&i<this.limit_&&c(a,u)<=0?i++:r=r.updateImmediateChild(a.name,Le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,o){var i;if(this.reverse_){var a=this.index_.getCompare();i=function(e,t){return a(t,e)}}else i=this.index_.getCompare();var s=e;b.assert(s.numChildren()==this.limit_,"");var u=new de(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),p=r.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name==t||s.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var h=null==p?1:i(p,u);if(l&&!n.isEmpty()&&0<=h)return null!=o&&o.trackChildChange(ht.childChangedChange(t,n,f)),s.updateImmediateChild(t,n);null!=o&&o.trackChildChange(ht.childRemovedChange(t,f));var d=s.updateImmediateChild(t,Le.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=o&&o.trackChildChange(ht.childAddedChange(p.name,p.node)),d.updateImmediateChild(p.name,p.node)):d}return n.isEmpty()?e:l&&0<=i(c,u)?(null!=o&&(o.trackChildChange(ht.childRemovedChange(c.name,c.node)),o.trackChildChange(ht.childAddedChange(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Le.EMPTY_NODE)):e},e}(),Zt=function(){function r(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}return r.prototype.hasStart=function(){return this.startSet_},r.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===r.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},r.prototype.getIndexStartValue=function(){return b.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},r.prototype.getIndexStartName=function(){return b.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},r.prototype.hasEnd=function(){return this.endSet_},r.prototype.getIndexEndValue=function(){return b.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},r.prototype.getIndexEndName=function(){return b.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},r.prototype.hasLimit=function(){return this.limitSet_},r.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},r.prototype.getLimit=function(){return b.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},r.prototype.getIndex=function(){return this.index_},r.prototype.copy_=function(){var e=new r;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},r.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},r.prototype.limitToFirst=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_=r.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,t},r.prototype.limitToLast=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_=r.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,t},r.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,n.indexStartName_=null!=t?(n.startNameSet_=!0,t):(n.startNameSet_=!1,""),n},r.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,n.indexEndName_=void 0!==t?(n.endNameSet_=!0,t):(n.endNameSet_=!1,""),n},r.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},r.prototype.getQueryObject=function(){var e=r.WIRE_PROTOCOL_CONSTANTS_,t={};if(this.startSet_&&(t[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(t[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(t[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(t[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){t[e.LIMIT]=this.limit_;var n=this.viewFrom_;""===n&&(n=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),t[e.VIEW_FROM]=n}return this.index_!==Oe&&(t[e.INDEX]=this.index_.toString()),t},r.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},r.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Oe},r.prototype.getNodeFilter=function(){return this.loadsAllData()?new dt(this.getIndex()):this.hasLimit()?new Xt(this):new Yt(this)},r.prototype.toRestQueryStringParameters=function(){var e,t=r.REST_QUERY_CONSTANTS_,n={};return this.isDefault()||(e=this.index_===Oe?t.PRIORITY_INDEX:this.index_===He?t.VALUE_INDEX:this.index_===ge?t.KEY_INDEX:(b.assert(this.index_ instanceof Ke,"Unrecognized index type!"),this.index_.toString()),n[t.ORDER_BY]=b.stringify(e),this.startSet_&&(n[t.START_AT]=b.stringify(this.indexStartValue_),this.startNameSet_&&(n[t.START_AT]+=","+b.stringify(this.indexStartName_))),this.endSet_&&(n[t.END_AT]=b.stringify(this.indexEndValue_),this.endNameSet_&&(n[t.END_AT]+=","+b.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[t.LIMIT_TO_FIRST]=this.limit_:n[t.LIMIT_TO_LAST]=this.limit_)),n},r.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},r.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},r.DEFAULT=new r,r}(),Jt=function(n){function i(e,t){if(!(e instanceof Gt))throw new Error("new Reference() no longer supported - use app.database().");return n.call(this,e,t,Zt.DEFAULT,!1)||this}return a.__extends(i,n),i.prototype.getKey=function(){return b.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},i.prototype.child=function(e){var t,n,r,o;return b.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof L||(null===this.path.getFront()?(t="Reference.child",o=!(n=1),(r=e)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),ue(t,n,r,o)):ue("Reference.child",1,e,!1)),new i(this.repo,this.path.child(e))},i.prototype.getParent=function(){b.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new i(this.repo,e)},i.prototype.getRoot=function(){b.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},i.prototype.databaseProp=function(){return this.repo.database},i.prototype.set=function(e,t){b.validateArgCount("Reference.set",1,2,arguments.length),ce("Reference.set",this.path),ne("Reference.set",1,e,this.path,!1),b.validateCallback("Reference.set",2,t,!0);var n=new b.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},i.prototype.update=function(e,t){if(b.validateArgCount("Reference.update",1,2,arguments.length),ce("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oe("Reference.update",1,e,this.path,!1),b.validateCallback("Reference.update",2,t,!0);var o=new b.Deferred;return this.repo.update(this.path,e,o.wrapCallback(t)),o.promise},i.prototype.setWithPriority=function(e,t,n){if(b.validateArgCount("Reference.setWithPriority",2,3,arguments.length),ce("Reference.setWithPriority",this.path),ne("Reference.setWithPriority",1,e,this.path,!1),ie("Reference.setWithPriority",2,t,!1),b.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new b.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},i.prototype.remove=function(e){return b.validateArgCount("Reference.remove",0,1,arguments.length),ce("Reference.remove",this.path),b.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},i.prototype.transaction=function(e,r,t){if(b.validateArgCount("Reference.transaction",1,3,arguments.length),ce("Reference.transaction",this.path),b.validateCallback("Reference.transaction",1,e,!1),b.validateCallback("Reference.transaction",2,r,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(b.errorPrefix(e,t,r)+"must be a boolean.")}("Reference.transaction",3,t,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===t&&(t=!0);var o=new b.Deferred;"function"==typeof r&&o.promise.catch(function(){});return this.repo.startTransaction(this.path,e,function(e,t,n){e?o.reject(e):o.resolve(new pe(t,n)),"function"==typeof r&&r(e,t,n)},t),o.promise},i.prototype.setPriority=function(e,t){b.validateArgCount("Reference.setPriority",1,2,arguments.length),ce("Reference.setPriority",this.path),ie("Reference.setPriority",1,e,!1),b.validateCallback("Reference.setPriority",2,t,!0);var n=new b.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},i.prototype.push=function(e,t){b.validateArgCount("Reference.push",0,2,arguments.length),ce("Reference.push",this.path),ne("Reference.push",1,e,this.path,!0),b.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),o=he(r),i=this.child(o),a=this.child(o);return n=null!=e?i.set(e,t).then(function(){return a}):Promise.resolve(a),i.then=n.then.bind(n),i.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch(function(){}),i},i.prototype.onDisconnect=function(){return ce("Reference.onDisconnect",this.path),new fe(this.repo,this.path)},Object.defineProperty(i.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),i}(Ze);Ze.__referenceConstructor=Jt,Et.__referenceConstructor=Jt;var en,tn,nn=function(){this.children={},this.childCount=0,this.value=null},rn=function(){function o(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new nn),this.name_=e,this.parent_=t,this.node_=n}return o.prototype.subTree=function(e){for(var t,n=e instanceof L?e:new L(e),r=this;null!==(t=n.getFront());){r=new o(t,r,b.safeGet(r.node_.children,t)||new nn),n=n.popFront()}return r},o.prototype.getValue=function(){return this.node_.value},o.prototype.setValue=function(e){b.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},o.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},o.prototype.hasChildren=function(){return 0<this.node_.childCount},o.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},o.prototype.forEachChild=function(n){var r=this;b.forEach(this.node_.children,function(e,t){n(new o(e,r,t))})},o.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},o.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},o.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},o.prototype.path=function(){return new L(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},o.prototype.name=function(){return this.name_},o.prototype.parent=function(){return this.parent_},o.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},o.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=b.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},o}();(tn=en||(en={}))[tn.RUN=0]="RUN",tn[tn.SENT=1]="SENT",tn[tn.COMPLETED=2]="COMPLETED",tn[tn.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",tn[tn.NEEDS_ABORT=4]="NEEDS_ABORT",Gt.MAX_TRANSACTION_RETRIES_=25,Gt.prototype.transactions_init_=function(){this.transactionQueueTree_=new rn},Gt.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var o=function(){},i=new Jt(this,e);i.on("value",o);var a={path:e,update:t,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){i.off("value",o)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(e);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new Qe(a.currentInputSnapshot,new Jt(this,a.path),Oe);a.onComplete(null,!1,c)}}else{re("transaction failed: Data returned ",u,a.path),a.status=en.RUN;var l=this.transactionQueueTree_.subTree(e),f=l.getValue()||[];f.push(a),l.setValue(f);var p=void 0;if("object"==typeof u&&null!==u&&b.contains(u,".priority"))p=b.safeGet(u,".priority"),b.assert(te(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else p=(this.serverSyncTree_.calcCompleteEventCache(e)||Le.EMPTY_NODE).getPriority().val();p=p;var h=this.generateServerValues(),d=ze(u,p),v=nt(d,h);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=v,a.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(e,v,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,y),this.sendReadyTransactions_()}},Gt.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||Le.EMPTY_NODE},Gt.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);b.assert(0<n.length,"Sending zero length transaction queue"),n.every(function(e){return e.status===en.RUN})&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},Gt.prototype.sendTransactionQueue_=function(s,u){for(var c=this,e=u.map(function(e){return e.currentWriteId}),t=this.getLatestState_(s,e),n=t,r=t.hash(),o=0;o<u.length;o++){var i=u[o];b.assert(i.status===en.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),i.status=en.SENT,i.retryCount++;var a=L.relativePath(s,i.path);n=n.updateChild(a,i.currentOutputSnapshotRaw)}var l=n.val(!0),f=s;this.server_.put(f.toString(),l,function(e){c.log_("transaction put response",{path:f.toString(),status:e});var t=[];if("ok"===e){for(var n=[],r=0;r<u.length;r++){if(u[r].status=en.COMPLETED,t=t.concat(c.serverSyncTree_.ackUserWrite(u[r].currentWriteId)),u[r].onComplete){var o=u[r].currentOutputSnapshotResolved,i=new Jt(c,u[r].path),a=new Qe(o,i,Oe);n.push(u[r].onComplete.bind(null,null,!0,a))}u[r].unwatcher()}c.pruneCompletedTransactionsBelowNode_(c.transactionQueueTree_.subTree(s)),c.sendReadyTransactions_(),c.eventQueue_.raiseEventsForChangedPath(s,t);for(r=0;r<n.length;r++)D(n[r])}else{if("datastale"===e)for(r=0;r<u.length;r++)u[r].status===en.SENT_NEEDS_ABORT?u[r].status=en.NEEDS_ABORT:u[r].status=en.RUN;else{S("transaction at "+f.toString()+" failed: "+e);for(r=0;r<u.length;r++)u[r].status=en.NEEDS_ABORT,u[r].abortReason=e}c.rerunTransactions_(s)}},r)},Gt.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},Gt.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n,r=[],o=[],i=e.filter(function(e){return e.status===en.RUN}).map(function(e){return e.currentWriteId}),a=0;a<e.length;a++){var s=e[a],u=L.relativePath(t,s.path),c=!1,l=void 0;if(b.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===en.NEEDS_ABORT)c=!0,l=s.abortReason,o=o.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===en.RUN)if(s.retryCount>=Gt.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",o=o.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var f=this.getLatestState_(s.path,i);s.currentInputSnapshot=f;var p=e[a].update(f.val());if(void 0!==p){re("transaction failed: Data returned ",p,s.path);var h=ze(p);"object"==typeof p&&null!=p&&b.contains(p,".priority")||(h=h.updatePriority(f.getPriority()));var d=s.currentWriteId,v=this.generateServerValues(),y=nt(h,v);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(d),1),o=(o=o.concat(this.serverSyncTree_.applyUserOverwrite(s.path,y,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(d,!0))}else c=!0,l="nodata",o=o.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,o),o=[],c&&(e[a].status=en.COMPLETED,n=e[a].unwatcher,setTimeout(n,Math.floor(0)),e[a].onComplete))if("nodata"===l){var g=new Jt(this,e[a].path),m=e[a].currentInputSnapshot,_=new Qe(m,g,Oe);r.push(e[a].onComplete.bind(null,null,!1,_))}else r.push(e[a].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<r.length;a++)D(r[a]);this.sendReadyTransactions_()}},Gt.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},Gt.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},Gt.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var o=0;o<r.length;o++)t.push(r[o]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},Gt.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,o=0;o<n.length;o++)n[o].status!==en.COMPLETED&&(n[r]=n[o],r++);n.length=r,e.setValue(0<n.length?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},Gt.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},Gt.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],o=-1,i=0;i<t.length;i++)if(t[i].status===en.SENT_NEEDS_ABORT);else if(t[i].status===en.SENT)b.assert(o===i-1,"All SENT items should be at beginning of queue."),t[o=i].status=en.SENT_NEEDS_ABORT,t[i].abortReason="set";else if(b.assert(t[i].status===en.RUN,"Unexpected transaction status in abort"),t[i].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[i].currentWriteId,!0)),t[i].onComplete){n.push(t[i].onComplete.bind(null,new Error("set"),!1,null))}-1===o?e.setValue(null):t.length=o+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r);for(i=0;i<n.length;i++)D(n[i])}};var on,an="databaseURL",sn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return on||(on=new e),on},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options[an];void 0===n&&E("Can't determine Firebase Database URL.  Be sure to include "+an+" option when calling firebase.initializeApp().");var r=$(n),o=r.repoInfo;return le("Invalid Firebase Database URL",1,r),r.path.isEmpty()||E("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,e).database},e.prototype.deleteRepo=function(e){var t=b.safeGet(this.repos_,e.app.name);t&&b.safeGet(t,e.repoInfo_.toURLString())===e||E("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=b.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var r=b.safeGet(n,e.toURLString());return r&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Gt(e,this.useRestClient_,t),n[e.toURLString()]=r},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),un=function(){function e(e){(this.repo_=e)instanceof Gt||E("Don't call new Database() directly - please use firebase.database()."),this.root_=new Jt(e,L.Empty),this.INTERNAL=new cn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),b.validateArgCount("database.ref",0,1,arguments.length),e instanceof Jt?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),b.validateArgCount(t,1,1,arguments.length);var n=$(e);le(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&E(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&E("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){b.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){b.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}(),cn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return this.database.checkDeleted_("delete"),sn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},e}(),ln=Object.freeze({forceLongPolling:function(){Bt.forceDisallow(),Ut.forceAllow()},forceWebSockets:function(){Ut.forceDisallow()},isWebSocketsAvailable:function(){return Bt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),fn=Kt;Kt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Kt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var pn=qt,hn=B,dn=Object.freeze({DataConnection:fn,RealTimeConnection:pn,hijackHash:function(o){var i=Kt.prototype.put;return Kt.prototype.put=function(e,t,n,r){void 0!==r&&(r=o()),i.call(this,e,t,n,r)},function(){Kt.prototype.put=i}},ConnectionTarget:hn,queryIdentifier:function(e){return e.queryIdentifier()},listens:function(e){return e.repo.persistentConnection_.listens_},forceRestClient:function(e){sn.getInstance().forceRestClient(e)}}),vn=un.ServerValue;function yn(e){var t=e.INTERNAL.registerService("database",function(e,t,n){return sn.getInstance().databaseFromApp(e,n)},{Reference:Jt,Query:Ze,Database:un,enableLogging:y,INTERNAL:ln,ServerValue:vn,TEST_ACCESS:dn},null,!0);b.isNodeSdk()&&(gn.exports=t)}yn(c),mn.registerDatabase=yn,mn.Database=un,mn.Query=Ze,mn.Reference=Jt,mn.enableLogging=y,mn.ServerValue=vn,mn.DataSnapshot=Qe,mn.OnDisconnect=fe}).call(this,_n(33))},function(e,t,n){"use strict";n.r(t),n.d(t,"setLogLevel",function(){return c}),n.d(t,"Logger",function(){return u}),n.d(t,"LogLevel",function(){return i});var i,r,o=[];(r=i||(i={}))[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";var a=i.INFO,s=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},u=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.ERROR].concat(e))},e}();function c(t){o.forEach(function(e){e.logLevel=t})}},function(e,t,n){"use strict";var r,o=(r=n(9))&&"object"==typeof r&&"default"in r?r.default:r,i=n(10);n(121);o._registerModule("content",function(e){switch(e.dbType){case"rtdb":return i.getDefaultImport(n(124))(e);case"cf":return i.getDefaultImport(n(125))(e);default:throw new Error("[FLAMELINK] No valid database type was provided")}})},function(e,t,n){"use strict";var r,o=(r=n(9))&&"object"==typeof r&&"default"in r?r.default:r,i=n(10);o._registerModule("schemas",function(e){switch(e.dbType){case"rtdb":return i.getDefaultImport(n(122))(e);case"cf":return i.getDefaultImport(n(123))(e);default:throw new Error("[FLAMELINK] No valid database type was provided")}})},function(yt,e,gt){"use strict";(function(e){var t,r=(t=gt(9))&&"object"==typeof t&&"default"in t?t.default:t,p=gt(10),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function d(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}function v(i,a,s,u){return new(s||(s=Promise))(function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((u=u.apply(i,a||[])).next())})}function y(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var l=Array.isArray,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function o(e,t){return e(t={exports:{}},t.exports),t.exports}var a="object"==typeof n&&n&&n.Object===Object&&n,i="object"==typeof self&&self&&self.Object===Object&&self,s=a||i||Function("return this")(),u=s.Symbol,c=Object.prototype,f=c.hasOwnProperty,g=c.toString,m=u?u.toStringTag:void 0;var _=function(e){var t=f.call(e,m),n=e[m];try{var r=!(e[m]=void 0)}catch(e){}var o=g.call(e);return r&&(t?e[m]=n:delete e[m]),o},b=Object.prototype.toString;var w=function(e){return b.call(e)},E=u?u.toStringTag:void 0;var S=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?_(e):w(e)};var C=function(e){return null!=e&&"object"==typeof e};var T=function(e){return"symbol"==typeof e||C(e)&&"[object Symbol]"==S(e)},O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/;var x=function(e,t){if(l(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!T(e))||k.test(e)||!O.test(e)||null!=t&&e in Object(t)};var P=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var A,I=function(e){if(!P(e))return!1;var t=S(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},R=s["__core-js_shared__"],j=(A=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"";var N=function(e){return!!j&&j in e},F=Function.prototype.toString;var D=function(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""},M=/^\[object .+?Constructor\]$/,L=Function.prototype,U=Object.prototype,W=L.toString,z=U.hasOwnProperty,B=RegExp("^"+W.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var V=function(e){return!(!P(e)||N(e))&&(I(e)?B:M).test(D(e))};var q=function(e,t){return null==e?void 0:e[t]};var H=function(e,t){var n=q(e,t);return V(n)?n:void 0},K=H(Object,"create");var Q=function(){this.__data__=K?K(null):{},this.size=0};var $=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G=Object.prototype.hasOwnProperty;var Y=function(e){var t=this.__data__;if(K){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return G.call(t,e)?t[e]:void 0},X=Object.prototype.hasOwnProperty;var Z=function(e){var t=this.__data__;return K?void 0!==t[e]:X.call(t,e)};var J=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=K&&void 0===t?"__lodash_hash_undefined__":t,this};function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ee.prototype.clear=Q,ee.prototype.delete=$,ee.prototype.get=Y,ee.prototype.has=Z,ee.prototype.set=J;var te=ee;var ne=function(){this.__data__=[],this.size=0};var re=function(e,t){return e===t||e!=e&&t!=t};var oe=function(e,t){for(var n=e.length;n--;)if(re(e[n][0],t))return n;return-1},ie=Array.prototype.splice;var ae=function(e){var t=this.__data__,n=oe(t,e);return!(n<0||(n==t.length-1?t.pop():ie.call(t,n,1),--this.size,0))};var se=function(e){var t=this.__data__,n=oe(t,e);return n<0?void 0:t[n][1]};var ue=function(e){return-1<oe(this.__data__,e)};var ce=function(e,t){var n=this.__data__,r=oe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}le.prototype.clear=ne,le.prototype.delete=ae,le.prototype.get=se,le.prototype.has=ue,le.prototype.set=ce;var fe=le,pe=H(s,"Map");var he=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var de=function(e,t){var n=e.__data__;return he(t)?n["string"==typeof t?"string":"hash"]:n.map};var ve=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t};var ye=function(e){return de(this,e).get(e)};var ge=function(e){return de(this,e).has(e)};var me=function(e,t){var n=de(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_e.prototype.clear=function(){this.size=0,this.__data__={hash:new te,map:new(pe||fe),string:new te}},_e.prototype.delete=ve,_e.prototype.get=ye,_e.prototype.has=ge,_e.prototype.set=me;var be=_e,we="Expected a function";function Ee(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(we);var a=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(Ee.Cache||be),a}Ee.Cache=be;var Se=Ee;var Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Te=/\\(\\)?/g,Oe=function(e){var t=Se(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(Ce,function(e,t,n,r){o.push(n?r.replace(Te,"$1"):t||e)}),o});var ke=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},xe=1/0,Pe=u?u.prototype:void 0,Ae=Pe?Pe.toString:void 0;var Ie=function e(t){if("string"==typeof t)return t;if(l(t))return ke(t,e)+"";if(T(t))return Ae?Ae.call(t):"";var n=t+"";return"0"==n&&1/t==-xe?"-0":n};var Re=function(e){return null==e?"":Ie(e)};var je=function(e,t){return l(e)?e:x(e,t)?[e]:Oe(Re(e))};var Ne=function(e){if("string"==typeof e||T(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Fe=function(e,t){for(var n=0,r=(t=je(t,e)).length;null!=e&&n<r;)e=e[Ne(t[n++])];return n&&n==r?e:void 0};var De=function(e,t,n){var r=null==e?void 0:Fe(e,t);return void 0===r?n:r},Me=function(){try{var e=H(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Le=function(e,t,n){"__proto__"==t&&Me?Me(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ue=Object.prototype.hasOwnProperty;var We=function(e,t,n){var r=e[t];Ue.call(e,t)&&re(r,n)&&(void 0!==n||t in e)||Le(e,t,n)},ze=/^(?:0|[1-9]\d*)$/;var Be=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ze.test(e))&&-1<e&&e%1==0&&e<t};var Ve=function(e,t,n,r){if(!P(e))return e;for(var o=-1,i=(t=je(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var u=Ne(t[o]),c=n;if(o!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=P(l)?l:Be(t[o+1])?[]:{})}We(s,u,c),s=s[u]}return e};var qe=function(e,t,n){return null==e?e:Ve(e,t,n)};var He=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Ke=function(e){return C(e)&&"[object Arguments]"==S(e)},Qe=Object.prototype,$e=Qe.hasOwnProperty,Ge=Qe.propertyIsEnumerable,Ye=Ke(function(){return arguments}())?Ke:function(e){return C(e)&&$e.call(e,"callee")&&!Ge.call(e,"callee")};var Xe=function(){return!1},Ze=o(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?s.Buffer:void 0,i=(o?o.isBuffer:void 0)||Xe;e.exports=i});var Je=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var tt=function(e){return C(e)&&Je(e.length)&&!!et[S(e)]};var nt=function(t){return function(e){return t(e)}},rt=o(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&a.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),ot=rt&&rt.isTypedArray,it=ot?nt(ot):tt,at=Object.prototype.hasOwnProperty;var st=function(e,t){var n=l(e),r=!n&&Ye(e),o=!n&&!r&&Ze(e),i=!n&&!r&&!o&&it(e),a=n||r||o||i,s=a?He(e.length,String):[],u=s.length;for(var c in e)!t&&!at.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Be(c,u))||s.push(c);return s},ut=Object.prototype;var ct=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ut)};var lt=function(t,n){return function(e){return t(n(e))}}(Object.keys,Object),ft=Object.prototype.hasOwnProperty;var pt=function(e){if(!ct(e))return lt(e);var t=[];for(var n in Object(e))ft.call(e,n)&&"constructor"!=n&&t.push(n);return t};var ht=function(e){return null!=e&&Je(e.length)&&!I(e)};var dt=function(e){return ht(e)?st(e):pt(e)};var vt=function(){if(!arguments.length)return[];var e=arguments[0];return l(e)?e:[e]};yt.exports=function(u){var f={ref:function(e){var t,n=r._ensureService("database",u);return u.emitter.emit("schema:ref",{schemaKey:e}),n.ref((t=e,"/flamelink/environments/"+u.env+"/schemas/"+(t||"")))},getRaw:function(e){var t=e.schemaKey,n=d(e,["schemaKey"]);return p.applyOptionsForRTDB(f.ref(t),n).once(n.event||"value")},get:function(e){void 0===e&&(e={});var o=e.schemaKey,i=d(e,["schemaKey"]);return v(this,void 0,void 0,function(){var t,n,r;return y(this,function(e){switch(e.label){case 0:return t=p.pluckResultFields(i.fields),(n=De(u,"cache.schemas["+u.env+"]"+(o?"."+o:"")))&&!p.hasNonCacheableOptionsForRTDB(i)?[3,2]:[4,f.getRaw(h({schemaKey:o},i))];case 1:r=e.sent(),n=r.val(),e.label=2;case 2:return o&&(n=p.wrap(o,n)),[4,t(o?p.unwrap(o,n):n)];case 3:return[2,e.sent()]}})})},getFieldsRaw:function(e){var t=e.schemaKey,n=d(e,["schemaKey"]);return p.applyOptionsForRTDB(f.ref(t?t+"/fields":""),n).once(n.event||"value")},getFields:function(e){var a=e.schemaKey,s=d(e,["schemaKey"]);return v(this,void 0,void 0,function(){var r,t,n,o,i;return y(this,function(e){switch(e.label){case 0:return r=p.pluckResultFields(s.fields),t=De(u,"cache.schemas["+u.env+"]"+(a?"."+a:"")),a?(n=De(t,"fields",null))&&!p.hasNonCacheableOptionsForRTDB(s)?[3,2]:[4,f.getFieldsRaw(h({schemaKey:a},s))]:[3,4];case 1:i=e.sent(),n=i.val(),e.label=2;case 2:return[4,r(n)];case 3:return[2,e.sent()];case 4:return(o=t)&&!p.hasNonCacheableOptionsForRTDB(s)?[3,6]:[4,f.getFieldsRaw(s)];case 5:i=e.sent(),o=i.val(),e.label=6;case 6:return[2,dt(o).reduce(function(e,t){var n;return Object.assign(e,((n={})[t]=r(o[t].fields),n))},{})]}})})},subscribeRaw:function(e){var t=e.schemaKey,n=e.callback,r=d(e,["schemaKey","callback"]),o=p.applyOptionsForRTDB(f.ref(t),r);return o.on(r.event||"value",function(e){return n(null,e)},function(e){return n(e,null)}),function(){return o.off(r.event||"value")}},subscribe:function(e){var i=e.schemaKey,a=e.callback,t=d(e,["schemaKey","callback"]),s=p.pluckResultFields(t.fields);return f.subscribeRaw(h({schemaKey:i},t,{callback:function(r,o){return v(this,void 0,void 0,function(){var t,n;return y(this,function(e){switch(e.label){case 0:return r?[2,a(r,null)]:(t=i?p.wrap(i,o.val()):o.val(),[4,s(t)]);case 1:return n=e.sent(),[2,a(null,i?p.unwrap(i,n):n)]}})})}}))},subscribeFields:function(e){var u=e.schemaKey,t=e.fields,c=e.callback,n=d(e,["schemaKey","fields","callback"]),l=p.pluckResultFields(t);return f.subscribeRaw(h({schemaKey:u},n,{callback:function(a,s){return v(this,void 0,void 0,function(){var r,t,n,o,i=this;return y(this,function(e){switch(e.label){case 0:return a?[2,c(a,null)]:(r=s.val(),u?[4,l(De(r,"fields",null))]:[3,2]);case 1:return t=e.sent(),[2,c(null,t)];case 2:return[4,Promise.all(Object.keys(r||{}).map(function(n){return v(i,void 0,void 0,function(){var t;return y(this,function(e){switch(e.label){case 0:return[4,l(r[n].fields)];case 1:return t=e.sent(),[2,{sKey:n,sFields:t}]}})})}))];case 3:return n=e.sent(),o=n.reduce(function(e,t){var n;return Object.assign(e,((n={})[t.sKey]=t.sFields,n))},{}),[2,c(null,o)]}})})}}))},add:function(e){var n=e.schemaKey,r=e.data;return v(this,void 0,void 0,function(){var t;return y(this,function(e){switch(e.label){case 0:if("string"!=typeof n||"object"!=typeof r&&null!==r)throw new p.FlamelinkError('"add" called with the incorrect arguments. Check the docs for details.');return t="object"==typeof r?Object.assign({},r,{__meta__:{createdBy:p.getCurrentUser(u),createdDate:p.getTimestamp(u)},description:r.description||"",enabled:void 0===r.enabled||Boolean(r.enabled),fields:r.fields?vt(r.fields):[],group:r.group||"",icon:r.icon||"",id:n,sortable:void 0===r.sortable||Boolean(r.sortable),title:r.title||n,type:r.type||"collection"}):r,[4,f.ref(n).set(t)];case 1:return e.sent(),[2,t]}})})},update:function(e){var n=e.schemaKey,r=e.data;return v(this,void 0,void 0,function(){var t;return y(this,function(e){switch(e.label){case 0:if("string"!=typeof n||"object"!=typeof r&&null!==r)throw new p.FlamelinkError('"update" called with the incorrect arguments. Check the docs for details.');return t="object"==typeof r?Object.assign({},r,{"__meta__/lastModifiedBy":p.getCurrentUser(u),"__meta__/lastModifiedDate":p.getTimestamp(u),id:n}):r,[4,f.ref(n).update(t)];case 1:return e.sent(),[2,t]}})})},remove:function(e){var t=e.schemaKey;if(!t)throw new p.FlamelinkError('"remove" called with the incorrect arguments. Check the docs for details.');return f.ref(t).remove()}};return"function"==typeof De(u,"emitter.once")&&u.emitter.once("schema:ref",function(){u.precache&&(!0===u.precache?[null]:De(u,"precache.schemas",[null])).forEach(function(n){f.subscribe({schemaKey:n,callback:function(e,t){return e?p.logError(e.toString()):qe(u,"cache.schemas["+u.env+"]"+(n?"."+n:""),t)}})})}),f}}).call(this,gt(7))},function(At,e,It){"use strict";(function(e){var t,l=(t=It(9))&&"object"==typeof t&&"default"in t?t.default:t,f=It(10),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function h(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}function d(i,a,s,u){return new(s||(s=Promise))(function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((u=u.apply(i,a||[])).next())})}function v(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var y=Array.isArray,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function r(e,t){return e(t={exports:{}},t.exports),t.exports}var a="object"==typeof n&&n&&n.Object===Object&&n,o="object"==typeof self&&self&&self.Object===Object&&self,s=a||o||Function("return this")(),i=s.Symbol,u=Object.prototype,c=u.hasOwnProperty,g=u.toString,m=i?i.toStringTag:void 0;var _=function(e){var t=c.call(e,m),n=e[m];try{var r=!(e[m]=void 0)}catch(e){}var o=g.call(e);return r&&(t?e[m]=n:delete e[m]),o},b=Object.prototype.toString;var w=function(e){return b.call(e)},E=i?i.toStringTag:void 0;var S=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?_(e):w(e)};var C=function(e){return null!=e&&"object"==typeof e};var T=function(e){return"symbol"==typeof e||C(e)&&"[object Symbol]"==S(e)},O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/;var x=function(e,t){if(y(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!T(e))||k.test(e)||!O.test(e)||null!=t&&e in Object(t)};var P=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var A,I=function(e){if(!P(e))return!1;var t=S(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},R=s["__core-js_shared__"],j=(A=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"";var N=function(e){return!!j&&j in e},F=Function.prototype.toString;var D=function(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""},M=/^\[object .+?Constructor\]$/,L=Function.prototype,U=Object.prototype,W=L.toString,z=U.hasOwnProperty,B=RegExp("^"+W.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var V=function(e){return!(!P(e)||N(e))&&(I(e)?B:M).test(D(e))};var q=function(e,t){return null==e?void 0:e[t]};var H=function(e,t){var n=q(e,t);return V(n)?n:void 0},K=H(Object,"create");var Q=function(){this.__data__=K?K(null):{},this.size=0};var $=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G=Object.prototype.hasOwnProperty;var Y=function(e){var t=this.__data__;if(K){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return G.call(t,e)?t[e]:void 0},X=Object.prototype.hasOwnProperty;var Z=function(e){var t=this.__data__;return K?void 0!==t[e]:X.call(t,e)};var J=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=K&&void 0===t?"__lodash_hash_undefined__":t,this};function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ee.prototype.clear=Q,ee.prototype.delete=$,ee.prototype.get=Y,ee.prototype.has=Z,ee.prototype.set=J;var te=ee;var ne=function(){this.__data__=[],this.size=0};var re=function(e,t){return e===t||e!=e&&t!=t};var oe=function(e,t){for(var n=e.length;n--;)if(re(e[n][0],t))return n;return-1},ie=Array.prototype.splice;var ae=function(e){var t=this.__data__,n=oe(t,e);return!(n<0||(n==t.length-1?t.pop():ie.call(t,n,1),--this.size,0))};var se=function(e){var t=this.__data__,n=oe(t,e);return n<0?void 0:t[n][1]};var ue=function(e){return-1<oe(this.__data__,e)};var ce=function(e,t){var n=this.__data__,r=oe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}le.prototype.clear=ne,le.prototype.delete=ae,le.prototype.get=se,le.prototype.has=ue,le.prototype.set=ce;var fe=le,pe=H(s,"Map");var he=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var de=function(e,t){var n=e.__data__;return he(t)?n["string"==typeof t?"string":"hash"]:n.map};var ve=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t};var ye=function(e){return de(this,e).get(e)};var ge=function(e){return de(this,e).has(e)};var me=function(e,t){var n=de(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_e.prototype.clear=function(){this.size=0,this.__data__={hash:new te,map:new(pe||fe),string:new te}},_e.prototype.delete=ve,_e.prototype.get=ye,_e.prototype.has=ge,_e.prototype.set=me;var be=_e,we="Expected a function";function Ee(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(we);var a=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(Ee.Cache||be),a}Ee.Cache=be;var Se=Ee;var Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Te=/\\(\\)?/g,Oe=function(e){var t=Se(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(Ce,function(e,t,n,r){o.push(n?r.replace(Te,"$1"):t||e)}),o});var ke=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},xe=1/0,Pe=i?i.prototype:void 0,Ae=Pe?Pe.toString:void 0;var Ie=function e(t){if("string"==typeof t)return t;if(y(t))return ke(t,e)+"";if(T(t))return Ae?Ae.call(t):"";var n=t+"";return"0"==n&&1/t==-xe?"-0":n};var Re=function(e){return null==e?"":Ie(e)};var je=function(e,t){return y(e)?e:x(e,t)?[e]:Oe(Re(e))};var Ne=function(e){if("string"==typeof e||T(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Fe=function(e,t){for(var n=0,r=(t=je(t,e)).length;null!=e&&n<r;)e=e[Ne(t[n++])];return n&&n==r?e:void 0};var De=function(e,t,n){var r=null==e?void 0:Fe(e,t);return void 0===r?n:r},Me=function(){try{var e=H(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Le=function(e,t,n){"__proto__"==t&&Me?Me(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ue=Object.prototype.hasOwnProperty;var We=function(e,t,n){var r=e[t];Ue.call(e,t)&&re(r,n)&&(void 0!==n||t in e)||Le(e,t,n)},ze=/^(?:0|[1-9]\d*)$/;var Be=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ze.test(e))&&-1<e&&e%1==0&&e<t};var Ve=function(e,t,n,r){if(!P(e))return e;for(var o=-1,i=(t=je(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var u=Ne(t[o]),c=n;if(o!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=P(l)?l:Be(t[o+1])?[]:{})}We(s,u,c),s=s[u]}return e};var qe=function(e,t,n){return null==e?e:Ve(e,t,n)};var He=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Ke=function(e){return C(e)&&"[object Arguments]"==S(e)},Qe=Object.prototype,$e=Qe.hasOwnProperty,Ge=Qe.propertyIsEnumerable,Ye=Ke(function(){return arguments}())?Ke:function(e){return C(e)&&$e.call(e,"callee")&&!Ge.call(e,"callee")};var Xe=function(){return!1},Ze=r(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?s.Buffer:void 0,i=(o?o.isBuffer:void 0)||Xe;e.exports=i});var Je=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var tt=function(e){return C(e)&&Je(e.length)&&!!et[S(e)]};var nt=function(t){return function(e){return t(e)}},rt=r(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&a.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),ot=rt&&rt.isTypedArray,it=ot?nt(ot):tt,at=Object.prototype.hasOwnProperty;var st=function(e,t){var n=y(e),r=!n&&Ye(e),o=!n&&!r&&Ze(e),i=!n&&!r&&!o&&it(e),a=n||r||o||i,s=a?He(e.length,String):[],u=s.length;for(var c in e)!t&&!at.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Be(c,u))||s.push(c);return s},ut=Object.prototype;var ct=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ut)};var lt=function(t,n){return function(e){return t(n(e))}}(Object.keys,Object),ft=Object.prototype.hasOwnProperty;var pt=function(e){if(!ct(e))return lt(e);var t=[];for(var n in Object(e))ft.call(e,n)&&"constructor"!=n&&t.push(n);return t};var ht=function(e){return null!=e&&Je(e.length)&&!I(e)};var dt=function(e){return ht(e)?st(e):pt(e)};var vt=function(e,t,n){var r=-1,o=e.length;t<0&&(t=o<-t?0:o+t),(n=o<n?o:n)<0&&(n+=o),o=n<t?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i};var yt=function(e,t,n){if(!P(n))return!1;var r=typeof t;return!!("number"==r?ht(n)&&Be(t,n.length):"string"==r&&t in n)&&re(n[t],e)},gt=/^\s+|\s+$/g,mt=/^[-+]0x[0-9a-f]+$/i,_t=/^0b[01]+$/i,bt=/^0o[0-7]+$/i,wt=parseInt;var Et=function(e){if("number"==typeof e)return e;if(T(e))return NaN;if(P(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=P(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(gt,"");var n=_t.test(e);return n||bt.test(e)?wt(e.slice(2),n?2:8):mt.test(e)?NaN:+e};var St=function(e){return e?(e=Et(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0};var Ct=function(e){var t=St(e),n=t%1;return t==t?n?t-n:t:0},Tt=Math.ceil,Ot=Math.max;var kt=function(e,t,n){t=(n?yt(e,t,n):void 0===t)?1:Ot(Ct(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=Array(Tt(r/t));o<r;)a[i++]=vt(e,o,o+=t);return a};var xt=function(){if(!arguments.length)return[];var e=arguments[0];return y(e)?e:[e]},Pt="fl_schemas";At.exports=function(u){var c={ref:function(e){var t=l._ensureService("firestore",u);u.emitter.emit("schema:ref",{schemaKey:e});var n=t.collection(Pt).where("_fl_meta_.env","==",u.env);return e?n.where("_fl_meta_.fl_id","==",e):n},getRaw:function(e){var t=e.schemaKey,n=h(e,["schemaKey"]);return f.applyOptionsForCF(c.ref(t),n).get({source:n.source||"default"})},get:function(e){void 0===e&&(e={});var o=e.schemaKey,i=h(e,["schemaKey"]);return d(this,void 0,void 0,function(){var t,n,r;return v(this,function(e){switch(e.label){case 0:return t=f.pluckResultFields(i.fields),n=De(u,"cache.schemas["+u.env+"]"+(o?"."+o:""),{}),dt(n).length&&!f.hasNonCacheableOptionsForCF(i)?[3,2]:[4,c.getRaw(p({schemaKey:o},i))];case 1:if((r=e.sent()).empty)return[2,null];n={},r.forEach(function(e){var t=e.data();n[De(t,"_fl_meta_.fl_id",e.id)]=t}),o&&(n=f.unwrap(o,n)),e.label=2;case 2:return o&&(n=f.wrap(o,n)),[4,t(o?f.unwrap(o,n):n)];case 3:return[2,e.sent()]}})})},getFields:function(e){var t=e.schemaKey,n=e.fields,i=h(e,["schemaKey","fields"]);return d(this,void 0,void 0,function(){var r,o;return v(this,function(e){switch(e.label){case 0:return r=f.pluckResultFields(n),[4,c.get(p({schemaKey:t},i))];case 1:return(o=e.sent())?t?[2,r(o.fields)]:[2,dt(o).reduce(function(e,t){var n;return Object.assign(e,((n={})[t]=r(o[t].fields),n))},{})]:[2,o]}})})},subscribeRaw:function(e){var t=e.schemaKey,n=e.callback,r=h(e,["schemaKey","callback"]),o=f.applyOptionsForCF(c.ref(t),r),i=[];return u.usesAdminApp||i.push({includeMetadataChanges:!!r.includeMetadataChanges}),i.push(function(e){return n(null,e)},function(e){return n(e,null)}),o.onSnapshot.apply(o,i)},subscribe:function(e){var i=e.schemaKey,a=e.callback,s=e.changeType,t=h(e,["schemaKey","callback","changeType"]),u=f.pluckResultFields(t.fields);return c.subscribeRaw(p({schemaKey:i},t,{callback:function(r,o){return d(this,void 0,void 0,function(){var n,t;return v(this,function(e){if(r)return[2,a(r,null)];if(o.empty)return[2,a(null,null)];if(n={},s){if(o.docChanges().forEach(function(e){if(e.type===s){var t=e.doc.data();n[De(t,"_fl_meta_.fl_id",e.doc.id)]=t}}),!dt(n).length)return[2]}else o.forEach(function(e){var t=e.data();n[De(t,"_fl_meta_.fl_id",e.id)]=t});return t=u(n),[2,a(null,i?t[i]:t)]})})}}))},subscribeFields:function(e){var i=e.schemaKey,t=e.fields,a=e.callback,s=e.changeType,n=h(e,["schemaKey","fields","callback","changeType"]),u=f.pluckResultFields(t);return c.subscribeRaw(p({schemaKey:i},n,{callback:function(n,o){return d(this,void 0,void 0,function(){var r,t;return v(this,function(e){if(n)return[2,a(n,null)];if(o.empty)return[2,a(null,null)];if(r={},s){if(o.docChanges().forEach(function(e){if(e.type===s){var t=e.doc.data();r[De(t,"_fl_meta_.fl_id",e.doc.id)]=De(t,"fields")}}),!dt(r).length)return[2]}else o.forEach(function(e){var t=e.data();r[De(t,"_fl_meta_.fl_id",e.id)]=De(t,"fields")});return t=i?u(r[i]):dt(r).reduce(function(e,t){var n;return Object.assign(e,((n={})[t]=u(r[t]),n))},{}),[2,a(null,t)]})})}}))},add:function(e){var a=e.schemaKey,s=e.data;return d(this,void 0,void 0,function(){var t,n,r,o,i;return v(this,function(e){switch(e.label){case 0:if("string"!=typeof a||"object"!=typeof s)throw new f.FlamelinkError('"add" called with the incorrect arguments. Check the docs for details.');return t=l._ensureService("firestore",u),n=t.collection(Pt),r=n.doc(),o=r.id,i=Object.assign({},s,{_fl_meta_:{createdBy:f.getCurrentUser(u),createdDate:f.getTimestamp(u),env:u.env,docId:o,fl_id:a},description:s.description||"",enabled:void 0===s.enabled||Boolean(s.enabled),fields:s.fields?xt(s.fields):[],group:s.group||"",icon:s.icon||"",id:a,sortable:void 0===s.sortable||Boolean(s.sortable),title:s.title||a,type:s.type||"collection"}),[4,r.set(i)];case 1:return e.sent(),[2,i]}})})},update:function(e){var i=e.schemaKey,a=e.data;return d(this,void 0,void 0,function(){var t,n,r,o;return v(this,function(e){switch(e.label){case 0:if("string"!=typeof i||"object"!=typeof a)throw new f.FlamelinkError('"update" called with the incorrect arguments. Check the docs for details.');return[4,c.ref(i).get()];case 1:return(t=e.sent()).empty?(f.logWarning('No schema existed with a key of "'+i+'" - creating new schema instead.'),[2,c.add({schemaKey:i,data:a})]):(n=[],t.forEach(function(e){return n.push(e)}),r=n[0],o=Object.assign({},a,{"_fl_meta_.createdBy":r.get("_fl_meta_.createdBy"),"_fl_meta_.createdDate":r.get("_fl_meta_.createdDate"),"_fl_meta_.lastModifiedBy":f.getCurrentUser(u),"_fl_meta_.lastModifiedDate":f.getTimestamp(u),"_fl_meta_.fl_id":i,id:i}),[4,r.ref.update(o)]);case 2:return e.sent(),[2,o]}})})},remove:function(e){var i=e.schemaKey;return d(this,void 0,void 0,function(){var t,n,r,o=this;return v(this,function(e){switch(e.label){case 0:if(!i)throw new f.FlamelinkError('"remove" called with the incorrect arguments. Check the docs for details.');return[4,c.getRaw({schemaKey:i})];case 1:return(t=e.sent()).empty?[2]:(n=kt(t.docs,500),r=l._ensureService("firestore",u),[2,f.createQueue(function(n){return d(o,void 0,void 0,function(){var t;return v(this,function(e){return t=r.batch(),n.forEach(function(e){return t.delete(e.ref)}),[2,t.commit()]})})},n).start()])}})})}};return"function"==typeof De(u,"emitter.once")&&u.emitter.once("schema:ref",function(){u.precache&&(!0===u.precache?[null]:De(u,"precache.schemas",[null])).forEach(function(n){c.subscribe({schemaKey:n,callback:function(e,t){return e?f.logError(e.toString()):qe(u,"cache.schemas["+u.env+"]"+(n?"."+n:""),t)}})})}),c}}).call(this,It(7))},function(lt,e,ft){"use strict";(function(e){var t,o=(t=ft(9))&&"object"==typeof t&&"default"in t?t.default:t,v=ft(10),y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}function c(i,a,s,u){return new(s||(s=Promise))(function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((u=u.apply(i,a||[])).next())})}function g(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var l=Array.isArray,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function r(e,t){return e(t={exports:{}},t.exports),t.exports}var a="object"==typeof n&&n&&n.Object===Object&&n,i="object"==typeof self&&self&&self.Object===Object&&self,s=a||i||Function("return this")(),f=s.Symbol,p=Object.prototype,h=p.hasOwnProperty,d=p.toString,m=f?f.toStringTag:void 0;var _=function(e){var t=h.call(e,m),n=e[m];try{var r=!(e[m]=void 0)}catch(e){}var o=d.call(e);return r&&(t?e[m]=n:delete e[m]),o},b=Object.prototype.toString;var w=function(e){return b.call(e)},E=f?f.toStringTag:void 0;var S=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?_(e):w(e)};var C=function(e){return null!=e&&"object"==typeof e};var T=function(e){return"symbol"==typeof e||C(e)&&"[object Symbol]"==S(e)},O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/;var x=function(e,t){if(l(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!T(e))||k.test(e)||!O.test(e)||null!=t&&e in Object(t)};var P=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var A,I=function(e){if(!P(e))return!1;var t=S(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},R=s["__core-js_shared__"],j=(A=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"";var N=function(e){return!!j&&j in e},F=Function.prototype.toString;var D=function(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""},M=/^\[object .+?Constructor\]$/,L=Function.prototype,U=Object.prototype,W=L.toString,z=U.hasOwnProperty,B=RegExp("^"+W.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var V=function(e){return!(!P(e)||N(e))&&(I(e)?B:M).test(D(e))};var q=function(e,t){return null==e?void 0:e[t]};var H=function(e,t){var n=q(e,t);return V(n)?n:void 0},K=H(Object,"create");var Q=function(){this.__data__=K?K(null):{},this.size=0};var $=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G=Object.prototype.hasOwnProperty;var Y=function(e){var t=this.__data__;if(K){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return G.call(t,e)?t[e]:void 0},X=Object.prototype.hasOwnProperty;var Z=function(e){var t=this.__data__;return K?void 0!==t[e]:X.call(t,e)};var J=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=K&&void 0===t?"__lodash_hash_undefined__":t,this};function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ee.prototype.clear=Q,ee.prototype.delete=$,ee.prototype.get=Y,ee.prototype.has=Z,ee.prototype.set=J;var te=ee;var ne=function(){this.__data__=[],this.size=0};var re=function(e,t){return e===t||e!=e&&t!=t};var oe=function(e,t){for(var n=e.length;n--;)if(re(e[n][0],t))return n;return-1},ie=Array.prototype.splice;var ae=function(e){var t=this.__data__,n=oe(t,e);return!(n<0||(n==t.length-1?t.pop():ie.call(t,n,1),--this.size,0))};var se=function(e){var t=this.__data__,n=oe(t,e);return n<0?void 0:t[n][1]};var ue=function(e){return-1<oe(this.__data__,e)};var ce=function(e,t){var n=this.__data__,r=oe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}le.prototype.clear=ne,le.prototype.delete=ae,le.prototype.get=se,le.prototype.has=ue,le.prototype.set=ce;var fe=le,pe=H(s,"Map");var he=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var de=function(e,t){var n=e.__data__;return he(t)?n["string"==typeof t?"string":"hash"]:n.map};var ve=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t};var ye=function(e){return de(this,e).get(e)};var ge=function(e){return de(this,e).has(e)};var me=function(e,t){var n=de(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_e.prototype.clear=function(){this.size=0,this.__data__={hash:new te,map:new(pe||fe),string:new te}},_e.prototype.delete=ve,_e.prototype.get=ye,_e.prototype.has=ge,_e.prototype.set=me;var be=_e,we="Expected a function";function Ee(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(we);var a=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(Ee.Cache||be),a}Ee.Cache=be;var Se=Ee;var Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Te=/\\(\\)?/g,Oe=function(e){var t=Se(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(Ce,function(e,t,n,r){o.push(n?r.replace(Te,"$1"):t||e)}),o});var ke=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},xe=1/0,Pe=f?f.prototype:void 0,Ae=Pe?Pe.toString:void 0;var Ie=function e(t){if("string"==typeof t)return t;if(l(t))return ke(t,e)+"";if(T(t))return Ae?Ae.call(t):"";var n=t+"";return"0"==n&&1/t==-xe?"-0":n};var Re=function(e){return null==e?"":Ie(e)};var je=function(e,t){return l(e)?e:x(e,t)?[e]:Oe(Re(e))};var Ne=function(e){if("string"==typeof e||T(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Fe=function(e,t){for(var n=0,r=(t=je(t,e)).length;null!=e&&n<r;)e=e[Ne(t[n++])];return n&&n==r?e:void 0};var De=function(e,t,n){var r=null==e?void 0:Fe(e,t);return void 0===r?n:r};var Me=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Le=function(e){return C(e)&&"[object Arguments]"==S(e)},Ue=Object.prototype,We=Ue.hasOwnProperty,ze=Ue.propertyIsEnumerable,Be=Le(function(){return arguments}())?Le:function(e){return C(e)&&We.call(e,"callee")&&!ze.call(e,"callee")};var Ve=function(){return!1},qe=r(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?s.Buffer:void 0,i=(o?o.isBuffer:void 0)||Ve;e.exports=i}),He=/^(?:0|[1-9]\d*)$/;var Ke=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&He.test(e))&&-1<e&&e%1==0&&e<t};var Qe=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},$e={};$e["[object Float32Array]"]=$e["[object Float64Array]"]=$e["[object Int8Array]"]=$e["[object Int16Array]"]=$e["[object Int32Array]"]=$e["[object Uint8Array]"]=$e["[object Uint8ClampedArray]"]=$e["[object Uint16Array]"]=$e["[object Uint32Array]"]=!0,$e["[object Arguments]"]=$e["[object Array]"]=$e["[object ArrayBuffer]"]=$e["[object Boolean]"]=$e["[object DataView]"]=$e["[object Date]"]=$e["[object Error]"]=$e["[object Function]"]=$e["[object Map]"]=$e["[object Number]"]=$e["[object Object]"]=$e["[object RegExp]"]=$e["[object Set]"]=$e["[object String]"]=$e["[object WeakMap]"]=!1;var Ge=function(e){return C(e)&&Qe(e.length)&&!!$e[S(e)]};var Ye=function(t){return function(e){return t(e)}},Xe=r(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&a.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),Ze=Xe&&Xe.isTypedArray,Je=Ze?Ye(Ze):Ge,et=Object.prototype.hasOwnProperty;var tt=function(e,t){var n=l(e),r=!n&&Be(e),o=!n&&!r&&qe(e),i=!n&&!r&&!o&&Je(e),a=n||r||o||i,s=a?Me(e.length,String):[],u=s.length;for(var c in e)!t&&!et.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ke(c,u))||s.push(c);return s},nt=Object.prototype;var rt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||nt)};var ot=function(t,n){return function(e){return t(n(e))}}(Object.keys,Object),it=Object.prototype.hasOwnProperty;var at=function(e){if(!rt(e))return ot(e);var t=[];for(var n in Object(e))it.call(e,n)&&"constructor"!=n&&t.push(n);return t};var st=function(e){return null!=e&&Qe(e.length)&&!I(e)};var ut=function(e){return st(e)?tt(e):at(e)},ct=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return e.then(t)},Promise.resolve(e))}};lt.exports=function(h){var d={ref:function(e){var t,n,r;return o._ensureService("database",h).ref((t=e,n=h.env,r=h.locale,Array.isArray(t)?"/flamelink/environments/"+n+"/content/"+(t[0]?t[0]+"/"+r+(t[1]?"/"+t[1]:""):""):"/flamelink/environments/"+n+"/content/"+(t?t+"/"+r:"")))},getRaw:function(e){var t=e.schemaKey,n=e.entryId,r=u(e,["schemaKey","entryId"]);return v.applyOptionsForRTDB(d.ref(n?[t,n]:t),r).once(r.event||"value")},get:function(e){void 0===e&&(e={});var l=e.schemaKey,f=e.entryId,p=u(e,["schemaKey","entryId"]);return c(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u,c;return g(this,function(e){switch(e.label){case 0:return t=v.pluckResultFields(p.fields),n=v.populateEntry(h,l,p.populate),[4,d.getRaw(y({},p,{schemaKey:l,entryId:f}))];case 1:return r=e.sent(),f?[4,ct(v.unwrap(f),n,t,v.wrap(f))(r.val())]:[3,3];case 2:return[2,e.sent()];case 3:return[4,De(h,"modules.schemas").get({schemaKey:l})];case 4:return o=e.sent(),i=o&&"single"===o.type,l?(a=i?v.wrap(l,r.val()):r.val(),[4,ct(n,t)(a)]):[3,6];case 5:return s=e.sent(),[2,i?v.unwrap(l,s):s];case 6:return u=r.val(),c=ut(u).reduce(function(e,t){var n;return Object.assign(e,((n={})[t]=u[t][h.locale],n))},{}),[4,ct(n,t)(c)];case 7:return[2,e.sent()]}})})},getByFieldRaw:function(e){var t=e.schemaKey,n=e.field,r=e.value,o=u(e,["schemaKey","field","value"]);return d.getRaw(y({schemaKey:t},o,{orderByChild:n,equalTo:r}))},getByField:function(e){var t=e.schemaKey,n=e.field,r=e.value,o=u(e,["schemaKey","field","value"]);return c(this,void 0,void 0,function(){return g(this,function(e){return[2,d.get(y({schemaKey:t},o,{orderByChild:n,equalTo:r}))]})})},subscribeRaw:function(e){var t=e.schemaKey,n=e.entryId,r=e.callback,o=u(e,["schemaKey","entryId","callback"]),i=v.applyOptionsForRTDB(d.ref(n?[t,n]:t),o);return i.on(o.event||"value",function(e){return r(null,e)},function(e){return r(e,null)}),function(){return i.off(o.event||"value")}},subscribe:function(e){var i=e.schemaKey,t=e.entryId,a=e.callback,n=u(e,["schemaKey","entryId","callback"]),s=v.pluckResultFields(n.fields);return d.subscribeRaw(y({schemaKey:i,entryId:t},n,{callback:function(r,o){return c(this,void 0,void 0,function(){var t,n;return g(this,function(e){switch(e.label){case 0:return r?[2,a(r,null)]:(t=i?v.wrap(i,o.val()):o.val(),[4,s(t)]);case 1:return n=e.sent(),[2,a(null,i?v.unwrap(i,n):n)]}})})}}))},add:function(e){var i=e.schemaKey,a=e.data;return c(this,void 0,void 0,function(){var t,n,r,o;return g(this,function(e){switch(e.label){case 0:return t=Date.now().toString(),[4,De(h,"modules.schemas",{getFields:function(){throw new v.FlamelinkError('The "schemas" module is required. Please ensure it is properly imported.')}}).getFields({schemaKey:i})];case 1:return n=e.sent(),r=n.reduce(function(e,t){var n;return Object.assign(e,((n={})[t.key]=De(t,"defaultValue",null),n))},{}),o="object"==typeof a?y({},r,a,{__meta__:{createdBy:v.getCurrentUser(h),createdDate:v.getTimestamp(h)},id:t}):a,[4,d.ref([i,t]).set(o)];case 2:return e.sent(),[2,o]}})})},update:function(e){var n=e.schemaKey,r=e.entryId,o=e.data;return c(this,void 0,void 0,function(){var t;return g(this,function(e){switch(e.label){case 0:if("string"!=typeof n||!r||"object"!=typeof o&&null!==o)throw new v.FlamelinkError('"update" called with the incorrect arguments. Check the docs for details.');return t="object"==typeof o?y({},o,{"__meta__/lastModifiedBy":v.getCurrentUser(h),"__meta__/lastModifiedDate":v.getTimestamp(h),id:r}):o,[4,d.ref([n,r]).update(t)];case 1:return e.sent(),[2,t]}})})},remove:function(e){var t=e.schemaKey,n=e.entryId;if(!t)throw new v.FlamelinkError('"remove" called with the incorrect arguments. Check the docs for details.');return d.ref(n?[t,n]:t).remove()}};return d}}).call(this,ft(7))},function(kt,e,xt){"use strict";(function(e){var t,v=(t=xt(9))&&"object"==typeof t&&"default"in t?t.default:t,y=xt(10),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function m(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}function _(i,a,s,u){return new(s||(s=Promise))(function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((u=u.apply(i,a||[])).next())})}function b(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var l=Array.isArray,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function r(e,t){return e(t={exports:{}},t.exports),t.exports}var a="object"==typeof n&&n&&n.Object===Object&&n,o="object"==typeof self&&self&&self.Object===Object&&self,s=a||o||Function("return this")(),i=s.Symbol,u=Object.prototype,c=u.hasOwnProperty,f=u.toString,p=i?i.toStringTag:void 0;var h=function(e){var t=c.call(e,p),n=e[p];try{var r=!(e[p]=void 0)}catch(e){}var o=f.call(e);return r&&(t?e[p]=n:delete e[p]),o},d=Object.prototype.toString;var w=function(e){return d.call(e)},E=i?i.toStringTag:void 0;var S=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?h(e):w(e)};var C=function(e){return null!=e&&"object"==typeof e};var T=function(e){return"symbol"==typeof e||C(e)&&"[object Symbol]"==S(e)},O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/;var x=function(e,t){if(l(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!T(e))||k.test(e)||!O.test(e)||null!=t&&e in Object(t)};var P=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var A,I=function(e){if(!P(e))return!1;var t=S(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},R=s["__core-js_shared__"],j=(A=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"";var N=function(e){return!!j&&j in e},F=Function.prototype.toString;var D=function(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""},M=/^\[object .+?Constructor\]$/,L=Function.prototype,U=Object.prototype,W=L.toString,z=U.hasOwnProperty,B=RegExp("^"+W.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var V=function(e){return!(!P(e)||N(e))&&(I(e)?B:M).test(D(e))};var q=function(e,t){return null==e?void 0:e[t]};var H=function(e,t){var n=q(e,t);return V(n)?n:void 0},K=H(Object,"create");var Q=function(){this.__data__=K?K(null):{},this.size=0};var $=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G=Object.prototype.hasOwnProperty;var Y=function(e){var t=this.__data__;if(K){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return G.call(t,e)?t[e]:void 0},X=Object.prototype.hasOwnProperty;var Z=function(e){var t=this.__data__;return K?void 0!==t[e]:X.call(t,e)};var J=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=K&&void 0===t?"__lodash_hash_undefined__":t,this};function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ee.prototype.clear=Q,ee.prototype.delete=$,ee.prototype.get=Y,ee.prototype.has=Z,ee.prototype.set=J;var te=ee;var ne=function(){this.__data__=[],this.size=0};var re=function(e,t){return e===t||e!=e&&t!=t};var oe=function(e,t){for(var n=e.length;n--;)if(re(e[n][0],t))return n;return-1},ie=Array.prototype.splice;var ae=function(e){var t=this.__data__,n=oe(t,e);return!(n<0||(n==t.length-1?t.pop():ie.call(t,n,1),--this.size,0))};var se=function(e){var t=this.__data__,n=oe(t,e);return n<0?void 0:t[n][1]};var ue=function(e){return-1<oe(this.__data__,e)};var ce=function(e,t){var n=this.__data__,r=oe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}le.prototype.clear=ne,le.prototype.delete=ae,le.prototype.get=se,le.prototype.has=ue,le.prototype.set=ce;var fe=le,pe=H(s,"Map");var he=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var de=function(e,t){var n=e.__data__;return he(t)?n["string"==typeof t?"string":"hash"]:n.map};var ve=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t};var ye=function(e){return de(this,e).get(e)};var ge=function(e){return de(this,e).has(e)};var me=function(e,t){var n=de(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_e.prototype.clear=function(){this.size=0,this.__data__={hash:new te,map:new(pe||fe),string:new te}},_e.prototype.delete=ve,_e.prototype.get=ye,_e.prototype.has=ge,_e.prototype.set=me;var be=_e,we="Expected a function";function Ee(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(we);var a=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(Ee.Cache||be),a}Ee.Cache=be;var Se=Ee;var Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Te=/\\(\\)?/g,Oe=function(e){var t=Se(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(Ce,function(e,t,n,r){o.push(n?r.replace(Te,"$1"):t||e)}),o});var ke=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},xe=1/0,Pe=i?i.prototype:void 0,Ae=Pe?Pe.toString:void 0;var Ie=function e(t){if("string"==typeof t)return t;if(l(t))return ke(t,e)+"";if(T(t))return Ae?Ae.call(t):"";var n=t+"";return"0"==n&&1/t==-xe?"-0":n};var Re=function(e){return null==e?"":Ie(e)};var je=function(e,t){return l(e)?e:x(e,t)?[e]:Oe(Re(e))};var Ne=function(e){if("string"==typeof e||T(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Fe=function(e,t){for(var n=0,r=(t=je(t,e)).length;null!=e&&n<r;)e=e[Ne(t[n++])];return n&&n==r?e:void 0};var De=function(e,t,n){var r=null==e?void 0:Fe(e,t);return void 0===r?n:r};var Me=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Le=function(e){return C(e)&&"[object Arguments]"==S(e)},Ue=Object.prototype,We=Ue.hasOwnProperty,ze=Ue.propertyIsEnumerable,Be=Le(function(){return arguments}())?Le:function(e){return C(e)&&We.call(e,"callee")&&!ze.call(e,"callee")};var Ve=function(){return!1},qe=r(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?s.Buffer:void 0,i=(o?o.isBuffer:void 0)||Ve;e.exports=i}),He=/^(?:0|[1-9]\d*)$/;var Ke=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&He.test(e))&&-1<e&&e%1==0&&e<t};var Qe=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},$e={};$e["[object Float32Array]"]=$e["[object Float64Array]"]=$e["[object Int8Array]"]=$e["[object Int16Array]"]=$e["[object Int32Array]"]=$e["[object Uint8Array]"]=$e["[object Uint8ClampedArray]"]=$e["[object Uint16Array]"]=$e["[object Uint32Array]"]=!0,$e["[object Arguments]"]=$e["[object Array]"]=$e["[object ArrayBuffer]"]=$e["[object Boolean]"]=$e["[object DataView]"]=$e["[object Date]"]=$e["[object Error]"]=$e["[object Function]"]=$e["[object Map]"]=$e["[object Number]"]=$e["[object Object]"]=$e["[object RegExp]"]=$e["[object Set]"]=$e["[object String]"]=$e["[object WeakMap]"]=!1;var Ge=function(e){return C(e)&&Qe(e.length)&&!!$e[S(e)]};var Ye=function(t){return function(e){return t(e)}},Xe=r(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&a.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),Ze=Xe&&Xe.isTypedArray,Je=Ze?Ye(Ze):Ge,et=Object.prototype.hasOwnProperty;var tt=function(e,t){var n=l(e),r=!n&&Be(e),o=!n&&!r&&qe(e),i=!n&&!r&&!o&&Je(e),a=n||r||o||i,s=a?Me(e.length,String):[],u=s.length;for(var c in e)!t&&!et.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ke(c,u))||s.push(c);return s},nt=Object.prototype;var rt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||nt)};var ot=function(t,n){return function(e){return t(n(e))}}(Object.keys,Object),it=Object.prototype.hasOwnProperty;var at=function(e){if(!rt(e))return ot(e);var t=[];for(var n in Object(e))it.call(e,n)&&"constructor"!=n&&t.push(n);return t};var st=function(e){return null!=e&&Qe(e.length)&&!I(e)};var ut=function(e){return st(e)?tt(e):at(e)};var ct=function(t,e){return ke(e,function(e){return t[e]})};var lt=function(e){return null==e?[]:ct(e,ut(e))};var ft=function(e,t,n){var r=-1,o=e.length;t<0&&(t=o<-t?0:o+t),(n=o<n?o:n)<0&&(n+=o),o=n<t?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i};var pt=function(e,t,n){if(!P(n))return!1;var r=typeof t;return!!("number"==r?st(n)&&Ke(t,n.length):"string"==r&&t in n)&&re(n[t],e)},ht=/^\s+|\s+$/g,dt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,yt=/^0o[0-7]+$/i,gt=parseInt;var mt=function(e){if("number"==typeof e)return e;if(T(e))return NaN;if(P(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=P(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ht,"");var n=vt.test(e);return n||yt.test(e)?gt(e.slice(2),n?2:8):dt.test(e)?NaN:+e};var _t=function(e){return e?(e=mt(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0};var bt=function(e){var t=_t(e),n=t%1;return t==t?n?t-n:t:0},wt=Math.ceil,Et=Math.max;var St=function(e,t,n){t=(n?pt(e,t,n):void 0===t)?1:Et(bt(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=Array(wt(r/t));o<r;)a[i++]=ft(e,o,o+=t);return a};var Ct=function(){if(!arguments.length)return[];var e=arguments[0];return l(e)?e:[e]},Tt=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return e.then(t)},Promise.resolve(e))}},Ot="fl_content";kt.exports=function(h){var d={ref:function(e){var t=v._ensureService("firestore",h),n=Ct(e),r=n[0],o=n[1],i=t.collection(Ot).where("_fl_meta_.env","==",h.env).where("_fl_meta_.locale","==",h.locale);return r&&(i=i.where("_fl_meta_.schema","==",r)),o?i.where("_fl_meta_.fl_id","==",o):i},getRaw:function(e){var t=e.schemaKey,n=e.entryId,r=m(e,["schemaKey","entryId"]);return y.applyOptionsForCF(d.ref([t,n]),r).get({source:r.source||"default"})},get:function(e){void 0===e&&(e={});var l=e.schemaKey,f=e.entryId,p=m(e,["schemaKey","entryId"]);return _(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u,c;return b(this,function(e){switch(e.label){case 0:return[4,d.getRaw(g({schemaKey:l,entryId:f},p))];case 1:return(t=e.sent()).empty?[2,null]:(n=v._ensureService("firestore",h),r=y.populateEntriesForCF(n,p),o=y.patchFileUrlForCF(h,p),i=y.pluckResultFields(p.fields),a={},t.forEach(function(e){var t=e.data();a[De(t,"_fl_meta_.fl_id",e.id)]=t}),[4,Promise.all([De(h,"modules.schemas").get({schemaKey:l}),Tt(i,o,r)(a)])]);case 2:return s=e.sent(),u=s[0],c=s[1],"single"===De(u,"type")?[2,lt(c)[0]]:[2,f?De(c,f):c]}})})},getByField:function(e){var t=e.schemaKey,n=e.field,r=e.value,o=e.filters,i=m(e,["schemaKey","field","value","filters"]);return _(this,void 0,void 0,function(){return b(this,function(e){return[2,d.get(g({schemaKey:t},i,{filters:(o||[]).concat([[n,"==",r]])}))]})})},subscribeRaw:function(e){var t=e.schemaKey,n=e.entryId,r=e.callback,o=m(e,["schemaKey","entryId","callback"]),i=y.applyOptionsForCF(d.ref([t,n]),o),a=[];return h.usesAdminApp||a.push({includeMetadataChanges:!!o.includeMetadataChanges}),a.push(function(e){return r(null,e)},function(e){return r(e,null)}),i.onSnapshot.apply(i,a)},subscribe:function(e){var a=e.schemaKey,s=e.entryId,u=e.callback,c=e.changeType,t=m(e,["schemaKey","entryId","callback","changeType"]),l=y.pluckResultFields(t.fields),n=v._ensureService("firestore",h),f=y.populateEntriesForCF(n,t),p=y.patchFileUrlForCF(h,t);return d.subscribeRaw(g({schemaKey:a,entryId:s},t,{callback:function(o,i){return _(this,void 0,void 0,function(){var n,t,r;return b(this,function(e){switch(e.label){case 0:if(o)return[2,u(o,null)];if(i.empty)return[2,u(null,null)];if(n={},c){if(i.docChanges().forEach(function(e){if(e.type===c){var t=e.doc.data();n[De(t,"_fl_meta_.fl_id",e.doc.id)]=t}}),!ut(n).length)return[2]}else i.forEach(function(e){var t=e.data();n[De(t,"_fl_meta_.fl_id",e.id)]=t});return[4,Tt(l,p,f)(n)];case 1:return t=e.sent(),a&&!s&&1===(r=lt(t)).length&&"single"===De(r[0],"_fl_meta_.schemaType")?[2,u(null,r[0])]:[2,u(null,s?t[s]:t)]}})})}}))},add:function(e){var c=e.schemaKey,l=e.entryId,f=e.data;return _(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u;return b(this,function(e){switch(e.label){case 0:if(!c)throw new y.FlamelinkError('Please provide the content entry\'s "schemaKey"');return[4,De(h,"modules.schemas",{getFields:function(){throw new y.FlamelinkError('The "schemas" module is required. Please ensure it is properly imported.')}}).get({schemaKey:c})];case 1:return t=e.sent(),n=De(t,"fields",[]).reduce(function(e,t){var n;return Object.assign(e,((n={})[t.key]=De(t,"defaultValue",null),n))},{}),r=v._ensureService("firestore",h),o=r.doc("fl_schemas/"+c),i=r.collection(Ot),a=i.doc(),s=a.id,u="object"==typeof f?g({},n,f,{_fl_meta_:{createdBy:y.getCurrentUser(h),createdDate:y.getTimestamp(h),docId:s,env:h.env,fl_id:l||s,locale:h.locale,schema:c,schemaType:De(t,"type","collection"),schemaRef:o},id:l||s}):f,[4,a.set(u)];case 2:return e.sent(),[2,u]}})})},update:function(e){var o=e.schemaKey,i=e.entryId,a=e.data;return _(this,void 0,void 0,function(){var t,n,r;return b(this,function(e){switch(e.label){case 0:if(!o||!i||"object"!=typeof a)throw new y.FlamelinkError('"update" called with the incorrect arguments. Check the docs for details.');return t="object"==typeof a?Object.assign({},a,{"_fl_meta_.lastModifiedBy":y.getCurrentUser(h),"_fl_meta_.lastModifiedDate":y.getTimestamp(h),"_fl_meta_.fl_id":i,id:i}):a,[4,d.ref([o,i]).get()];case 1:return(n=e.sent()).empty?(y.logWarning('No entry existed for schema "'+o+'" with ID "'+i+'" - creating new entry instead.'),[2,d.add({schemaKey:o,data:a})]):(r=[],n.forEach(function(e){return r.push(e)}),[4,r[0].ref.update(t)]);case 2:return e.sent(),[2,t]}})})},remove:function(e){var i=e.schemaKey,a=e.entryId;return _(this,void 0,void 0,function(){var t,n,r,o=this;return b(this,function(e){switch(e.label){case 0:return[4,d.getRaw({schemaKey:i,entryId:a})];case 1:return(t=e.sent()).empty?[2]:(n=St(t.docs,500),r=v._ensureService("firestore",h),[2,y.createQueue(function(n){return _(o,void 0,void 0,function(){var t;return b(this,function(e){return t=r.batch(),n.forEach(function(e){return t.delete(e.ref)}),[2,t.commit()]})})},n).start()])}})})}};return d}}).call(this,xt(7))},function(e,t,n){"use strict";var r,o=(r=n(9))&&"object"==typeof r&&"default"in r?r.default:r,i=n(10);o._registerModule("storage",function(e){switch(e.dbType){case"rtdb":return i.getDefaultImport(n(127))(e);case"cf":return i.getDefaultImport(n(129))(e);default:throw new Error("[FLAMELINK] No valid database type was provided")}})},function(So,e,Co){"use strict";(function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var u=t(Co(48)),d=t(Co(63)),i=t(Co(9)),O=Co(10),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}function k(i,a,s,u){return new(s||(s=Promise))(function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((u=u.apply(i,a||[])).next())})}function x(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var r=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};var n=function(t,e){return r(e,function(e){return t[e]})};var l=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function a(e,t){return e(t={exports:{}},t.exports),t.exports}var s="object"==typeof o&&o&&o.Object===Object&&o,f="object"==typeof self&&self&&self.Object===Object&&self,T=s||f||Function("return this")(),p=T.Symbol,h=Object.prototype,y=h.hasOwnProperty,g=h.toString,m=p?p.toStringTag:void 0;var _=function(e){var t=y.call(e,m),n=e[m];try{var r=!(e[m]=void 0)}catch(e){}var o=g.call(e);return r&&(t?e[m]=n:delete e[m]),o},b=Object.prototype.toString;var w=function(e){return b.call(e)},E=p?p.toStringTag:void 0;var S=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?_(e):w(e)};var C=function(e){return null!=e&&"object"==typeof e};var P=function(e){return C(e)&&"[object Arguments]"==S(e)},A=Object.prototype,I=A.hasOwnProperty,R=A.propertyIsEnumerable,j=P(function(){return arguments}())?P:function(e){return C(e)&&I.call(e,"callee")&&!R.call(e,"callee")},N=Array.isArray;var F=function(){return!1},D=a(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?T.Buffer:void 0,i=(o?o.isBuffer:void 0)||F;e.exports=i}),M=/^(?:0|[1-9]\d*)$/;var L=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&M.test(e))&&-1<e&&e%1==0&&e<t};var U=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},W={};W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0,W["[object Arguments]"]=W["[object Array]"]=W["[object ArrayBuffer]"]=W["[object Boolean]"]=W["[object DataView]"]=W["[object Date]"]=W["[object Error]"]=W["[object Function]"]=W["[object Map]"]=W["[object Number]"]=W["[object Object]"]=W["[object RegExp]"]=W["[object Set]"]=W["[object String]"]=W["[object WeakMap]"]=!1;var z=function(e){return C(e)&&U(e.length)&&!!W[S(e)]};var B=function(t){return function(e){return t(e)}},V=a(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&s.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),q=V&&V.isTypedArray,H=q?B(q):z,K=Object.prototype.hasOwnProperty;var Q=function(e,t){var n=N(e),r=!n&&j(e),o=!n&&!r&&D(e),i=!n&&!r&&!o&&H(e),a=n||r||o||i,s=a?l(e.length,String):[],u=s.length;for(var c in e)!t&&!K.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||L(c,u))||s.push(c);return s},$=Object.prototype;var G=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$)};var Y=function(t,n){return function(e){return t(n(e))}},X=Y(Object.keys,Object),Z=Object.prototype.hasOwnProperty;var J=function(e){if(!G(e))return X(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t};var ee=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var te=function(e){if(!ee(e))return!1;var t=S(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var ne=function(e){return null!=e&&U(e.length)&&!te(e)};var re=function(e){return ne(e)?Q(e):J(e)};var oe=function(e){return null==e?[]:n(e,re(e))},ie=Y(Object.getPrototypeOf,Object),ae=Function.prototype,se=Object.prototype,ue=ae.toString,ce=se.hasOwnProperty,le=ue.call(Object);var fe=function(e){if(!C(e)||"[object Object]"!=S(e))return!1;var t=ie(e);if(null===t)return!0;var n=ce.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ue.call(n)==le};var pe=function(){this.__data__=[],this.size=0};var he=function(e,t){return e===t||e!=e&&t!=t};var de=function(e,t){for(var n=e.length;n--;)if(he(e[n][0],t))return n;return-1},ve=Array.prototype.splice;var ye=function(e){var t=this.__data__,n=de(t,e);return!(n<0||(n==t.length-1?t.pop():ve.call(t,n,1),--this.size,0))};var ge=function(e){var t=this.__data__,n=de(t,e);return n<0?void 0:t[n][1]};var me=function(e){return-1<de(this.__data__,e)};var _e=function(e,t){var n=this.__data__,r=de(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}be.prototype.clear=pe,be.prototype.delete=ye,be.prototype.get=ge,be.prototype.has=me,be.prototype.set=_e;var we=be;var Ee=function(){this.__data__=new we,this.size=0};var Se=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Ce=function(e){return this.__data__.get(e)};var Te,Oe=function(e){return this.__data__.has(e)},ke=T["__core-js_shared__"],xe=(Te=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+Te:"";var Pe=function(e){return!!xe&&xe in e},Ae=Function.prototype.toString;var Ie=function(e){if(null!=e){try{return Ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Re=/^\[object .+?Constructor\]$/,je=Function.prototype,Ne=Object.prototype,Fe=je.toString,De=Ne.hasOwnProperty,Me=RegExp("^"+Fe.call(De).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Le=function(e){return!(!ee(e)||Pe(e))&&(te(e)?Me:Re).test(Ie(e))};var Ue=function(e,t){return null==e?void 0:e[t]};var We=function(e,t){var n=Ue(e,t);return Le(n)?n:void 0},ze=We(T,"Map"),Be=We(Object,"create");var Ve=function(){this.__data__=Be?Be(null):{},this.size=0};var qe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},He=Object.prototype.hasOwnProperty;var Ke=function(e){var t=this.__data__;if(Be){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return He.call(t,e)?t[e]:void 0},Qe=Object.prototype.hasOwnProperty;var $e=function(e){var t=this.__data__;return Be?void 0!==t[e]:Qe.call(t,e)};var Ge=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Be&&void 0===t?"__lodash_hash_undefined__":t,this};function Ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ye.prototype.clear=Ve,Ye.prototype.delete=qe,Ye.prototype.get=Ke,Ye.prototype.has=$e,Ye.prototype.set=Ge;var Xe=Ye;var Ze=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Je=function(e,t){var n=e.__data__;return Ze(t)?n["string"==typeof t?"string":"hash"]:n.map};var et=function(e){var t=Je(this,e).delete(e);return this.size-=t?1:0,t};var tt=function(e){return Je(this,e).get(e)};var nt=function(e){return Je(this,e).has(e)};var rt=function(e,t){var n=Je(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ot(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ot.prototype.clear=function(){this.size=0,this.__data__={hash:new Xe,map:new(ze||we),string:new Xe}},ot.prototype.delete=et,ot.prototype.get=tt,ot.prototype.has=nt,ot.prototype.set=rt;var it=ot;var at=function(e,t){var n=this.__data__;if(n instanceof we){var r=n.__data__;if(!ze||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new it(r)}return n.set(e,t),this.size=n.size,this};function st(e){var t=this.__data__=new we(e);this.size=t.size}st.prototype.clear=Ee,st.prototype.delete=Se,st.prototype.get=Ce,st.prototype.has=Oe,st.prototype.set=at;var ut=st;var ct=function(e){return this.__data__.has(e)};function lt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new it;++t<n;)this.add(e[t])}lt.prototype.add=lt.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},lt.prototype.has=ct;var ft=lt;var pt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var ht=function(e,t){return e.has(t)};var dt=function(e,t,n,r,o,i){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&s<u))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,f=!0,p=2&n?new ft:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var h=e[l],d=t[l];if(r)var v=a?r(d,h,l,t,e,i):r(h,d,l,e,t,i);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!pt(t,function(e,t){if(!ht(p,t)&&(h===e||o(h,e,n,r,i)))return p.push(t)})){f=!1;break}}else if(h!==d&&!o(h,d,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f},vt=T.Uint8Array;var yt=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r};var gt=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},mt=p?p.prototype:void 0,_t=mt?mt.valueOf:void 0;var bt=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new vt(e),new vt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return he(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=yt;case"[object Set]":var u=1&r;if(s||(s=gt),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=dt(s(e),s(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(_t)return _t.call(e)==_t.call(t)}return!1};var wt=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var Et=function(e,t,n){var r=t(e);return N(e)?r:wt(r,n(e))};var St=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var Ct=function(){return[]},Tt=Object.prototype.propertyIsEnumerable,Ot=Object.getOwnPropertySymbols,kt=Ot?function(t){return null==t?[]:(t=Object(t),St(Ot(t),function(e){return Tt.call(t,e)}))}:Ct;var xt=function(e){return Et(e,re,kt)},Pt=Object.prototype.hasOwnProperty;var At=function(e,t,n,r,o,i){var a=1&n,s=xt(e),u=s.length;if(u!=xt(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:Pt.call(t,l)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var p=!0;i.set(e,t),i.set(t,e);for(var h=a;++c<u;){var d=e[l=s[c]],v=t[l];if(r)var y=a?r(v,d,l,t,e,i):r(d,v,l,e,t,i);if(!(void 0===y?d===v||o(d,v,n,r,i):y)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var g=e.constructor,m=t.constructor;g!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(p=!1)}return i.delete(e),i.delete(t),p},It=We(T,"DataView"),Rt=We(T,"Promise"),jt=We(T,"Set"),Nt=We(T,"WeakMap"),Ft="[object Map]",Dt="[object Promise]",Mt="[object Set]",Lt="[object WeakMap]",Ut="[object DataView]",Wt=Ie(It),zt=Ie(ze),Bt=Ie(Rt),Vt=Ie(jt),qt=Ie(Nt),Ht=S;(It&&Ht(new It(new ArrayBuffer(1)))!=Ut||ze&&Ht(new ze)!=Ft||Rt&&Ht(Rt.resolve())!=Dt||jt&&Ht(new jt)!=Mt||Nt&&Ht(new Nt)!=Lt)&&(Ht=function(e){var t=S(e),n="[object Object]"==t?e.constructor:void 0,r=n?Ie(n):"";if(r)switch(r){case Wt:return Ut;case zt:return Ft;case Bt:return Dt;case Vt:return Mt;case qt:return Lt}return t});var Kt=Ht,Qt="[object Arguments]",$t="[object Array]",Gt="[object Object]",Yt=Object.prototype.hasOwnProperty;var Xt=function(e,t,n,r,o,i){var a=N(e),s=N(t),u=a?$t:Kt(e),c=s?$t:Kt(t),l=(u=u==Qt?Gt:u)==Gt,f=(c=c==Qt?Gt:c)==Gt,p=u==c;if(p&&D(e)){if(!D(t))return!1;l=!(a=!0)}if(p&&!l)return i||(i=new ut),a||H(e)?dt(e,t,n,r,o,i):bt(e,t,u,n,r,o,i);if(!(1&n)){var h=l&&Yt.call(e,"__wrapped__"),d=f&&Yt.call(t,"__wrapped__");if(h||d){var v=h?e.value():e,y=d?t.value():t;return i||(i=new ut),o(v,y,n,r,i)}}return!!p&&(i||(i=new ut),At(e,t,n,r,o,i))};var Zt=function e(t,n,r,o,i){return t===n||(null==t||null==n||!C(t)&&!C(n)?t!=t&&n!=n:Xt(t,n,r,o,e,i))};var Jt=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var u=(s=n[o])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new ut;if(r)var p=r(c,l,u,e,t,f);if(!(void 0===p?Zt(l,c,3,r,f):p))return!1}}return!0};var en=function(e){return e==e&&!ee(e)};var tn=function(e){for(var t=re(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,en(o)]}return t};var nn=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}};var rn=function(t){var n=tn(t);return 1==n.length&&n[0][2]?nn(n[0][0],n[0][1]):function(e){return e===t||Jt(e,t,n)}};var on=function(e){return"symbol"==typeof e||C(e)&&"[object Symbol]"==S(e)},an=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sn=/^\w*$/;var un=function(e,t){if(N(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!on(e))||sn.test(e)||!an.test(e)||null!=t&&e in Object(t)},cn="Expected a function";function ln(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(cn);var a=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(ln.Cache||it),a}ln.Cache=it;var fn=ln;var pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hn=/\\(\\)?/g,dn=function(e){var t=fn(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(pn,function(e,t,n,r){o.push(n?r.replace(hn,"$1"):t||e)}),o}),vn=1/0,yn=p?p.prototype:void 0,gn=yn?yn.toString:void 0;var mn=function e(t){if("string"==typeof t)return t;if(N(t))return r(t,e)+"";if(on(t))return gn?gn.call(t):"";var n=t+"";return"0"==n&&1/t==-vn?"-0":n};var _n=function(e){return null==e?"":mn(e)};var bn=function(e,t){return N(e)?e:un(e,t)?[e]:dn(_n(e))};var wn=function(e){if("string"==typeof e||on(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var En=function(e,t){for(var n=0,r=(t=bn(t,e)).length;null!=e&&n<r;)e=e[wn(t[n++])];return n&&n==r?e:void 0};var Sn=function(e,t,n){var r=null==e?void 0:En(e,t);return void 0===r?n:r};var Cn=function(e,t){return null!=e&&t in Object(e)};var Tn=function(e,t,n){for(var r=-1,o=(t=bn(t,e)).length,i=!1;++r<o;){var a=wn(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&U(o)&&L(a,o)&&(N(e)||j(e))};var On=function(e,t){return null!=e&&Tn(e,t,Cn)};var kn=function(n,r){return un(n)&&en(r)?nn(wn(n),r):function(e){var t=Sn(e,n);return void 0===t&&t===r?On(e,n):Zt(r,t,3)}};var xn=function(e){return e};var Pn=function(t){return function(e){return null==e?void 0:e[t]}};var An=function(t){return function(e){return En(e,t)}};var In=function(e){return un(e)?Pn(wn(e)):An(e)};var Rn=function(e){return"function"==typeof e?e:null==e?xn:"object"==typeof e?N(e)?kn(e[0],e[1]):rn(e):In(e)};var jn=function(a){return function(e,t,n){var r=Object(e);if(!ne(e)){var o=Rn(t,3);e=re(e),t=function(e){return o(r[e],e,r)}}var i=a(e,t,n);return-1<i?r[o?e[i]:i]:void 0}};var Nn=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1},Fn=/^\s+|\s+$/g,Dn=/^[-+]0x[0-9a-f]+$/i,Mn=/^0b[01]+$/i,Ln=/^0o[0-7]+$/i,Un=parseInt;var Wn=function(e){if("number"==typeof e)return e;if(on(e))return NaN;if(ee(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ee(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Fn,"");var n=Mn.test(e);return n||Ln.test(e)?Un(e.slice(2),n?2:8):Dn.test(e)?NaN:+e};var zn=function(e){return e?(e=Wn(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0};var Bn=function(e){var t=zn(e),n=t%1;return t==t?n?t-n:t:0},Vn=Math.max;var qn=jn(function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Bn(n);return o<0&&(o=Vn(r+o,0)),Nn(e,Rn(t,3),o)}),Hn=function(){try{var e=We(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Kn=function(e,t,n){"__proto__"==t&&Hn?Hn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Qn=Object.prototype.hasOwnProperty;var $n=function(e,t,n){var r=e[t];Qn.call(e,t)&&he(r,n)&&(void 0!==n||t in e)||Kn(e,t,n)};var Gn=function(e,t,n,r){if(!ee(e))return e;for(var o=-1,i=(t=bn(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var u=wn(t[o]),c=n;if(o!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=ee(l)?l:L(t[o+1])?[]:{})}$n(s,u,c),s=s[u]}return e};var Yn=function(e,t,n){return null==e?e:Gn(e,t,n)},Xn=function(e){return"/flamelink/media/folders/"+(e||"")},Zn=Nt&&new Nt,Jn=Zn?function(e,t){return Zn.set(e,t),e}:xn,er=Object.create,tr=function(){function n(){}return function(e){if(!ee(e))return{};if(er)return er(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();var nr=function(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=tr(r.prototype),n=r.apply(t,e);return ee(n)?n:t}};var rr=function(t,e,n){var r=1&e,o=nr(t);return function e(){return(this&&this!==T&&this instanceof e?o:t).apply(r?n:this,arguments)}};var or=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},ir=Math.max;var ar=function(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,u=t.length,c=ir(i-a,0),l=Array(u+c),f=!r;++s<u;)l[s]=t[s];for(;++o<a;)(f||o<i)&&(l[n[o]]=e[o]);for(;c--;)l[s++]=e[o++];return l},sr=Math.max;var ur=function(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,u=-1,c=t.length,l=sr(i-s,0),f=Array(l+c),p=!r;++o<l;)f[o]=e[o];for(var h=o;++u<c;)f[h+u]=t[u];for(;++a<s;)(p||o<i)&&(f[h+n[a]]=e[o++]);return f};var cr=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var lr=function(){};function fr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}var pr=(fr.prototype=tr(lr.prototype)).constructor=fr;var hr=Zn?function(e){return Zn.get(e)}:function(){},dr={},vr=Object.prototype.hasOwnProperty;var yr=function(e){for(var t=e.name+"",n=dr[t],r=vr.call(dr,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t};function gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var mr=(gr.prototype=tr(lr.prototype)).constructor=gr;var _r=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var br=function(e){if(e instanceof pr)return e.clone();var t=new mr(e.__wrapped__,e.__chain__);return t.__actions__=_r(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},wr=Object.prototype.hasOwnProperty;function Er(e){if(C(e)&&!N(e)&&!(e instanceof pr)){if(e instanceof mr)return e;if(wr.call(e,"__wrapped__"))return br(e)}return new mr(e)}var Sr=(Er.prototype=lr.prototype).constructor=Er;var Cr=function(e){var t=yr(e),n=Sr[t];if("function"!=typeof n||!(t in pr.prototype))return!1;if(e===n)return!0;var r=hr(n);return!!r&&e===r[0]},Tr=Date.now;var Or=function(n){var r=0,o=0;return function(){var e=Tr(),t=16-(e-o);if(o=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}},kr=Or(Jn),xr=/\{\n\/\* \[wrapped with (.+)\] \*/,Pr=/,? & /;var Ar=function(e){var t=e.match(xr);return t?t[1].split(Pr):[]},Ir=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Rr=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(Ir,"{\n/* [wrapped with "+t+"] */\n")};var jr=function(e){return function(){return e}},Nr=Or(Hn?function(e,t){return Hn(e,"toString",{configurable:!0,enumerable:!1,value:jr(t),writable:!0})}:xn);var Fr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var Dr=function(e){return e!=e};var Mr=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1};var Lr=function(e,t,n){return t==t?Mr(e,t,n):Nn(e,Dr,n)};var Ur=function(e,t){return!(null==e||!e.length)&&-1<Lr(e,t,0)},Wr=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var zr=function(n,r){return Fr(Wr,function(e){var t="_."+e[0];r&e[1]&&!Ur(n,t)&&n.push(t)}),n.sort()};var Br=function(e,t,n){var r=t+"";return Nr(e,Rr(r,zr(Ar(r),n)))};var Vr=function(e,t,n,r,o,i,a,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,o,l?i:void 0,l?a:void 0,l?void 0:i,l?void 0:a,s,u,c],p=n.apply(void 0,f);return Cr(e)&&kr(p,f),p.placeholder=r,Br(p,e,t)};var qr=function(e){return e.placeholder},Hr=Math.min;var Kr=function(e,t){for(var n=e.length,r=Hr(t.length,n),o=_r(e);r--;){var i=t[r];e[r]=L(i,n)?o[i]:void 0}return e},Qr="__lodash_placeholder__";var $r=function(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==Qr||(e[n]=Qr,i[o++]=n)}return i},Gr=1,Yr=2,Xr=8,Zr=16,Jr=128,eo=512;function to(c,l,f,p,h,d,v,y,g,m){var _=l&Jr,b=l&Gr,w=l&Yr,E=l&(Xr|Zr),S=l&eo,C=w?void 0:nr(c);return function e(){for(var t=arguments.length,n=Array(t),r=t;r--;)n[r]=arguments[r];if(E)var o=qr(e),i=cr(n,o);if(p&&(n=ar(n,p,h,E)),d&&(n=ur(n,d,v,E)),t-=i,E&&t<m){var a=$r(n,o);return Vr(c,l,to,e.placeholder,f,n,a,y,g,m-t)}var s=b?f:this,u=w?s[c]:c;return t=n.length,y?n=Kr(n,y):S&&1<t&&n.reverse(),_&&g<t&&(n.length=g),this&&this!==T&&this instanceof e&&(u=C||nr(u)),u.apply(s,n)}}var no=to;var ro=function(a,s,u){var c=nr(a);return function e(){for(var t=arguments.length,n=Array(t),r=t,o=qr(e);r--;)n[r]=arguments[r];var i=t<3&&n[0]!==o&&n[t-1]!==o?[]:$r(n,o);return(t-=i.length)<u?Vr(a,s,no,e.placeholder,void 0,n,i,void 0,void 0,u-t):or(this&&this!==T&&this instanceof e?c:a,this,n)}};var oo=function(s,e,u,c){var l=1&e,f=nr(s);return function e(){for(var t=-1,n=arguments.length,r=-1,o=c.length,i=Array(o+n),a=this&&this!==T&&this instanceof e?f:s;++r<o;)i[r]=c[r];for(;n--;)i[r++]=arguments[++t];return or(a,l?u:this,i)}},io="__lodash_placeholder__",ao=Math.min;var so=function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var u=e[3];e[3]=u?ar(u,s,t[4]):s,e[4]=u?$r(e[3],io):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?ur(u,s,t[6]):s,e[6]=u?$r(e[5],io):t[6]),(s=t[7])&&(e[7]=s),128&r&&(e[8]=null==e[8]?t[8]:ao(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e},uo=Math.max;var co=function(e,t,n,r,o,i,a,s){var u=2&t;if(!u&&"function"!=typeof e)throw new TypeError("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=o=void 0),a=void 0===a?a:uo(Bn(a),0),s=void 0===s?s:Bn(s),c-=o?o.length:0,64&t){var l=r,f=o;r=o=void 0}var p=u?void 0:hr(e),h=[e,t,n,r,o,l,f,i,a,s];if(p&&so(h,p),e=h[0],t=h[1],n=h[2],r=h[3],o=h[4],!(s=h[9]=void 0===h[9]?u?0:e.length:uo(h[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)d=8==t||16==t?ro(e,t,s):32!=t&&33!=t||o.length?no.apply(void 0,h):oo(e,t,n,r);else var d=rr(e,t,n);return Br((p?Jn:kr)(d,h),e,t)},lo=8;function fo(e,t,n){var r=co(e,lo,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=fo.placeholder,r}fo.placeholder={};var po=fo;var ho=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n};var vo=function(u){return function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[u?a:++r];if(!1===t(o[s],s,o))break}return e}}();var yo=function(i,a){return function(e,t){if(null==e)return e;if(!ne(e))return i(e,t);for(var n=e.length,r=a?n:-1,o=Object(e);(a?r--:++r<n)&&!1!==t(o[r],r,o););return e}}(function(e,t){return e&&vo(e,t,re)});var go=function(e,r,o,i,t){return t(e,function(e,t,n){o=i?(i=!1,e):r(o,e,t,n)}),o};var mo=function(e,t,n){var r=N(e)?ho:go,o=arguments.length<3;return r(e,Rn(t,4),n,o,yo)},_o=po(function(o,e){return o?mo(e,function(e,t,n){var r;return String(t.folderId)===String(o)?Object.assign(e,((r={})[n]=t,r)):e},{}):e}),bo=function(e,t){var n=void 0===t?{}:t,r=n.width,o=n.path;return o?"/flamelink/media/sized/"+o+"/"+e:"/flamelink/media/"+(r?"sized/"+r+"/":"")+e},wo=function(e,t,n){var r=t.map(function(e){return Object.assign({},e,{width:parseInt(e.width||e.maxWidth,10)})},[]).sort(function(e,t){return e.width-t.width}).find(function(e){return e.width>=n});r?e.options=Object.assign(e.options,r):O.logWarning("The provided size ("+n+") has been ignored because it did not match any of the given file's available sizes.\nAvailable sizes: "+t.map(function(e){return e.width}).join(", "))},Eo=["id","parentId","children","order"];So.exports=function(C){var T={_getFolderId:function(e){var t=e.folderName,o=void 0===t?"Root":t;return k(this,void 0,void 0,function(){var t,n,r;return x(this,function(e){switch(e.label){case 0:return o?[4,i._ensureService("database",C).ref(Xn()).once("value")]:[2,null];case 1:return t=e.sent(),n=t.val(),(r=qn(n,{name:o}))?[2,r.id]:[2,r]}})})},_getFolderIdFromOptions:function(e){var t=void 0===e?{folderId:"",folderName:""}:e,n=t.folderId,r=t.folderName;return k(this,void 0,void 0,function(){return x(this,function(e){return n?[2,n]:[2,T._getFolderId({folderName:r})]})})},_setFile:function(n){return k(this,void 0,void 0,function(){var t;return x(this,function(e){return t=Object.assign({},n,{__meta__:{createdBy:O.getCurrentUser(C),createdDate:O.getTimestamp(C)}}),[2,T.fileRef(n.id).set(t)]})})},_createSizedImage:function(f,p,h){var e=this;return void 0===h&&(h={}),new O.PromiseEmitter(function(u,c,l){return k(e,void 0,void 0,function(){var t,n,r,o,i,a,s;return x(this,function(e){switch(e.label){case 0:return h&&(h.path||h.width||h.maxWidth)?(t=O.getStorageServiceFactory(C),l.emit(T.UploadEvents.RESIZE_IMAGE_STARTED,p,h),[4,d(f,h)]):[3,3];case 1:return n=e.sent(),l.emit(T.UploadEvents.RESIZE_IMAGE_FINISHED,p,h),r=T.ref(p,{path:h.path,width:h.width||h.maxWidth}),l.emit(T.UploadEvents.SIZED_FILE_UPLOAD_STARTED,p,h),o=C.usesAdminApp?"upload":"put",i=r[o](n),a=void 0,Sn(t,"TaskEvent")&&(a=i.on(t.TaskEvent.STATE_CHANGED,function(e){l.emit(T.UploadEvents.SIZED_FILE_UPLOAD_STATE_CHANGED,e,h)})),[4,i];case 2:return s=e.sent(),"function"==typeof a&&a(),l.emit(T.UploadEvents.SIZED_FILE_UPLOAD_FINISHED,p,h),[2,u(s)];case 3:return c(new O.FlamelinkError("Invalid size object supplied - please refer to https://flamelink.github.io/flamelink-js-sdk/#/storage?id=upload for more details on upload options.\nImage upload for supplied size skipped for file: "+p)),[2]}})})})},ref:function(e,t){var n=c(t,[]);if(C.isNodeEnvironment&&!C.usesAdminApp)throw new O.FlamelinkError("\nThe Firebase client-side SDK cannot access the Storage Bucket server-side.\nPlease use the admin SDK instead - https://www.npmjs.com/package/firebase-admin\n\nInstructions here: https://flamelink.github.io/flamelink-js-sdk/#/getting-started?id=usage\n        ","service-unavailable",!1);var r=i._ensureService("storage",C);if(/:\/\//.test(e)){if(C.usesAdminApp)throw new O.FlamelinkError("Retrieving files from URL is not supported for the admin SDK","service-unavailable",!1);return r.refFromURL(e)}return C.usesAdminApp?r.bucket().file(bo(e,n)):r.ref(bo(e,n))},folderRef:function(e){return i._ensureService("database",C).ref(Xn(e))},fileRef:function(e){return i._ensureService("database",C).ref("/flamelink/media/files/"+(e||""))},getFoldersRaw:function(e){var t=c(e,[]);return k(this,void 0,void 0,function(){return x(this,function(e){return[2,O.applyOptionsForRTDB(T.folderRef(),t).once(t.event||"value")]})})},getFolders:function(e){var i=e.fields,a=e.structure,s=c(e,["fields","structure"]);return k(this,void 0,void 0,function(){var t,n,r,o;return x(this,function(e){switch(e.label){case 0:return t=Array.isArray(i)?Array.from(new Set(Eo.concat(i))):i,n=O.pluckResultFields(t),r=O.formatStructure(a,{idProperty:"id",parentProperty:"parentId"}),[4,T.getFoldersRaw(s)];case 1:return o=e.sent(),"nested"===a||"tree"===a?[2,u(n,r,oe)(o.val())]:[2,n(o.val())]}})})},getFileRaw:function(e){var t=e.fileId,n=c(e,["fileId"]);return k(this,void 0,void 0,function(){return x(this,function(e){if(!t)throw new O.FlamelinkError('"storage.getFileRaw()" should be called with at least the file ID');return[2,O.applyOptionsForRTDB(T.fileRef(t),n).once(n.event||"value")]})})},getFile:function(e){var r=e.fileId,o=c(e,["fileId"]);return k(this,void 0,void 0,function(){var t,n;return x(this,function(e){switch(e.label){case 0:if(!r)throw new O.FlamelinkError('"storage.getFile()" should be called with at least the file ID');return t=O.pluckResultFields(o.fields),[4,T.getFileRaw(v({fileId:r},o))];case 1:return n=e.sent(),[4,u(O.unwrap(r),t,O.wrap(r))(n.val())];case 2:return[2,e.sent()]}})})},getFilesRaw:function(e){var t=c(e,[]);return k(this,void 0,void 0,function(){return x(this,function(e){return[2,O.applyOptionsForRTDB(T.fileRef(),t).once(t.event||"value")]})})},getFiles:function(e){var s=c(e,[]);return k(this,void 0,void 0,function(){var t,n,r,o,i,a;return x(this,function(e){switch(e.label){case 0:return t={},n=Object.assign(t,s,s.mediaType?{orderByChild:"type",equalTo:s.mediaType}:{}),[4,T._getFolderIdFromOptions(n)];case 1:return r=e.sent(),o=_o(r),i=O.pluckResultFields(n.fields),[4,T.getFilesRaw(n)];case 2:return a=e.sent(),[2,u(i,o)(a.val())]}})})},getURL:function(e){var h=e.fileId,d=c(e,["fileId"]);return k(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u,c,l,f,p;return x(this,function(e){switch(e.label){case 0:if(!h)throw new O.FlamelinkError('"storage.getURL()" should be called with at least the file ID');return t=d.size,[4,T.getFile(v({fileId:h},d))];case 1:return(n=e.sent())?(r=n.file,o=n.sizes,i={filename:r,options:{}},fe(t)?(s=(a=t).width,u=a.height,c=a.quality,s&&u&&c&&(t.path=s+"_"+u+"_"+Math.round(100*parseFloat(c.toString()))),t.path&&Sn(o,"[0].path")?o.find(function(e){return e.path===t.path})?i.options=Object.assign(i.options,{path:t.path}):O.logWarning("The provided path ("+t.path+") has been ignored because it did not match any of the given file's available paths.\nAvailable paths: "+o.map(function(e){return e.path}).join(", ")):s&&o&&o.length&&wo(i,o,parseInt(s.toString(),10))):"string"==typeof t&&o&&o.length&&(l="device"===t?function(){if("undefined"==typeof window)throw new O.FlamelinkError("The device's screen resolution can only be retrieved from a browser environment.","incompatibility");var e="devicePixelRatio"in window?window.devicePixelRatio:1;return Math.max(window.screen.width,window.screen.height)*e}():t,wo(i,o,Number(l))),[4,T.ref(i.filename,i.options)]):[2,n];case 2:return f=e.sent(),C.usesAdminApp?[4,f.getSignedUrl({action:"read",expires:"01-01-2500"})]:[3,4];case 3:return p=e.sent(),[2,Sn(p,"[0]","")];case 4:return[2,f.getDownloadURL()]}})})},getMetadata:function(e){var r=e.fileId,o=c(e,["fileId"]);return k(this,void 0,void 0,function(){var t,n;return x(this,function(e){switch(e.label){case 0:if(!r)throw new O.FlamelinkError('"storage.getMetadata()" should be called with at least the file ID');return[4,T.getFile(v({fileId:r},o))];case 1:if(!(t=e.sent()))throw new O.FlamelinkError('There is no file for File ID: "'+r+'"');return n=t.file,[2,T.ref(n).getMetadata()]}})})},updateMetadata:function(e){var r=e.fileId,o=e.data;return k(this,void 0,void 0,function(){var t,n;return x(this,function(e){switch(e.label){case 0:if(!r||!o)throw new O.FlamelinkError('"storage.updateMetadata()" should be called with the "fileID" and the "data" object');return[4,T.getFile({fileId:r})];case 1:if(!(t=e.sent()))throw new O.FlamelinkError('There is no file for File ID: "'+r+'"');return n=t.file,[2,T.ref(n).updateMetadata(o)]}})})},deleteFile:function(e){var r=e.fileId,a=c(e,["fileId"]);return k(this,void 0,void 0,function(){var t,o,n,i=this;return x(this,function(e){switch(e.label){case 0:if(C.usesAdminApp)throw new O.FlamelinkError('"storage.deleteFile()" is not currently supported for server-side use.');if(!r)throw new O.FlamelinkError('"storage.deleteFile()" should be called with at least the file ID');return[4,T.getFile(v({fileId:r},a))];case 1:return(t=e.sent())?(o=t.file,n=t.sizes,[4,T.ref(o).delete()]):[2,t];case 2:return e.sent(),Array.isArray(n)?[4,Promise.all(n.map(function(r){return k(i,void 0,void 0,function(){var t,n;return x(this,function(e){return t=r.width||r.maxWidth,n=r.path,t||n?[2,T.ref(o,{width:t,path:n}).delete()]:[2,Promise.resolve()]})})}))]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2,T.fileRef(r).remove()]}})})},upload:function(E,S){var e=this;return void 0===S&&(S={}),new O.PromiseEmitter(function(_,b,w){return k(e,void 0,void 0,function(){var t,n,r,o,i,a,s,u,c,l,f,p,h,d,v,y,g,m=this;return x(this,function(e){switch(e.label){case 0:return e.trys.push([0,7,,8]),t=O.getStorageServiceFactory(C),w.emit(T.UploadEvents.START),n=S.sizes,r=S.overwriteSizes,[4,Sn(C,"modules.settings",{getImageSizes:function(){}}).getImageSizes()];case 1:return(o=e.sent())&&(n||r?n&&n.length&&!r&&Yn(S,"sizes",o.concat(n)||[]):Yn(S,"sizes",o||[])),(!S.sizes||S.sizes&&0===S.sizes.length||Array.isArray(S.sizes)&&0===S.sizes.filter(function(e){return!(240!==e.width&&240!==e.maxWidth||e.height||e.quality)}).length)&&(Array.isArray(S.sizes)?S.sizes.push({width:240}):Yn(S,"sizes",[{width:240}])),i=Date.now().toString(),a=Sn(S,"metadata",{}),s="object"==typeof E&&E.name||"string"==typeof a.name?i+"_"+(a.name||E.name):i,u=T.ref(s,S),c=C.usesAdminApp?"upload":"string"==typeof E?"putString":"put",l=[E],[4,T._getFolderIdFromOptions(S)];case 2:return"number"==typeof(f=e.sent())&&(f=f.toString()),Yn(S,"metadata.customMetadata.flamelinkFileId",i),Yn(S,"metadata.customMetadata.flamelinkFolderId",f),l.push(S.metadata),"putString"===c&&S.stringEncoding&&l.splice(1,0,S.stringEncoding),p=u[c].apply(u,l),w.emit(T.UploadEvents.MAIN_FILE_UPLOAD_STARTED),h=void 0,Sn(t,"TaskEvent")&&(h=p.on(t.TaskEvent.STATE_CHANGED,function(e){w.emit(T.UploadEvents.MAIN_FILE_UPLOAD_STATE_CHANGED,e)})),[4,p];case 3:return d=e.sent(),"function"==typeof h&&h(),w.emit(T.UploadEvents.MAIN_FILE_UPLOAD_FINISHED),v=/^image\//.test(Sn(d,"metadata.contentType"))?"images":"files",y={id:i,file:Sn(d,"metadata.name",""),folderId:T.folderRef(f),type:v,contentType:Sn(d,"metadata.contentType","")},"images"===v&&"put"===c&&Array.isArray(S.sizes)?(w.emit(T.UploadEvents.SIZED_FILES_UPLOAD_STARTED),y.sizes=S.sizes.map(function(e){var t=e.width,n=e.height,r=e.quality;return t&&n&&r?Object.assign({},e,{path:t+"_"+n+"_"+Math.round(100*parseFloat(r.toString()))}):e}),[4,Promise.all(y.sizes.map(function(r){return k(m,void 0,void 0,function(){var t,n;return x(this,function(e){switch(e.label){case 0:return t=T._createSizedImage(E,s,r),n=t.on("*",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];w.emit.apply(w,[e].concat(t))}),[4,t];case 1:return e.sent(),n(),[2]}})})}))]):[3,5];case 4:e.sent(),w.emit(T.UploadEvents.SIZED_FILES_UPLOAD_FINISHED),e.label=5;case 5:return w.emit(T.UploadEvents.DB_PERSIST_STARTED),[4,T._setFile(y)];case 6:return e.sent(),w.emit(T.UploadEvents.DB_PERSIST_FINISHED),w.emit(T.UploadEvents.SUCCESS,y),[2,_(y)];case 7:return g=e.sent(),w.emit(T.UploadEvents.FAILURE,g),b(g),[3,8];case 8:return[2]}})})})},get UploadEvents(){return e=O.getStorageServiceFactory(C),v({ALL:"*",START:"upload_start",SUCCESS:"upload_success",FAILURE:"upload_failure",DB_PERSIST_STARTED:"file_db_persist_started",DB_PERSIST_FINISHED:"file_db_persist_finished",MAIN_FILE_UPLOAD_STARTED:"main_file_upload_started",MAIN_FILE_UPLOAD_FINISHED:"main_file_upload_finished",SIZED_FILES_UPLOAD_STARTED:"sized_files_upload_started",SIZED_FILES_UPLOAD_FINISHED:"sized_files_upload_finished",SIZED_FILE_UPLOAD_STARTED:"sized_file_upload_started",SIZED_FILE_UPLOAD_FINISHED:"sized_file_upload_finished",RESIZE_IMAGE_STARTED:"resize_image_start",RESIZE_IMAGE_FINISHED:"resize_image_finished"},Sn(e,"TaskEvent.STATE_CHANGED")?{MAIN_FILE_UPLOAD_STATE_CHANGED:"main_file_upload_"+e.TaskEvent.STATE_CHANGED,SIZED_FILE_UPLOAD_STATE_CHANGED:"sized_file_upload_"+e.TaskEvent.STATE_CHANGED}:{});var e}};return T}}).call(this,Co(7))},function(t,r,e){"use strict";var a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var l=!1,e=function e(t){return t instanceof e?t:this instanceof e?void(this.EXIFwrapped=t):new e(t)};t.exports&&(r=t.exports=e);var c=(r.EXIF=e).Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},f=e.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},p=e.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},h=e.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},d=e.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function o(e){return!!e.exifdata}function n(r,o){function t(e){var t=u(e),n=function(e){var t=new DataView(e);l&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1))return l&&console.log("Not a valid JPEG"),!1;var n=2,r=e.byteLength,o=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};for(;n<r;){if(o(t,n)){var i=t.getUint8(n+7);i%2!=0&&(i+=1),0===i&&(i=4);var a=n+8+i,s=t.getUint16(n+6+i);return y(e,a,s)}n++}}(e);r.exifdata=t||{},r.iptcdata=n||{},o&&o.call(r)}var e,n,i;if(r.src)if(/^data\:/i.test(r.src))t(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,o=new ArrayBuffer(r),i=new Uint8Array(o),a=0;a<r;a++)i[a]=n.charCodeAt(a);return o}(r.src));else if(/^blob\:/i.test(r.src)){(s=new FileReader).onload=function(e){t(e.target.result)},e=r.src,n=function(e){s.readAsArrayBuffer(e)},(i=new XMLHttpRequest).open("GET",e,!0),i.responseType="blob",i.onload=function(e){200!=this.status&&0!==this.status||n(this.response)},i.send()}else{var a=new XMLHttpRequest;a.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";t(a.response),a=null},a.open("GET",r.src,!0),a.responseType="arraybuffer",a.send(null)}else if(self.FileReader&&(r instanceof self.Blob||r instanceof self.File)){var s;(s=new FileReader).onload=function(e){l&&console.log("Got file of length "+e.target.result.byteLength),t(e.target.result)},s.readAsArrayBuffer(r)}}function u(e){var t=new DataView(e);if(l&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return l&&console.log("Not a valid JPEG"),!1;for(var n,r=2,o=e.byteLength;r<o;){if(255!=t.getUint8(r))return l&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(n=t.getUint8(r+1),l&&console.log(n),225==n)return l&&console.log("Found 0xFFE1 marker"),i(t,r+4,t.getUint16(r+2));r+=2+t.getUint16(r+2)}}var v={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function y(e,t,n){for(var r,o,i,a,s=new DataView(e),u={},c=t;c<t+n;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(a=s.getUint8(c+2))in v&&((i=s.getInt16(c+3))+5,o=v[a],r=_(s,c+5,i),u.hasOwnProperty(o)?u[o]instanceof Array?u[o].push(r):u[o]=[u[o],r]:u[o]=r),c++;return u}function g(e,t,n,r,o){var i,a,s,u=e.getUint16(n,!o),c={};for(s=0;s<u;s++)i=n+12*s+2,!(a=r[e.getUint16(i,!o)])&&l&&console.log("Unknown tag: "+e.getUint16(i,!o)),c[a]=m(e,i,t,n,o);return c}function m(e,t,n,r,o){var i,a,s,u,c,l,f=e.getUint16(t+2,!o),p=e.getUint32(t+4,!o),h=e.getUint32(t+8,!o)+n;switch(f){case 1:case 7:if(1==p)return e.getUint8(t+8,!o);for(i=4<p?h:t+8,a=[],u=0;u<p;u++)a[u]=e.getUint8(i+u);return a;case 2:return _(e,i=4<p?h:t+8,p-1);case 3:if(1==p)return e.getUint16(t+8,!o);for(i=2<p?h:t+8,a=[],u=0;u<p;u++)a[u]=e.getUint16(i+2*u,!o);return a;case 4:if(1==p)return e.getUint32(t+8,!o);for(a=[],u=0;u<p;u++)a[u]=e.getUint32(h+4*u,!o);return a;case 5:if(1==p)return c=e.getUint32(h,!o),l=e.getUint32(h+4,!o),(s=new Number(c/l)).numerator=c,s.denominator=l,s;for(a=[],u=0;u<p;u++)c=e.getUint32(h+8*u,!o),l=e.getUint32(h+4+8*u,!o),a[u]=new Number(c/l),a[u].numerator=c,a[u].denominator=l;return a;case 9:if(1==p)return e.getInt32(t+8,!o);for(a=[],u=0;u<p;u++)a[u]=e.getInt32(h+4*u,!o);return a;case 10:if(1==p)return e.getInt32(h,!o)/e.getInt32(h+4,!o);for(a=[],u=0;u<p;u++)a[u]=e.getInt32(h+8*u,!o)/e.getInt32(h+4+8*u,!o);return a}}function _(e,t,n){for(var r="",o=t;o<t+n;o++)r+=String.fromCharCode(e.getUint8(o));return r}function i(e,t){if("Exif"!=_(e,t,4))return l&&console.log("Not valid EXIF data! "+_(e,t,4)),!1;var n,r,o,i,a,s=t+6;if(18761==e.getUint16(s))n=!1;else{if(19789!=e.getUint16(s))return l&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(s+2,!n))return l&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var u=e.getUint32(s+4,!n);if(u<8)return l&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(s+4,!n)),!1;if((r=g(e,s,s+u,f,n)).ExifIFDPointer)for(o in i=g(e,s,s+r.ExifIFDPointer,c,n)){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":i[o]=d[o][i[o]];break;case"ExifVersion":case"FlashpixVersion":i[o]=String.fromCharCode(i[o][0],i[o][1],i[o][2],i[o][3]);break;case"ComponentsConfiguration":i[o]=d.Components[i[o][0]]+d.Components[i[o][1]]+d.Components[i[o][2]]+d.Components[i[o][3]]}r[o]=i[o]}if(r.GPSInfoIFDPointer)for(o in a=g(e,s,s+r.GPSInfoIFDPointer,p,n)){switch(o){case"GPSVersionID":a[o]=a[o][0]+"."+a[o][1]+"."+a[o][2]+"."+a[o][3]}r[o]=a[o]}return r.thumbnail=function(e,t,n,r){var o,i,a,s,u=(i=t+n,a=r,s=(o=e).getUint16(i,!a),o.getUint32(i+2+12*s,!a));if(!u)return{};if(u>e.byteLength)return{};var c=g(e,t,t+u,h,r);if(c.Compression)switch(c.Compression){case 6:if(c.JpegIFOffset&&c.JpegIFByteCount){var l=t+c.JpegIFOffset,f=c.JpegIFByteCount;c.blob=new Blob([new Uint8Array(e.buffer,l,f)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",c.Compression)}else 2==c.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return c}(e,s,u,n),r}e.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(o(e)?t&&t.call(e):n(e,t),!0)},e.getTag=function(e,t){if(o(e))return e.exifdata[t]},e.getIptcTag=function(e,t){if(o(e))return e.iptcdata[t]},e.getAllTags=function(e){if(!o(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},e.getAllIptcTags=function(e){if(!o(e))return{};var t,n=e.iptcdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},e.pretty=function(e){if(!o(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"==s(n[t])?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},e.readFromBinaryFile=function(e){return u(e)},void 0===(a=function(){return e}.apply(r,[]))||(t.exports=a)}).call(void 0)},function(So,e,Co){"use strict";(function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var d=t(Co(48)),v=t(Co(63)),y=t(Co(9)),O=Co(10),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}function k(i,a,s,u){return new(s||(s=Promise))(function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((u=u.apply(i,a||[])).next())})}function x(n,r){var o,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function r(e,t){return e(t={exports:{}},t.exports),t.exports}var a="object"==typeof n&&n&&n.Object===Object&&n,o="object"==typeof self&&self&&self.Object===Object&&self,T=a||o||Function("return this")(),s=T.Symbol,u=Object.prototype,c=u.hasOwnProperty,l=u.toString,f=s?s.toStringTag:void 0;var p=function(e){var t=c.call(e,f),n=e[f];try{var r=!(e[f]=void 0)}catch(e){}var o=l.call(e);return r&&(t?e[f]=n:delete e[f]),o},h=Object.prototype.toString;var m=function(e){return h.call(e)},_=s?s.toStringTag:void 0;var b=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_&&_ in Object(e)?p(e):m(e)};var w=function(t,n){return function(e){return t(n(e))}},E=w(Object.getPrototypeOf,Object);var S=function(e){return null!=e&&"object"==typeof e},C=Function.prototype,P=Object.prototype,A=C.toString,I=P.hasOwnProperty,R=A.call(Object);var j=function(e){if(!S(e)||"[object Object]"!=b(e))return!1;var t=E(e);if(null===t)return!0;var n=I.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==R};var N=function(){this.__data__=[],this.size=0};var F=function(e,t){return e===t||e!=e&&t!=t};var D=function(e,t){for(var n=e.length;n--;)if(F(e[n][0],t))return n;return-1},M=Array.prototype.splice;var L=function(e){var t=this.__data__,n=D(t,e);return!(n<0||(n==t.length-1?t.pop():M.call(t,n,1),--this.size,0))};var U=function(e){var t=this.__data__,n=D(t,e);return n<0?void 0:t[n][1]};var W=function(e){return-1<D(this.__data__,e)};var z=function(e,t){var n=this.__data__,r=D(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function B(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}B.prototype.clear=N,B.prototype.delete=L,B.prototype.get=U,B.prototype.has=W,B.prototype.set=z;var V=B;var q=function(){this.__data__=new V,this.size=0};var H=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var K=function(e){return this.__data__.get(e)};var Q=function(e){return this.__data__.has(e)};var $=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var G,Y=function(e){if(!$(e))return!1;var t=b(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},X=T["__core-js_shared__"],Z=(G=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"";var J=function(e){return!!Z&&Z in e},ee=Function.prototype.toString;var te=function(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ne=/^\[object .+?Constructor\]$/,re=Function.prototype,oe=Object.prototype,ie=re.toString,ae=oe.hasOwnProperty,se=RegExp("^"+ie.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ue=function(e){return!(!$(e)||J(e))&&(Y(e)?se:ne).test(te(e))};var ce=function(e,t){return null==e?void 0:e[t]};var le=function(e,t){var n=ce(e,t);return ue(n)?n:void 0},fe=le(T,"Map"),pe=le(Object,"create");var he=function(){this.__data__=pe?pe(null):{},this.size=0};var de=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ve=Object.prototype.hasOwnProperty;var ye=function(e){var t=this.__data__;if(pe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ve.call(t,e)?t[e]:void 0},ge=Object.prototype.hasOwnProperty;var me=function(e){var t=this.__data__;return pe?void 0!==t[e]:ge.call(t,e)};var _e=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pe&&void 0===t?"__lodash_hash_undefined__":t,this};function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}be.prototype.clear=he,be.prototype.delete=de,be.prototype.get=ye,be.prototype.has=me,be.prototype.set=_e;var we=be;var Ee=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Se=function(e,t){var n=e.__data__;return Ee(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ce=function(e){var t=Se(this,e).delete(e);return this.size-=t?1:0,t};var Te=function(e){return Se(this,e).get(e)};var Oe=function(e){return Se(this,e).has(e)};var ke=function(e,t){var n=Se(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xe.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(fe||V),string:new we}},xe.prototype.delete=Ce,xe.prototype.get=Te,xe.prototype.has=Oe,xe.prototype.set=ke;var Pe=xe;var Ae=function(e,t){var n=this.__data__;if(n instanceof V){var r=n.__data__;if(!fe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pe(r)}return n.set(e,t),this.size=n.size,this};function Ie(e){var t=this.__data__=new V(e);this.size=t.size}Ie.prototype.clear=q,Ie.prototype.delete=H,Ie.prototype.get=K,Ie.prototype.has=Q,Ie.prototype.set=Ae;var Re=Ie;var je=function(e){return this.__data__.has(e)};function Ne(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Pe;++t<n;)this.add(e[t])}Ne.prototype.add=Ne.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ne.prototype.has=je;var Fe=Ne;var De=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Me=function(e,t){return e.has(t)};var Le=function(e,t,n,r,o,i){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&s<u))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,f=!0,p=2&n?new Fe:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var h=e[l],d=t[l];if(r)var v=a?r(d,h,l,t,e,i):r(h,d,l,e,t,i);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!De(t,function(e,t){if(!Me(p,t)&&(h===e||o(h,e,n,r,i)))return p.push(t)})){f=!1;break}}else if(h!==d&&!o(h,d,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f},Ue=T.Uint8Array;var We=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r};var ze=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},Be=s?s.prototype:void 0,Ve=Be?Be.valueOf:void 0;var qe=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Ue(e),new Ue(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return F(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=We;case"[object Set]":var u=1&r;if(s||(s=ze),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=Le(s(e),s(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(Ve)return Ve.call(e)==Ve.call(t)}return!1};var He=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Ke=Array.isArray;var Qe=function(e,t,n){var r=t(e);return Ke(e)?r:He(r,n(e))};var $e=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var Ge=function(){return[]},Ye=Object.prototype.propertyIsEnumerable,Xe=Object.getOwnPropertySymbols,Ze=Xe?function(t){return null==t?[]:(t=Object(t),$e(Xe(t),function(e){return Ye.call(t,e)}))}:Ge;var Je=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var et=function(e){return S(e)&&"[object Arguments]"==b(e)},tt=Object.prototype,nt=tt.hasOwnProperty,rt=tt.propertyIsEnumerable,ot=et(function(){return arguments}())?et:function(e){return S(e)&&nt.call(e,"callee")&&!rt.call(e,"callee")};var it=function(){return!1},at=r(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?T.Buffer:void 0,i=(o?o.isBuffer:void 0)||it;e.exports=i}),st=/^(?:0|[1-9]\d*)$/;var ut=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&st.test(e))&&-1<e&&e%1==0&&e<t};var ct=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},lt={};lt["[object Float32Array]"]=lt["[object Float64Array]"]=lt["[object Int8Array]"]=lt["[object Int16Array]"]=lt["[object Int32Array]"]=lt["[object Uint8Array]"]=lt["[object Uint8ClampedArray]"]=lt["[object Uint16Array]"]=lt["[object Uint32Array]"]=!0,lt["[object Arguments]"]=lt["[object Array]"]=lt["[object ArrayBuffer]"]=lt["[object Boolean]"]=lt["[object DataView]"]=lt["[object Date]"]=lt["[object Error]"]=lt["[object Function]"]=lt["[object Map]"]=lt["[object Number]"]=lt["[object Object]"]=lt["[object RegExp]"]=lt["[object Set]"]=lt["[object String]"]=lt["[object WeakMap]"]=!1;var ft=function(e){return S(e)&&ct(e.length)&&!!lt[b(e)]};var pt=function(t){return function(e){return t(e)}},ht=r(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&a.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),dt=ht&&ht.isTypedArray,vt=dt?pt(dt):ft,yt=Object.prototype.hasOwnProperty;var gt=function(e,t){var n=Ke(e),r=!n&&ot(e),o=!n&&!r&&at(e),i=!n&&!r&&!o&&vt(e),a=n||r||o||i,s=a?Je(e.length,String):[],u=s.length;for(var c in e)!t&&!yt.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ut(c,u))||s.push(c);return s},mt=Object.prototype;var _t=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||mt)},bt=w(Object.keys,Object),wt=Object.prototype.hasOwnProperty;var Et=function(e){if(!_t(e))return bt(e);var t=[];for(var n in Object(e))wt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var St=function(e){return null!=e&&ct(e.length)&&!Y(e)};var Ct=function(e){return St(e)?gt(e):Et(e)};var Tt=function(e){return Qe(e,Ct,Ze)},Ot=Object.prototype.hasOwnProperty;var kt=function(e,t,n,r,o,i){var a=1&n,s=Tt(e),u=s.length;if(u!=Tt(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:Ot.call(t,l)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var p=!0;i.set(e,t),i.set(t,e);for(var h=a;++c<u;){var d=e[l=s[c]],v=t[l];if(r)var y=a?r(v,d,l,t,e,i):r(d,v,l,e,t,i);if(!(void 0===y?d===v||o(d,v,n,r,i):y)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var g=e.constructor,m=t.constructor;g!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(p=!1)}return i.delete(e),i.delete(t),p},xt=le(T,"DataView"),Pt=le(T,"Promise"),At=le(T,"Set"),It=le(T,"WeakMap"),Rt="[object Map]",jt="[object Promise]",Nt="[object Set]",Ft="[object WeakMap]",Dt="[object DataView]",Mt=te(xt),Lt=te(fe),Ut=te(Pt),Wt=te(At),zt=te(It),Bt=b;(xt&&Bt(new xt(new ArrayBuffer(1)))!=Dt||fe&&Bt(new fe)!=Rt||Pt&&Bt(Pt.resolve())!=jt||At&&Bt(new At)!=Nt||It&&Bt(new It)!=Ft)&&(Bt=function(e){var t=b(e),n="[object Object]"==t?e.constructor:void 0,r=n?te(n):"";if(r)switch(r){case Mt:return Dt;case Lt:return Rt;case Ut:return jt;case Wt:return Nt;case zt:return Ft}return t});var Vt=Bt,qt="[object Arguments]",Ht="[object Array]",Kt="[object Object]",Qt=Object.prototype.hasOwnProperty;var $t=function(e,t,n,r,o,i){var a=Ke(e),s=Ke(t),u=a?Ht:Vt(e),c=s?Ht:Vt(t),l=(u=u==qt?Kt:u)==Kt,f=(c=c==qt?Kt:c)==Kt,p=u==c;if(p&&at(e)){if(!at(t))return!1;l=!(a=!0)}if(p&&!l)return i||(i=new Re),a||vt(e)?Le(e,t,n,r,o,i):qe(e,t,u,n,r,o,i);if(!(1&n)){var h=l&&Qt.call(e,"__wrapped__"),d=f&&Qt.call(t,"__wrapped__");if(h||d){var v=h?e.value():e,y=d?t.value():t;return i||(i=new Re),o(v,y,n,r,i)}}return!!p&&(i||(i=new Re),kt(e,t,n,r,o,i))};var Gt=function e(t,n,r,o,i){return t===n||(null==t||null==n||!S(t)&&!S(n)?t!=t&&n!=n:$t(t,n,r,o,e,i))};var Yt=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var u=(s=n[o])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new Re;if(r)var p=r(c,l,u,e,t,f);if(!(void 0===p?Gt(l,c,3,r,f):p))return!1}}return!0};var Xt=function(e){return e==e&&!$(e)};var Zt=function(e){for(var t=Ct(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Xt(o)]}return t};var Jt=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}};var en=function(t){var n=Zt(t);return 1==n.length&&n[0][2]?Jt(n[0][0],n[0][1]):function(e){return e===t||Yt(e,t,n)}};var tn=function(e){return"symbol"==typeof e||S(e)&&"[object Symbol]"==b(e)},nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rn=/^\w*$/;var on=function(e,t){if(Ke(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!tn(e))||rn.test(e)||!nn.test(e)||null!=t&&e in Object(t)},an="Expected a function";function sn(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(an);var a=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(sn.Cache||Pe),a}sn.Cache=Pe;var un=sn;var cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ln=/\\(\\)?/g,fn=function(e){var t=un(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(cn,function(e,t,n,r){o.push(n?r.replace(ln,"$1"):t||e)}),o});var pn=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},hn=1/0,dn=s?s.prototype:void 0,vn=dn?dn.toString:void 0;var yn=function e(t){if("string"==typeof t)return t;if(Ke(t))return pn(t,e)+"";if(tn(t))return vn?vn.call(t):"";var n=t+"";return"0"==n&&1/t==-hn?"-0":n};var gn=function(e){return null==e?"":yn(e)};var mn=function(e,t){return Ke(e)?e:on(e,t)?[e]:fn(gn(e))};var _n=function(e){if("string"==typeof e||tn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var bn=function(e,t){for(var n=0,r=(t=mn(t,e)).length;null!=e&&n<r;)e=e[_n(t[n++])];return n&&n==r?e:void 0};var wn=function(e,t,n){var r=null==e?void 0:bn(e,t);return void 0===r?n:r};var En=function(e,t){return null!=e&&t in Object(e)};var Sn=function(e,t,n){for(var r=-1,o=(t=mn(t,e)).length,i=!1;++r<o;){var a=_n(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ct(o)&&ut(a,o)&&(Ke(e)||ot(e))};var Cn=function(e,t){return null!=e&&Sn(e,t,En)};var Tn=function(n,r){return on(n)&&Xt(r)?Jt(_n(n),r):function(e){var t=wn(e,n);return void 0===t&&t===r?Cn(e,n):Gt(r,t,3)}};var On=function(e){return e};var kn=function(t){return function(e){return null==e?void 0:e[t]}};var xn=function(t){return function(e){return bn(e,t)}};var Pn=function(e){return on(e)?kn(_n(e)):xn(e)};var An=function(e){return"function"==typeof e?e:null==e?On:"object"==typeof e?Ke(e)?Tn(e[0],e[1]):en(e):Pn(e)};var In=function(a){return function(e,t,n){var r=Object(e);if(!St(e)){var o=An(t,3);e=Ct(e),t=function(e){return o(r[e],e,r)}}var i=a(e,t,n);return-1<i?r[o?e[i]:i]:void 0}};var Rn=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1},jn=/^\s+|\s+$/g,Nn=/^[-+]0x[0-9a-f]+$/i,Fn=/^0b[01]+$/i,Dn=/^0o[0-7]+$/i,Mn=parseInt;var Ln=function(e){if("number"==typeof e)return e;if(tn(e))return NaN;if($(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(jn,"");var n=Fn.test(e);return n||Dn.test(e)?Mn(e.slice(2),n?2:8):Nn.test(e)?NaN:+e};var Un=function(e){return e?(e=Ln(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0};var Wn=function(e){var t=Un(e),n=t%1;return t==t?n?t-n:t:0},zn=Math.max;var Bn=In(function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Wn(n);return o<0&&(o=zn(r+o,0)),Rn(e,An(t,3),o)}),Vn=function(){try{var e=le(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var qn=function(e,t,n){"__proto__"==t&&Vn?Vn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Hn=Object.prototype.hasOwnProperty;var Kn=function(e,t,n){var r=e[t];Hn.call(e,t)&&F(r,n)&&(void 0!==n||t in e)||qn(e,t,n)};var Qn=function(e,t,n,r){if(!$(e))return e;for(var o=-1,i=(t=mn(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var u=_n(t[o]),c=n;if(o!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=$(l)?l:ut(t[o+1])?[]:{})}Kn(s,u,c),s=s[u]}return e};var $n=function(e,t,n){return null==e?e:Qn(e,t,n)};var Gn=function(t,e){return pn(e,function(e){return t[e]})};var Yn=function(e){return null==e?[]:Gn(e,Ct(e))},Xn=It&&new It,Zn=Xn?function(e,t){return Xn.set(e,t),e}:On,Jn=Object.create,er=function(){function n(){}return function(e){if(!$(e))return{};if(Jn)return Jn(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();var tr=function(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=er(r.prototype),n=r.apply(t,e);return $(n)?n:t}};var nr=function(t,e,n){var r=1&e,o=tr(t);return function e(){return(this&&this!==T&&this instanceof e?o:t).apply(r?n:this,arguments)}};var rr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},or=Math.max;var ir=function(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,u=t.length,c=or(i-a,0),l=Array(u+c),f=!r;++s<u;)l[s]=t[s];for(;++o<a;)(f||o<i)&&(l[n[o]]=e[o]);for(;c--;)l[s++]=e[o++];return l},ar=Math.max;var sr=function(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,u=-1,c=t.length,l=ar(i-s,0),f=Array(l+c),p=!r;++o<l;)f[o]=e[o];for(var h=o;++u<c;)f[h+u]=t[u];for(;++a<s;)(p||o<i)&&(f[h+n[a]]=e[o++]);return f};var ur=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var cr=function(){};function lr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}var fr=(lr.prototype=er(cr.prototype)).constructor=lr;var pr=Xn?function(e){return Xn.get(e)}:function(){},hr={},dr=Object.prototype.hasOwnProperty;var vr=function(e){for(var t=e.name+"",n=hr[t],r=dr.call(hr,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t};function yr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var gr=(yr.prototype=er(cr.prototype)).constructor=yr;var mr=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var _r=function(e){if(e instanceof fr)return e.clone();var t=new gr(e.__wrapped__,e.__chain__);return t.__actions__=mr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},br=Object.prototype.hasOwnProperty;function wr(e){if(S(e)&&!Ke(e)&&!(e instanceof fr)){if(e instanceof gr)return e;if(br.call(e,"__wrapped__"))return _r(e)}return new gr(e)}var Er=(wr.prototype=cr.prototype).constructor=wr;var Sr=function(e){var t=vr(e),n=Er[t];if("function"!=typeof n||!(t in fr.prototype))return!1;if(e===n)return!0;var r=pr(n);return!!r&&e===r[0]},Cr=Date.now;var Tr=function(n){var r=0,o=0;return function(){var e=Cr(),t=16-(e-o);if(o=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}},Or=Tr(Zn),kr=/\{\n\/\* \[wrapped with (.+)\] \*/,xr=/,? & /;var Pr=function(e){var t=e.match(kr);return t?t[1].split(xr):[]},Ar=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Ir=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(Ar,"{\n/* [wrapped with "+t+"] */\n")};var Rr=function(e){return function(){return e}},jr=Tr(Vn?function(e,t){return Vn(e,"toString",{configurable:!0,enumerable:!1,value:Rr(t),writable:!0})}:On);var Nr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var Fr=function(e){return e!=e};var Dr=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1};var Mr=function(e,t,n){return t==t?Dr(e,t,n):Rn(e,Fr,n)};var Lr=function(e,t){return!(null==e||!e.length)&&-1<Mr(e,t,0)},Ur=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Wr=function(n,r){return Nr(Ur,function(e){var t="_."+e[0];r&e[1]&&!Lr(n,t)&&n.push(t)}),n.sort()};var zr=function(e,t,n){var r=t+"";return jr(e,Ir(r,Wr(Pr(r),n)))};var Br=function(e,t,n,r,o,i,a,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,o,l?i:void 0,l?a:void 0,l?void 0:i,l?void 0:a,s,u,c],p=n.apply(void 0,f);return Sr(e)&&Or(p,f),p.placeholder=r,zr(p,e,t)};var Vr=function(e){return e.placeholder},qr=Math.min;var Hr=function(e,t){for(var n=e.length,r=qr(t.length,n),o=mr(e);r--;){var i=t[r];e[r]=ut(i,n)?o[i]:void 0}return e},Kr="__lodash_placeholder__";var Qr=function(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==Kr||(e[n]=Kr,i[o++]=n)}return i},$r=1,Gr=2,Yr=8,Xr=16,Zr=128,Jr=512;function eo(c,l,f,p,h,d,v,y,g,m){var _=l&Zr,b=l&$r,w=l&Gr,E=l&(Yr|Xr),S=l&Jr,C=w?void 0:tr(c);return function e(){for(var t=arguments.length,n=Array(t),r=t;r--;)n[r]=arguments[r];if(E)var o=Vr(e),i=ur(n,o);if(p&&(n=ir(n,p,h,E)),d&&(n=sr(n,d,v,E)),t-=i,E&&t<m){var a=Qr(n,o);return Br(c,l,eo,e.placeholder,f,n,a,y,g,m-t)}var s=b?f:this,u=w?s[c]:c;return t=n.length,y?n=Hr(n,y):S&&1<t&&n.reverse(),_&&g<t&&(n.length=g),this&&this!==T&&this instanceof e&&(u=C||tr(u)),u.apply(s,n)}}var to=eo;var no=function(a,s,u){var c=tr(a);return function e(){for(var t=arguments.length,n=Array(t),r=t,o=Vr(e);r--;)n[r]=arguments[r];var i=t<3&&n[0]!==o&&n[t-1]!==o?[]:Qr(n,o);return(t-=i.length)<u?Br(a,s,to,e.placeholder,void 0,n,i,void 0,void 0,u-t):rr(this&&this!==T&&this instanceof e?c:a,this,n)}};var ro=function(s,e,u,c){var l=1&e,f=tr(s);return function e(){for(var t=-1,n=arguments.length,r=-1,o=c.length,i=Array(o+n),a=this&&this!==T&&this instanceof e?f:s;++r<o;)i[r]=c[r];for(;n--;)i[r++]=arguments[++t];return rr(a,l?u:this,i)}},oo="__lodash_placeholder__",io=Math.min;var ao=function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var u=e[3];e[3]=u?ir(u,s,t[4]):s,e[4]=u?Qr(e[3],oo):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?sr(u,s,t[6]):s,e[6]=u?Qr(e[5],oo):t[6]),(s=t[7])&&(e[7]=s),128&r&&(e[8]=null==e[8]?t[8]:io(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e},so=Math.max;var uo=function(e,t,n,r,o,i,a,s){var u=2&t;if(!u&&"function"!=typeof e)throw new TypeError("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=o=void 0),a=void 0===a?a:so(Wn(a),0),s=void 0===s?s:Wn(s),c-=o?o.length:0,64&t){var l=r,f=o;r=o=void 0}var p=u?void 0:pr(e),h=[e,t,n,r,o,l,f,i,a,s];if(p&&ao(h,p),e=h[0],t=h[1],n=h[2],r=h[3],o=h[4],!(s=h[9]=void 0===h[9]?u?0:e.length:so(h[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)d=8==t||16==t?no(e,t,s):32!=t&&33!=t||o.length?to.apply(void 0,h):ro(e,t,n,r);else var d=nr(e,t,n);return zr((p?Zn:Or)(d,h),e,t)},co=8;function lo(e,t,n){var r=uo(e,co,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=lo.placeholder,r}lo.placeholder={};var fo=lo;var po=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n};var ho=function(u){return function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[u?a:++r];if(!1===t(o[s],s,o))break}return e}}();var vo=function(i,a){return function(e,t){if(null==e)return e;if(!St(e))return i(e,t);for(var n=e.length,r=a?n:-1,o=Object(e);(a?r--:++r<n)&&!1!==t(o[r],r,o););return e}}(function(e,t){return e&&ho(e,t,Ct)});var yo=function(e,r,o,i,t){return t(e,function(e,t,n){o=i?(i=!1,e):r(o,e,t,n)}),o};var go=function(e,t,n){var r=Ke(e)?po:yo,o=arguments.length<3;return r(e,An(t,4),n,o,vo)},mo=fo(function(o,e){return o?go(e,function(e,t,n){var r;return String(t.folderId)===String(o)?Object.assign(e,((r={})[n]=t,r)):e},{}):e}),_o=function(e,t){var n=void 0===t?{}:t,r=n.width,o=n.path;return o?"/flamelink/media/sized/"+o+"/"+e:"/flamelink/media/"+(r?"sized/"+r+"/":"")+e},bo=function(e,t,n){var r=t.map(function(e){return Object.assign({},e,{width:parseInt(e.width||e.maxWidth,10)})},[]).sort(function(e,t){return e.width-t.width}).find(function(e){return e.width>=n});r?e.options=Object.assign(e.options,r):O.logWarning("The provided size ("+n+") has been ignored because it did not match any of the given file's available sizes.\nAvailable sizes: "+t.map(function(e){return e.width}).join(", "))},wo=["id","parentId","children","order"],Eo="fl_folders";So.exports=function(C){var T={_getFolderId:function(e){var t=e.folderName,o=void 0===t?"Root":t;return k(this,void 0,void 0,function(){var t,n,r;return x(this,function(e){switch(e.label){case 0:return o?[4,T.folderRef().get()]:[2,null];case 1:return t=e.sent(),n=[],t.forEach(function(e){return n.push(e.data())}),(r=Bn(n,{name:o}))?[2,r.id]:[2,"root"]}})})},_getFolderIdFromOptions:function(e){var t=void 0===e?{folderId:"",folderName:""}:e,n=t.folderId,r=t.folderName;return k(this,void 0,void 0,function(){return x(this,function(e){return n?[2,n]:[2,T._getFolderId({folderName:r})]})})},_setFile:function(n){return k(this,void 0,void 0,function(){var t;return x(this,function(e){return t=Object.assign({},n,{_fl_meta_:{createdBy:O.getCurrentUser(C),createdDate:O.getTimestamp(C),docId:n.id}}),[2,T.fileRef(n.id).set(t)]})})},_createSizedImage:function(f,p,h){var e=this;return void 0===h&&(h={}),new O.PromiseEmitter(function(u,c,l){return k(e,void 0,void 0,function(){var t,n,r,o,i,a,s;return x(this,function(e){switch(e.label){case 0:return h&&(h.path||h.width||h.maxWidth)?(t=O.getStorageServiceFactory(C),l.emit(T.UploadEvents.RESIZE_IMAGE_STARTED,p,h),[4,v(f,h)]):[3,3];case 1:return n=e.sent(),l.emit(T.UploadEvents.RESIZE_IMAGE_FINISHED,p,h),r=T.ref(p,{path:h.path,width:h.width||h.maxWidth}),l.emit(T.UploadEvents.SIZED_FILE_UPLOAD_STARTED,p,h),o=C.usesAdminApp?"upload":"put",i=r[o](n),a=void 0,wn(t,"TaskEvent")&&(a=i.on(t.TaskEvent.STATE_CHANGED,function(e){l.emit(T.UploadEvents.SIZED_FILE_UPLOAD_STATE_CHANGED,e,h)})),[4,i];case 2:return s=e.sent(),"function"==typeof a&&a(),l.emit(T.UploadEvents.SIZED_FILE_UPLOAD_FINISHED,p,h),[2,u(s)];case 3:return c(new O.FlamelinkError("Invalid size object supplied - please refer to https://flamelink.github.io/flamelink-js-sdk/#/storage?id=upload for more details on upload options.\nImage upload for supplied size skipped for file: "+p)),[2]}})})})},ref:function(e,t){void 0===t&&(t={});var n=i(t,[]);if(C.isNodeEnvironment&&!C.usesAdminApp)throw new O.FlamelinkError("\nThe Firebase client-side SDK cannot access the Storage Bucket server-side.\nPlease use the admin SDK instead - https://www.npmjs.com/package/firebase-admin\n\nInstructions here: https://flamelink.github.io/flamelink-js-sdk/#/getting-started?id=usage","service-unavailable");var r=y._ensureService("storage",C);if(/:\/\//.test(e)){if(C.usesAdminApp)throw new O.FlamelinkError("Retrieving files from URL is not supported for the admin SDK","service-unavailable");return r.refFromURL(e)}return C.usesAdminApp?r.bucket().file(_o(e,n)):r.ref(_o(e,n))},folderRef:function(e){var t=y._ensureService("firestore",C);return e?t.collection(Eo).doc(e):t.collection(Eo)},fileRef:function(e){var t=y._ensureService("firestore",C);return e?t.collection("fl_files").doc(e):t.collection("fl_files")},getFoldersRaw:function(e){var t=i(e,[]);return k(this,void 0,void 0,function(){return x(this,function(e){return[2,O.applyOptionsForCF(T.folderRef(),t).get({source:t.source||"default"})]})})},getFolders:function(e){var f=e.fields,p=e.structure,h=i(e,["fields","structure"]);return k(this,void 0,void 0,function(){var t,i,n,r,o,a,s,u,c,l=this;return x(this,function(e){switch(e.label){case 0:return t=Array.isArray(f)?Array.from(new Set(wo.concat(f))):f,i=O.pluckResultFields(t),[4,T.getFoldersRaw(h)];case 1:return(n=e.sent()).empty?[2,null]:"nested"===p||"tree"===p?[3,3]:(r=[],n.forEach(function(e){return r.push(e.data())}),[4,r.reduce(function(e,r){return e.then(function(n){return k(l,void 0,void 0,function(){var t;return x(this,function(e){return[2,Object.assign(n,i((t={},t[r.id]=r,t)))]})})})},Promise.resolve({}))]);case 2:return[2,e.sent()];case 3:return o=y._ensureService("firestore",C),a=O.processReferencesForCF(o,h),s=O.formatStructure(p,{idProperty:"id",parentProperty:"parentId.id"}),u=[],n.forEach(function(t){return k(l,void 0,void 0,function(){return x(this,function(e){return[2,u.push(a(t.data()))]})})}),[4,u.reduce(function(e,o){return e.then(function(r){return k(l,void 0,void 0,function(){var t,n;return x(this,function(e){switch(e.label){case 0:return[4,o];case 1:return n=e.sent(),[2,Object.assign(r,i((t={},t[n.id]=n,t)))]}})})})},Promise.resolve({}))];case 4:return c=e.sent(),[2,d(s,Yn)(c)]}})})},getFileRaw:function(e){var t=e.fileId,n=i(e,["fileId"]);return k(this,void 0,void 0,function(){return x(this,function(e){if(!t)throw new O.FlamelinkError('"storage.getFileRaw()" should be called with at least the file ID',"incorrect-arguments");return[2,O.applyOptionsForCF(T.fileRef(t),n).get({source:n.source||"default"})]})})},getFile:function(e){var u=e.fileId,c=i(e,["fileId"]);return k(this,void 0,void 0,function(){var t,n,r,o,i,a,s;return x(this,function(e){switch(e.label){case 0:if(!u)throw new O.FlamelinkError('"storage.getFile()" should be called with at least the file ID',"incorrect-arguments");return n=y._ensureService("firestore",C),r=O.pluckResultFields(c.fields),o=O.processReferencesForCF(n,c),[4,T.getFileRaw(g({fileId:u},c))];case 1:return i=e.sent(),a=r,t={},s=u,[4,o(i.data())];case 2:return[4,a.apply(void 0,[(t[s]=e.sent(),t)])];case 3:return[2,e.sent()[u]]}})})},getFilesRaw:function(e){var t=i(e,[]);return k(this,void 0,void 0,function(){return x(this,function(e){return[2,O.applyOptionsForCF(T.fileRef(),t).get({source:t.source||"default"})]})})},getFiles:function(e){var p=i(e,[]);return k(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u,c,l,f=this;return x(this,function(e){switch(e.label){case 0:return t={},n=Object.assign(t,p,p.mediaType?{orderByChild:"type",equalTo:p.mediaType}:{}),r=y._ensureService("firestore",C),[4,T._getFolderIdFromOptions(n)];case 1:return o=e.sent(),i=mo(o),a=O.pluckResultFields(n.fields),s=O.processReferencesForCF(r,p),[4,T.getFilesRaw(n)];case 2:return(u=e.sent()).empty?[2,null]:(c=[],u.forEach(function(t){return k(f,void 0,void 0,function(){return x(this,function(e){return[2,c.push(s(t.data()))]})})}),[4,c.reduce(function(e,o){return e.then(function(r){return k(f,void 0,void 0,function(){var t,n;return x(this,function(e){switch(e.label){case 0:return[4,o];case 1:return n=e.sent(),[2,Object.assign(r,(t={},t[n.id]=n,t))]}})})})},Promise.resolve({}))]);case 3:return l=e.sent(),[2,d(a,i)(l)]}})})},getURL:function(e){var h=e.fileId,d=i(e,["fileId"]);return k(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u,c,l,f,p;return x(this,function(e){switch(e.label){case 0:if(!h)throw new O.FlamelinkError('"storage.getURL()" should be called with at least the file ID',"incorrect-arguments");return t=d.size,[4,T.getFile(g({fileId:h},d))];case 1:return(n=e.sent())?(r=n.file,o=n.sizes,i={filename:r,options:{}},j(t)?(s=(a=t).width,u=a.height,c=a.quality,s&&u&&c&&(t.path=s+"_"+u+"_"+Math.round(100*parseFloat(c.toString()))),t.path&&wn(o,"[0].path")?o.find(function(e){return e.path===t.path})?i.options=Object.assign(i.options,{path:t.path}):O.logWarning("The provided path ("+t.path+") has been ignored because it did not match any of the given file's available paths.\nAvailable paths: "+o.map(function(e){return e.path}).join(", ")):s&&o&&o.length&&bo(i,o,parseInt(s.toString(),10))):"string"==typeof t&&o&&o.length&&(l="device"===t?function(){if("undefined"==typeof window)throw new O.FlamelinkError("The device's screen resolution can only be retrieved from a browser environment.","incompatibility");var e="devicePixelRatio"in window?window.devicePixelRatio:1;return Math.max(window.screen.width,window.screen.height)*e}():t,bo(i,o,Number(l))),[4,T.ref(i.filename,i.options)]):[2,n];case 2:return f=e.sent(),C.usesAdminApp?[4,f.getSignedUrl({action:"read",expires:"01-01-2500"})]:[3,4];case 3:return p=e.sent(),[2,wn(p,"[0]","")];case 4:return[2,f.getDownloadURL()]}})})},getMetadata:function(e){var r=e.fileId,o=i(e,["fileId"]);return k(this,void 0,void 0,function(){var t,n;return x(this,function(e){switch(e.label){case 0:if(!r)throw new O.FlamelinkError('"storage.getMetadata()" should be called with at least the file ID');return[4,T.getFile(g({fileId:r},o))];case 1:if(!(t=e.sent()))throw new O.FlamelinkError('There is no file for File ID: "'+r+'"');return n=t.file,[2,T.ref(n).getMetadata()]}})})},updateMetadata:function(e){var r=e.fileId,o=e.data;return k(this,void 0,void 0,function(){var t,n;return x(this,function(e){switch(e.label){case 0:if(!r||!o)throw new O.FlamelinkError('"storage.updateMetadata()" should be called with the "fileID" and the "data" object');return[4,T.getFile({fileId:r})];case 1:if(!(t=e.sent()))throw new O.FlamelinkError('There is no file for File ID: "'+r+'"');return n=t.file,[2,T.ref(n).updateMetadata(o)]}})})},deleteFile:function(e){var r=e.fileId,a=i(e,["fileId"]);return k(this,void 0,void 0,function(){var t,o,n,i=this;return x(this,function(e){switch(e.label){case 0:if(C.usesAdminApp)throw new O.FlamelinkError('"storage.deleteFile()" is not currently supported for server-side use.');if(!r)throw new O.FlamelinkError('"storage.deleteFile()" should be called with at least the file ID');return[4,T.getFile(g({fileId:r},a))];case 1:return(t=e.sent())?(o=t.file,n=t.sizes,[4,T.ref(o).delete()]):[2,t];case 2:return e.sent(),Array.isArray(n)?[4,Promise.all(n.map(function(r){return k(i,void 0,void 0,function(){var t,n;return x(this,function(e){return t=r.width||r.maxWidth,n=r.path,t||n?[2,T.ref(o,{width:t,path:n}).delete()]:[2,Promise.resolve()]})})}))]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2,T.fileRef(r).delete()]}})})},upload:function(E,S){var e=this;return void 0===S&&(S={}),new O.PromiseEmitter(function(_,b,w){return k(e,void 0,void 0,function(){var t,n,r,o,i,a,s,u,c,l,f,p,h,d,v,y,g,m=this;return x(this,function(e){switch(e.label){case 0:return e.trys.push([0,7,,8]),t=O.getStorageServiceFactory(C),w.emit(T.UploadEvents.START),n=S.sizes,r=S.overwriteSizes,[4,wn(C,"modules.settings",{getImageSizes:function(){}}).getImageSizes()];case 1:return(o=e.sent())&&(n||r?n&&n.length&&!r&&$n(S,"sizes",o.concat(n)||[]):$n(S,"sizes",o||[])),(!S.sizes||S.sizes&&0===S.sizes.length||Array.isArray(S.sizes)&&0===S.sizes.filter(function(e){return!(240!==e.width&&240!==e.maxWidth||e.height||e.quality)}).length)&&(Array.isArray(S.sizes)?S.sizes.push({width:240}):$n(S,"sizes",[{width:240}])),i=T.fileRef().doc().id,a=wn(S,"metadata",{}),s="object"==typeof E&&E.name||"string"==typeof a.name?i+"_"+(a.name||E.name):i,u=T.ref(s,S),c=C.usesAdminApp?"upload":"string"==typeof E?"putString":"put",l=[E],[4,T._getFolderIdFromOptions(S)];case 2:return"number"==typeof(f=e.sent())&&(f=f.toString()),$n(S,"metadata.customMetadata.flamelinkFileId",i),$n(S,"metadata.customMetadata.flamelinkFolderId",f),l.push(S.metadata),"putString"===c&&S.stringEncoding&&l.splice(1,0,S.stringEncoding),p=u[c].apply(u,l),w.emit(T.UploadEvents.MAIN_FILE_UPLOAD_STARTED),h=void 0,wn(t,"TaskEvent")&&(h=p.on(t.TaskEvent.STATE_CHANGED,function(e){w.emit(T.UploadEvents.MAIN_FILE_UPLOAD_STATE_CHANGED,e)})),[4,p];case 3:return d=e.sent(),"function"==typeof h&&h(),w.emit(T.UploadEvents.MAIN_FILE_UPLOAD_FINISHED),v=/^image\//.test(wn(d,"metadata.contentType"))?"images":"files",y={id:i,file:wn(d,"metadata.name",""),folderId:T.folderRef(f),type:v,contentType:wn(d,"metadata.contentType","")},"images"===v&&"put"===c&&Array.isArray(S.sizes)?(w.emit(T.UploadEvents.SIZED_FILES_UPLOAD_STARTED),y.sizes=S.sizes.map(function(e){var t=e.width,n=e.height,r=e.quality;return t&&n&&r?Object.assign({},e,{path:t+"_"+n+"_"+Math.round(100*parseFloat(r.toString()))}):e}),[4,Promise.all(y.sizes.map(function(r){return k(m,void 0,void 0,function(){var t,n;return x(this,function(e){switch(e.label){case 0:return t=T._createSizedImage(E,s,r),n=t.on("*",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];w.emit.apply(w,[e].concat(t))}),[4,t];case 1:return e.sent(),n(),[2]}})})}))]):[3,5];case 4:e.sent(),w.emit(T.UploadEvents.SIZED_FILES_UPLOAD_FINISHED),e.label=5;case 5:return w.emit(T.UploadEvents.DB_PERSIST_STARTED),[4,T._setFile(y)];case 6:return e.sent(),w.emit(T.UploadEvents.DB_PERSIST_FINISHED),w.emit(T.UploadEvents.SUCCESS,y),[2,_(y)];case 7:return g=e.sent(),w.emit(T.UploadEvents.FAILURE,g),b(g),[3,8];case 8:return[2]}})})})},get UploadEvents(){return e=O.getStorageServiceFactory(C),g({ALL:"*",START:"upload_start",SUCCESS:"upload_success",FAILURE:"upload_failure",DB_PERSIST_STARTED:"file_db_persist_started",DB_PERSIST_FINISHED:"file_db_persist_finished",MAIN_FILE_UPLOAD_STARTED:"main_file_upload_started",MAIN_FILE_UPLOAD_FINISHED:"main_file_upload_finished",SIZED_FILES_UPLOAD_STARTED:"sized_files_upload_started",SIZED_FILES_UPLOAD_FINISHED:"sized_files_upload_finished",SIZED_FILE_UPLOAD_STARTED:"sized_file_upload_started",SIZED_FILE_UPLOAD_FINISHED:"sized_file_upload_finished",RESIZE_IMAGE_STARTED:"resize_image_start",RESIZE_IMAGE_FINISHED:"resize_image_finished"},wn(e,"TaskEvent.STATE_CHANGED")?{MAIN_FILE_UPLOAD_STATE_CHANGED:"main_file_upload_"+e.TaskEvent.STATE_CHANGED,SIZED_FILE_UPLOAD_STATE_CHANGED:"sized_file_upload_"+e.TaskEvent.STATE_CHANGED}:{});var e}};return T}}).call(this,Co(7))},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var s=n(132);function r(){}e.exports=function(){function e(e,t,n,r,o,i){if(i!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";n.r(t);var y={};n.r(y),n.d(y,"reversed",function(){return Ot}),n.d(y,"mirrored",function(){return kt}),n.d(y,"createReversedEasing",function(){return xt}),n.d(y,"createMirroredEasing",function(){return Pt}),n.d(y,"createExpoIn",function(){return At}),n.d(y,"createBackIn",function(){return It}),n.d(y,"createAnticipateEasing",function(){return Rt}),n.d(y,"linear",function(){return jt}),n.d(y,"easeIn",function(){return Nt}),n.d(y,"easeOut",function(){return Ft}),n.d(y,"easeInOut",function(){return Dt}),n.d(y,"circIn",function(){return Mt}),n.d(y,"circOut",function(){return Lt}),n.d(y,"circInOut",function(){return Ut}),n.d(y,"backIn",function(){return Wt}),n.d(y,"backOut",function(){return zt}),n.d(y,"backInOut",function(){return Bt}),n.d(y,"anticipate",function(){return Vt}),n.d(y,"cubicBezier",function(){return nn});var S=n(0),p=n.n(S),r=n(50),o=n.n(r),i=n(64),a=n.n(i),s=n(9);n(120),n(126);n(117),n(136);var u=s({firebaseApp:a.a.initializeApp({apiKey:"AIzaSyDbpUl29fDIMuvnkT2XFrwYMNZfbBYZo_A",authDomain:"toplapmontreal.firebaseapp.com",databaseURL:"https://toplapmontreal.firebaseio.com",projectId:"toplapmontreal",storageBucket:"toplapmontreal.appspot.com",messagingSenderId:"49097917902"})}),c=n(22),l=n.n(c),f=n(65),h=n.n(f),d=n(6),v=n.n(d),g=n(1),m=n.n(g),_={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},b={zIndex:2,position:"absolute",top:0,bottom:0,transition:"transform .3s ease-out",WebkitTransition:"-webkit-transform .3s ease-out",willChange:"transform",overflowY:"auto"},w={position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",WebkitOverflowScrolling:"touch",transition:"left .3s ease-out, right .3s ease-out"},E={zIndex:1,position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0,visibility:"hidden",transition:"opacity .3s ease-out, visibility .3s ease-out",backgroundColor:"rgba(0,0,0,.3)"},C={zIndex:1,position:"fixed",top:0,bottom:0},T=function(n){function e(e){var t;return(t=n.call(this,e)||this).state={sidebarWidth:e.defaultSidebarWidth,touchIdentifier:null,touchStartX:null,touchCurrentX:null,dragSupported:!1},t.overlayClicked=t.overlayClicked.bind(v()(v()(t))),t.onTouchStart=t.onTouchStart.bind(v()(v()(t))),t.onTouchMove=t.onTouchMove.bind(v()(v()(t))),t.onTouchEnd=t.onTouchEnd.bind(v()(v()(t))),t.onScroll=t.onScroll.bind(v()(v()(t))),t.saveSidebarRef=t.saveSidebarRef.bind(v()(v()(t))),t}h()(e,n);var t=e.prototype;return t.componentDidMount=function(){var e=/iPad|iPhone|iPod/.test(navigator?navigator.userAgent:"");this.setState({dragSupported:"object"==typeof window&&"ontouchstart"in window&&!e}),this.saveSidebarWidth()},t.componentDidUpdate=function(){this.isTouching()||this.saveSidebarWidth()},t.onTouchStart=function(e){if(!this.isTouching()){var t=e.targetTouches[0];this.setState({touchIdentifier:t.identifier,touchStartX:t.clientX,touchCurrentX:t.clientX})}},t.onTouchMove=function(e){if(this.isTouching())for(var t=0;t<e.targetTouches.length;t++)if(e.targetTouches[t].identifier===this.state.touchIdentifier){this.setState({touchCurrentX:e.targetTouches[t].clientX});break}},t.onTouchEnd=function(){if(this.isTouching()){var e=this.touchSidebarWidth();(this.props.open&&e<this.state.sidebarWidth-this.props.dragToggleDistance||!this.props.open&&e>this.props.dragToggleDistance)&&this.props.onSetOpen(!this.props.open),this.setState({touchIdentifier:null,touchStartX:null,touchCurrentX:null})}},t.onScroll=function(){this.isTouching()&&this.inCancelDistanceOnScroll()&&this.setState({touchIdentifier:null,touchStartX:null,touchCurrentX:null})},t.inCancelDistanceOnScroll=function(){return this.props.pullRight?Math.abs(this.state.touchCurrentX-this.state.touchStartX)<20:Math.abs(this.state.touchStartX-this.state.touchCurrentX)<20},t.isTouching=function(){return null!==this.state.touchIdentifier},t.overlayClicked=function(){this.props.open&&this.props.onSetOpen(!1)},t.saveSidebarWidth=function(){var e=this.sidebar.offsetWidth;e!==this.state.sidebarWidth&&this.setState({sidebarWidth:e})},t.saveSidebarRef=function(e){this.sidebar=e},t.touchSidebarWidth=function(){return this.props.pullRight?this.props.open&&window.innerWidth-this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth+this.state.touchStartX-this.state.touchCurrentX:this.state.sidebarWidth:Math.min(window.innerWidth-this.state.touchCurrentX,this.state.sidebarWidth):this.props.open&&this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth:this.state.sidebarWidth-this.state.touchStartX+this.state.touchCurrentX:Math.min(this.state.touchCurrentX,this.state.sidebarWidth)},t.render=function(){var e,t=l()({},b,this.props.styles.sidebar),n=l()({},w,this.props.styles.content),r=l()({},E,this.props.styles.overlay),o=this.state.dragSupported&&this.props.touch,i=this.isTouching(),a={className:this.props.rootClassName,style:l()({},_,this.props.styles.root),role:"navigation",id:this.props.rootId},s=this.props.shadow&&(i||this.props.open||this.props.docked);if(this.props.pullRight?(t.right=0,t.transform="translateX(100%)",t.WebkitTransform="translateX(100%)",s&&(t.boxShadow="-2px 2px 4px rgba(0, 0, 0, 0.15)")):(t.left=0,t.transform="translateX(-100%)",t.WebkitTransform="translateX(-100%)",s&&(t.boxShadow="2px 2px 4px rgba(0, 0, 0, 0.15)")),i){var u=this.touchSidebarWidth()/this.state.sidebarWidth;this.props.pullRight?(t.transform="translateX("+100*(1-u)+"%)",t.WebkitTransform="translateX("+100*(1-u)+"%)"):(t.transform="translateX(-"+100*(1-u)+"%)",t.WebkitTransform="translateX(-"+100*(1-u)+"%)"),r.opacity=u,r.visibility="visible"}else this.props.docked?(0!==this.state.sidebarWidth&&(t.transform="translateX(0%)",t.WebkitTransform="translateX(0%)"),this.props.pullRight?n.right=this.state.sidebarWidth+"px":n.left=this.state.sidebarWidth+"px"):this.props.open&&(t.transform="translateX(0%)",t.WebkitTransform="translateX(0%)",r.opacity=1,r.visibility="visible");if(!i&&this.props.transitions||(t.transition="none",t.WebkitTransition="none",n.transition="none",r.transition="none"),o)if(this.props.open)a.onTouchStart=this.onTouchStart,a.onTouchMove=this.onTouchMove,a.onTouchEnd=this.onTouchEnd,a.onTouchCancel=this.onTouchEnd,a.onScroll=this.onScroll;else{var c=l()({},C,this.props.styles.dragHandle);c.width=this.props.touchHandleWidth,this.props.pullRight?c.right=0:c.left=0,e=p.a.createElement("div",{style:c,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchEnd})}return p.a.createElement("div",a,p.a.createElement("div",{className:this.props.sidebarClassName,style:t,ref:this.saveSidebarRef,id:this.props.sidebarId},this.props.sidebar),p.a.createElement("div",{className:this.props.overlayClassName,style:r,onClick:this.overlayClicked,id:this.props.overlayId}),p.a.createElement("div",{className:this.props.contentClassName,style:n,id:this.props.contentId},e,this.props.children))},e}(S.Component);T.defaultProps={docked:!1,open:!1,transitions:!0,touch:!0,touchHandleWidth:20,pullRight:!1,shadow:!0,dragToggleDistance:30,onSetOpen:function(){},styles:{},defaultSidebarWidth:0};var O=T,k=n(5),x=n.n(k),P=n(2),A=n.n(P),I=n(4),R=n.n(I);function j(e){return"/"===e.charAt(0)}function N(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var F=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&j(e),i=t&&j(t),a=o||i;if(e&&j(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var u=r[r.length-1];s="."===u||".."===u||""===u}else s=!1;for(var c=0,l=r.length;0<=l;l--){var f=r[l];"."===f?N(r,l):".."===f?(N(r,l),c++):c&&(N(r,l),c--)}if(!a)for(;c--;c)r.unshift("..");!a||""===r[0]||r[0]&&j(r[0])||r.unshift("");var p=r.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p};"function"==typeof Symbol&&Symbol.iterator;var D=function(e){return"/"===e.charAt(0)?e:"/"+e},M=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},L=function(e,t){return M(e,t)?e.substr(t.length):e},U=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},W=function(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o},z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=function(e,t,n,r){var o=void 0;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=z({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=F(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},V=function(){var i=null,r=[];return{setPrompt:function(e){return A()(null==i,"A history supports only one prompt at a time"),i=e,function(){i===e&&(i=null)}},confirmTransitionTo:function(e,t,n,r){if(null!=i){var o="function"==typeof i?i(e,t):i;"string"==typeof o?"function"==typeof n?n(o,r):(A()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==o)}else r(!0)},appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}}},q=!("undefined"==typeof window||!window.document||!window.document.createElement),H=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},K=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},Q=function(e,t){return t(window.confirm(e))},$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y="hashchange",X=function(){try{return window.history.state||{}}catch(e){return{}}},Z=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};R()(q,"Browser history needs a DOM");var t,s=window.history,u=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,n=!(-1===window.navigator.userAgent.indexOf("Trident")),r=e.forceRefresh,c=void 0!==r&&r,o=e.getUserConfirmation,l=void 0===o?Q:o,i=e.keyLength,a=void 0===i?6:i,f=e.basename?U(D(e.basename)):"",p=function(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return A()(!f||M(i,f),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+i+'" to begin with "'+f+'".'),f&&(i=L(i,f)),B(i,r,n)},h=function(){return Math.random().toString(36).substr(2,a)},d=V(),v=function(e){G(x,e),x.length=s.length,d.notifyListeners(x.location,x.action)},y=function(e){void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")||_(p(e.state))},g=function(){_(p(X()))},m=!1,_=function(t){m?(m=!1,v()):d.confirmTransitionTo(t,"POP",l,function(e){e?v({action:"POP",location:t}):b(t)})},b=function(e){var t=x.location,n=E.indexOf(t.key);-1===n&&(n=0);var r=E.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(m=!0,C(o))},w=p(X()),E=[w.key],S=function(e){return f+W(e)},C=function(e){s.go(e)},T=0,O=function(e){1===(T+=e)?(H(window,"popstate",y),n&&H(window,Y,g)):0===T&&(K(window,"popstate",y),n&&K(window,Y,g))},k=!1,x={length:s.length,action:"POP",location:w,createHref:S,push:function(e,t){A()(!("object"===(void 0===e?"undefined":$(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=B(e,t,h(),x.location);d.confirmTransitionTo(a,"PUSH",l,function(e){if(e){var t=S(a),n=a.key,r=a.state;if(u)if(s.pushState({key:n,state:r},null,t),c)window.location.href=t;else{var o=E.indexOf(x.location.key),i=E.slice(0,-1===o?0:o+1);i.push(a.key),E=i,v({action:"PUSH",location:a})}else A()(void 0===r,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},replace:function(e,t){A()(!("object"===(void 0===e?"undefined":$(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=B(e,t,h(),x.location);d.confirmTransitionTo(i,"REPLACE",l,function(e){if(e){var t=S(i),n=i.key,r=i.state;if(u)if(s.replaceState({key:n,state:r},null,t),c)window.location.replace(t);else{var o=E.indexOf(x.location.key);-1!==o&&(E[o]=i.key),v({action:"REPLACE",location:i})}else A()(void 0===r,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},go:C,goBack:function(){return C(-1)},goForward:function(){return C(1)},block:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=d.setPrompt(e);return k||(O(1),k=!0),function(){return k&&(k=!1,O(-1)),t()}},listen:function(e){var t=d.appendListener(e);return O(1),function(){O(-1),t()}}};return x},J=(Object.assign,"function"==typeof Symbol&&Symbol.iterator,Object.assign,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var te=function(i){function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t=ee(this,i.call.apply(i,[this].concat(r)))).state={match:t.computeMatch(t.props.history.location.pathname)},ee(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.getChildContext=function(){return{router:J({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},a.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},a.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;R()(null==n||1===p.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},a.prototype.componentWillReceiveProps=function(e){x()(this.props.history===e.history,"You cannot change <Router history>")},a.prototype.componentWillUnmount=function(){this.unlisten()},a.prototype.render=function(){var e=this.props.children;return e?p.a.Children.only(e):null},a}(p.a.Component);te.propTypes={history:m.a.object.isRequired,children:m.a.node},te.contextTypes={router:m.a.object},te.childContextTypes={router:m.a.object.isRequired};var ne=te;function re(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var oe=function(i){function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t=re(this,i.call.apply(i,[this].concat(r)))).history=Z(t.props),re(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.componentWillMount=function(){x()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},a.prototype.render=function(){return p.a.createElement(ne,{history:this.history,children:this.props.children})},a}(p.a.Component);oe.propTypes={basename:m.a.string,forceRefresh:m.a.bool,getUserConfirmation:m.a.func,keyLength:m.a.number,children:m.a.node};var ie=oe,ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ue=function(o){function i(){var e,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a=se(this,o.call.apply(o,[this].concat(n)))).handleClick=function(e){if(a.props.onClick&&a.props.onClick(e),!(e.defaultPrevented||0!==e.button||a.props.target||((i=e).metaKey||i.altKey||i.ctrlKey||i.shiftKey))){e.preventDefault();var t=a.context.router.history,n=a.props,r=n.replace,o=n.to;r?t.replace(o):t.push(o)}var i},se(a,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);R()(this.context.router,"You should not use <Link> outside a <Router>"),R()(void 0!==t,'You must specify the "to" property');var o=this.context.router.history,i="string"==typeof t?B(t,null,null,o.location):t,a=o.createHref(i);return p.a.createElement("a",ae({},r,{onClick:this.handleClick,href:a,ref:n}))},i}(p.a.Component);ue.propTypes={onClick:m.a.func,target:m.a.string,replace:m.a.bool,to:m.a.oneOfType([m.a.string,m.a.object]).isRequired,innerRef:m.a.oneOfType([m.a.string,m.a.func])},ue.defaultProps={replace:!1},ue.contextTypes={router:m.a.shape({history:m.a.shape({push:m.a.func.isRequired,replace:m.a.func.isRequired,createHref:m.a.func.isRequired}).isRequired}).isRequired};var ce=ue,le=n(67),fe=n.n(le),pe={},he=0,de=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,o=r.path,i=r.exact,a=void 0!==i&&i,s=r.strict,u=void 0!==s&&s,c=r.sensitive;if(null==o)return n;var l=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=pe[n]||(pe[n]={});if(r[e])return r[e];var o=[],i={re:fe()(e,o,t),keys:o};return he<1e4&&(r[e]=i,he++),i}(o,{end:a,strict:u,sensitive:void 0!==c&&c}),f=l.re,p=l.keys,h=f.exec(e);if(!h)return null;var d=h[0],v=h.slice(1),y=e===d;return a&&!y?null:{path:o,url:"/"===o&&""===d?"/":d,isExact:y,params:p.reduce(function(e,t,n){return e[t.name]=v[n],e},{})}},ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ge=function(e){return 0===p.a.Children.count(e)},me=function(i){function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t=ye(this,i.call.apply(i,[this].concat(r)))).state={match:t.computeMatch(t.props,t.context.router)},ye(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.getChildContext=function(){return{router:ve({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},a.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,o=e.path,i=e.strict,a=e.exact,s=e.sensitive;if(n)return n;R()(t,"You should not use <Route> or withRouter() outside a <Router>");var u=t.route,c=(r||u.location).pathname;return de(c,{path:o,strict:i,exact:a,sensitive:s},u.match)},a.prototype.componentWillMount=function(){x()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),x()(!(this.props.component&&this.props.children&&!ge(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),x()(!(this.props.render&&this.props.children&&!ge(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},a.prototype.componentWillReceiveProps=function(e,t){x()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),x()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},a.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,o=t.render,i=this.context.router,a=i.history,s=i.route,u=i.staticContext,c={match:e,location:this.props.location||s.location,history:a,staticContext:u};return r?e?p.a.createElement(r,c):null:o?e?o(c):null:"function"==typeof n?n(c):n&&!ge(n)?p.a.Children.only(n):null},a}(p.a.Component);me.propTypes={computedMatch:m.a.object,path:m.a.string,exact:m.a.bool,strict:m.a.bool,sensitive:m.a.bool,component:m.a.func,render:m.a.func,children:m.a.oneOfType([m.a.func,m.a.node]),location:m.a.object},me.contextTypes={router:m.a.shape({history:m.a.object.isRequired,route:m.a.object.isRequired,staticContext:m.a.object})},me.childContextTypes={router:m.a.object.isRequired};var _e=me;var be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){R()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){x()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),x()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var u=this.context.router.route,e=this.props.children,c=this.props.location||u.location,l=void 0,f=void 0;return p.a.Children.forEach(e,function(e){if(null==l&&p.a.isValidElement(e)){var t=e.props,n=t.path,r=t.exact,o=t.strict,i=t.sensitive,a=t.from,s=n||a;f=e,l=de(c.pathname,{path:s,exact:r,strict:o,sensitive:i},u.match)}}),l?p.a.cloneElement(f,{location:c,computedMatch:l}):null},t}(p.a.Component);be.contextTypes={router:m.a.shape({route:m.a.object.isRequired}).isRequired},be.propTypes={children:m.a.node,location:m.a.object};var we=be,Ee=function(e,t){return(Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Se(e,t){function n(){this.constructor=e}Ee(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ce=function(){return(Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Te(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Oe=function(e,t){return(Oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function ke(e,t){function n(){this.constructor=e}Oe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var xe=function(){return(xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Pe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Ae=function(){return(Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ie=function(t,n){return function(e){return Math.max(Math.min(e,n),t)}},Re=function(t){return function(e){return"string"==typeof e&&0===e.indexOf(t)}},je=function(e){return e%1?Number(e.toFixed(5)):e},Ne={test:function(e){return"number"==typeof e},parse:parseFloat,transform:function(e){return e}},Fe=Ae({},Ne,{transform:Ie(0,1)}),De=Ae({},Ne,{default:1}),Me=function(t){return{test:function(e){return"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length},parse:parseFloat,transform:function(e){return""+e+t}}},Le=Me("deg"),Ue=Me("%"),We=Me("px"),ze=Me("vh"),Be=Me("vw"),Ve=Ie(0,255),qe=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,He=function(e){return void 0!==e.red},Ke=function(e){return void 0!==e.hue},Qe=function(a){var s=a.length;return function(e){if("string"!=typeof e)return e;for(var t,n,r={},o="string"==typeof(t=(n=e).substring(n.indexOf("(")+1,n.lastIndexOf(")")))?t.split(/,\s*/):[t],i=0;i<s;i++)r[a[i]]=void 0!==o[i]?parseFloat(o[i]):1;return r}},$e=Ae({},Ne,{transform:function(e){return Math.round(Ve(e))}}),Ge=Re("rgb"),Ye={test:function(e){return"string"==typeof e?Ge(e):He(e)},parse:Qe(["red","green","blue","alpha"]),transform:function(e){var t,n,r,o,i,a=e.red,s=e.green,u=e.blue,c=e.alpha;return t={red:$e.transform(a),green:$e.transform(s),blue:$e.transform(u),alpha:je(c)},n=t.red,r=t.green,o=t.blue,i=t.alpha,"rgba("+n+", "+r+", "+o+", "+(void 0===i?1:i)+")"}},Xe=Re("hsl"),Ze={test:function(e){return"string"==typeof e?Xe(e):Ke(e)},parse:Qe(["hue","saturation","lightness","alpha"]),transform:function(e){var t,n,r,o,i,a=e.hue,s=e.saturation,u=e.lightness,c=e.alpha;return t={hue:Math.round(a),saturation:Ue.transform(je(s)),lightness:Ue.transform(je(u)),alpha:je(c)},n=t.hue,r=t.saturation,o=t.lightness,i=t.alpha,"hsla("+n+", "+r+", "+o+", "+(void 0===i?1:i)+")"}},Je=Ae({},Ye,{test:Re("#"),parse:function(e){var t="",n="",r="";return 4<e.length?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),t+=t,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:1}}}),et={test:function(e){return"string"==typeof e&&qe.test(e)||Ye.test(e)||Ze.test(e)||Je.test(e)},parse:function(e){return Ye.test(e)?Ye.parse(e):Ze.test(e)?Ze.parse(e):Je.test(e)?Je.parse(e):e},transform:function(e){return He(e)?Ye.transform(e):Ke(e)?Ze.transform(e):e}},tt=/(-)?(\d[\d\.]*)/g,nt=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,rt=function(e){if("string"!=typeof e||!isNaN(e))return!1;var t=0,n=e.match(tt),r=e.match(nt);return n&&(t+=n.length),r&&(t+=r.length),0<t},ot=function(e){var t=e,n=[],r=t.match(nt);r&&(t=t.replace(nt,"${c}"),n.push.apply(n,r.map(et.parse)));var o=t.match(tt);return o&&n.push.apply(n,o.map(Ne.parse)),n},it=function(e){var r=e,o=0,t=e.match(nt),i=t?t.length:0;if(t)for(var n=0;n<i;n++)r=r.replace(t[n],"${c}"),o++;var a=r.match(tt),s=a?a.length:0;if(a)for(n=0;n<s;n++)r=r.replace(a[n],"${n}"),o++;return function(e){for(var t=r,n=0;n<o;n++)t=t.replace(n<i?"${c}":"${n}",n<i?et.transform(e[n]):je(e[n]));return t}};var at,st,ut=0,ct="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),n=Math.max(0,16.7-(t-ut));ut=t+n,setTimeout(function(){return e(ut)},n)};(st=at||(at={})).Read="read",st.Update="update",st.Render="render",st.PostRender="postRender",st.FixedUpdate="fixedUpdate";var lt=1/60*1e3,ft=!0,pt=!1,ht=!1,dt={delta:0,timestamp:0},vt=[at.Read,at.Update,at.Render,at.PostRender],yt=function(e){return pt=e},gt=vt.reduce(function(e,t){var r,i,a,s,u,o,c,l,f,p=(r=yt,i=[],u=!(a=[]),o=s=0,c=new WeakSet,l=new WeakSet,f={cancel:function(e){var t=a.indexOf(e);c.add(e),-1!==t&&a.splice(t,1)},process:function(e){var t,n;if(u=!0,i=(t=[a,i])[0],(a=t[1]).length=0,s=i.length)for(o=0;o<s;o++)(n=i[o])(e),!0!==l.has(n)||c.has(n)||(f.schedule(n),r(!0));u=!1},schedule:function(e,t,n){var r=n&&u,o=r?i:a;t&&l.add(e),-1===o.indexOf(e)&&(o.push(e),r&&(s=i.length))}});return e.sync[t]=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),pt||St(),p.schedule(e,t,n),e},e.cancelSync[t]=function(e){return p.cancel(e)},e.steps[t]=p,e},{steps:{},sync:{},cancelSync:{}}),mt=gt.steps,_t=gt.sync,bt=gt.cancelSync,wt=function(e){return mt[e].process(dt)},Et=function(e){pt=!1,dt.delta=ft?lt:Math.max(Math.min(e-dt.timestamp,40),1),ft||(lt=dt.delta),dt.timestamp=e,ht=!0,vt.forEach(wt),ht=!1,pt&&(ft=!1,ct(Et))},St=function(){ft=pt=!0,ht||ct(Et)},Ct=function(){return dt},Tt=_t,Ot=function(t){return function(e){return 1-t(1-e)}},kt=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},xt=Ot,Pt=kt,At=function(t){return function(e){return Math.pow(e,t)}},It=function(t){return function(e){return e*e*((t+1)*e-t)}},Rt=function(e){var t=It(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}},jt=function(e){return e},Nt=At(2),Ft=Ot(Nt),Dt=kt(Nt),Mt=function(e){return 1-Math.sin(Math.acos(e))},Lt=Ot(Mt),Ut=kt(Lt),Wt=It(1.525),zt=Ot(Wt),Bt=kt(Wt),Vt=Rt(1.525),qt=8,Ht=.001,Kt=1e-7,Qt=10,$t=11,Gt=1/($t-1),Yt="undefined"!=typeof Float32Array,Xt=function(e,t){return 1-3*t+3*e},Zt=function(e,t){return 3*t-6*e},Jt=function(e){return 3*e},en=function(e,t,n){return 3*Xt(t,n)*e*e+2*Zt(t,n)*e+Jt(t)},tn=function(e,t,n){return((Xt(t,n)*e+Zt(t,n))*e+Jt(t))*e};function nn(s,t,u,n){var c=Yt?new Float32Array($t):new Array($t),r=function(e){for(var t,n,r,o=0,i=1,a=$t-1;i!==a&&c[i]<=e;++i)o+=Gt;return t=(e-c[--i])/(c[i+1]-c[i]),r=en(n=o+t*Gt,s,u),Ht<=r?function(e,t){for(var n=0,r=0;n<qt;++n){if(0===(r=en(t,s,u)))return t;t-=(tn(t,s,u)-e)/r}return t}(e,n):0===r?n:function(e,t,n){for(var r,o,i=0;0<(r=tn(o=t+(n-t)/2,s,u)-e)?n=o:t=o,Math.abs(r)>Kt&&++i<Qt;);return o}(e,o,o+Gt)};!function(){for(var e=0;e<$t;++e)c[e]=tn(e*Gt,s,u)}();return function(e){return s===t&&u===n?e:0===e?0:1===e?1:tn(r(e),t,n)}}var rn={x:0,y:0,z:0},on=function(e){return"number"==typeof e},an=function(e){return 180*e/Math.PI},sn=function(e,t){return void 0===t&&(t=rn),an(Math.atan2(t.y-e.y,t.x-e.x))},un=function(t,n){var r=!0;return void 0===n&&(n=t,r=!1),function(e){return r?e-t+n:(t=e,r=!0,n)}},cn=function(r){return function(t,n,e){return void 0!==e?r(t,n,e):function(e){return r(t,n,e)}}},ln=cn(function(e,t,n){return Math.min(Math.max(n,e),t)}),fn=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},pn=function(e){return fn(e)&&e.hasOwnProperty("z")},hn=function(e,t){return Math.abs(e-t)},dn=function(e,t){if(void 0===t&&(t=rn),on(e)&&on(t))return hn(e,t);if(fn(e)&&fn(t)){var n=hn(e.x,t.x),r=hn(e.y,t.y),o=pn(e)&&pn(t)?hn(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(o,2))}return 0},vn=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},yn=function(e,t,n){return-n*e+n*t+e},gn=function(){return(gn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},mn=function(e,t,n){var r=e*e,o=t*t;return Math.sqrt(n*(o-r)+r)},_n=[Je,Ye,Ze],bn=function(t){return _n.find(function(e){return e.test(t)})},wn=function(e,t){var n=bn(e),r=bn(t);n.transform,r.transform;var o=n.parse(e),i=r.parse(t),a=gn({},o),s=n===Ze?yn:mn;return function(e){for(var t in a)"alpha"!==t&&(a[t]=s(o[t],i[t],e));return a.alpha=yn(o.alpha,i.alpha,e),n.transform(a)}},En=function(t,n){return function(e){return n(t(e))}},Sn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(En)},Cn=function(e,r){var n=e.slice(),o=n.length,i=e.map(function(t,e){var n=r[e];return on(t)?function(e){return yn(t,n,e)}:et.test(t)?wn(t,n):Tn(t,n)});return function(e){for(var t=0;t<o;t++)n[t]=i[t](e);return n}},Tn=function(e,t){var n=it(e);return n(e),it(t)(e),Sn(Cn(ot(e),ot(t)),n)},On=cn(yn),kn=function(o,i){return Array(o.length-1).fill((e=o[0],"number"==typeof e?On:et.test(e)?wn:Tn)).map(function(e,t){var n=e(o[t],o[t+1]);if(i){var r=Array.isArray(i)?i[t]:i;return Sn(r,n)}return n});var e},xn=function(e,t,n,r){return void 0===r&&(r=0),o=e+n*(t-e)/Math.max(r,n),void 0===i&&(i=2),i=Math.pow(10,i),Math.round(o*i)/i;var o,i},Pn=function(e){return e},An=function(i){return void 0===i&&(i=Pn),cn(function(e,t,n){var r=t-n,o=-(0-e+1)*(0-i(Math.abs(r)));return r<=0?t+o:t-o})},In=An(),Rn=An(Math.sqrt),jn=function(e,t){return on(e)?e/(1e3/t):0},Nn=function(e,t){return t?e*(1e3/t):0},Fn=cn(function(e,t,n){var r=t-e;return((n-e)%r+r)%r+e}),Dn=(ln(0,1),function(){return(Dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)});var Mn,Ln=function(e){var n=e.onRead,u=e.onRender,t=e.uncachedValues,c=void 0===t?new Set:t,r=e.useCache,l=void 0===r||r;return function(t){var r={},o=[],i=!1,a=function(e,t){var n=r[e];r[e]=t,r[e]!==n&&(-1===o.indexOf(e)&&o.push(e),i||(i=!0,Tt.render(s)))};function s(e){return void 0===e&&(e=!1),(!0===e||i)&&(u(r,t,o),i=!1,o.length=0),this}return{get:function(e){return e?l&&!c.has(e)&&void 0!==r[e]?r[e]:n(e,t):r},set:function(t,e){if("string"==typeof t){if(void 0===e)return function(e){return a(t,e)};a(t,e)}else for(var n in t)t.hasOwnProperty(n)&&a(n,t[n]);return this},render:s}}},Un=/([a-z])([A-Z])/g,Wn=function(e){return e.replace(Un,"$1-$2").toLowerCase()},zn=new Map,Bn=new Map,Vn=["Webkit","Moz","O","ms",""],qn=Vn.length,Hn="undefined"!=typeof document,Kn=function(e,t){return Bn.set(e,Wn(t))},Qn=function(e,t){void 0===t&&(t=!1);var n,r=t?Bn:zn;return r.has(e)||(Hn?function(e){Mn=Mn||document.createElement("div");for(var t=0;t<qn;t++){var n=Vn[t],r=""===n,o=r?e:n+e.charAt(0).toUpperCase()+e.slice(1);(o in Mn.style||r)&&(zn.set(e,o),Kn(e,(r?"":"-")+Wn(o)))}}(e):Kn(n=e,n)),r.get(e)||e},$n=["","X","Y","Z"],Gn=["scale","rotate","skew","transformPerspective"].reduce(function(e,n){return $n.reduce(function(e,t){return e.push(n+t),e},e)},["x","y","z"]),Yn=Gn.reduce(function(e,t){return e[t]=!0,e},{}),Xn=function(e){return!0===Yn[e]},Zn=function(e,t){return Gn.indexOf(e)-Gn.indexOf(t)},Jn={color:et,backgroundColor:et,outlineColor:et,fill:et,stroke:et,borderColor:et,borderTopColor:et,borderRightColor:et,borderBottomColor:et,borderLeftColor:et,borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,rotate:Le,rotateX:Le,rotateY:Le,rotateZ:Le,scale:De,scaleX:De,scaleY:De,scaleZ:De,skew:Le,skewX:Le,skewY:Le,distance:We,x:We,y:We,z:We,perspective:We,opacity:Fe,originX:Ue,originY:Ue,originZ:We},er=function(e){return Jn[e]},tr="scrollLeft",nr="scrollTop",rr=new Set([tr,nr]),or=new Set([tr,nr,"transform"]),ir={x:"translateX",y:"translateY",z:"translateZ"},ar=function(e){return"function"==typeof e},sr=function(t){void 0===t&&(t=!0);var n={},r={},o={},i=[];return function(e){return i.length=0,function(e,t,n,r,o,i){void 0===t&&(t=!0),void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o={}),void 0===i&&(i=[]);var a,s=!0,u=!1,c=!1;for(var l in e){var f=e[l],p=er(l),h="number"==typeof f&&p?p.transform(f):f;Xn(l)?(u=!0,r[l]=h,i.push(l),s&&(p.default&&f!==p.default||!p.default&&0!==f)&&(s=!1)):"originX"===(a=l)||"originY"===a?(o[l]=h,c=!0):or.has(l)&&ar(h)||(n[Qn(l,!0)]=h)}if(s)u&&(n.transform="none");else{var d="";if(ar(e.transform))d=e.transform(r);else{var v=!1;i.sort(Zn);for(var y=i.length,g=0;g<y;g++)l=i[g],d+=(ir[l]||l)+"("+r[l]+") ",v="z"===l||v;!v&&t?d+="translateZ(0)":d=d.trim()}n.transform=d}c&&(n.transformOrigin=(o.originX||0)+" "+(o.originY||0)+" "+(o.originZ||0))}(e,t,n,r,o,i),n}},ur=Ln({onRead:function(e,t){var n=t.element,r=t.preparseOutput,o=er(e);if(Xn(e))return o&&o.default||0;if(rr.has(e))return n[e];var i=window.getComputedStyle(n,null).getPropertyValue(Qn(e,!0))||0;return r&&o&&o.parse?o.parse(i):i},onRender:function(e,t,n){var r=t.element,o=t.buildStyles;Object.assign(r.style,o(e)),-1!==n.indexOf(tr)&&(r.scrollLeft=e.scrollLeft),-1!==n.indexOf(nr)&&(r.scrollTop=e.scrollTop)},uncachedValues:rr}),cr=function(e,t){void 0===t&&(t={});var n=t.enableHardwareAcceleration,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(t,["enableHardwareAcceleration"]);return ur(Dn({element:e,buildStyles:sr(n),preparseOutput:!0},r))},lr=function(e,t){return e/100*t+"px"},fr={fill:et,stroke:et,scale:De,scaleX:De,scaleY:De,opacity:Fe,fillOpacity:Fe,strokeOpacity:Fe},pr=Ln({onRead:function(e,t){var n=t.element;if(Xn(e)){var r=fr[e];return r?r.default:0}return n.getAttribute(e)},onRender:function(e,t){var n=t.dimensions;!function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}(t.element,function(e,t,n,r){var o=!1,i=!1,a={},s=n?{pathLength:"0",pathSpacing:""+r}:void 0,u=void 0!==e.scale?e.scale||1e-7:e.scaleX||1,c=void 0!==e.scaleY?e.scaleY||1e-7:u||1,l=t.width*((e.originX||50)/100)+t.x,f=t.height*((e.originY||50)/100)+t.y,p=1*u*-l,h=1*c*-f,d=l/u,v=f/c,y={translate:"translate("+e.x+", "+e.y+") ",scale:"translate("+p+", "+h+") scale("+u+", "+c+") translate("+d+", "+v+") ",rotate:"rotate("+e.rotate+", "+l+", "+f+") ",skewX:"skewX("+e.skewX+") ",skewY:"skewY("+e.skewY+") "};for(var g in e)if(e.hasOwnProperty(g)){var m=e[g];Xn(g)?o=!0:!n||"pathLength"!==g&&"pathSpacing"!==g||"number"!=typeof m?n&&"pathOffset"===g?a["stroke-dashoffset"]=lr(-m,r):a[Wn(g)]=m:(i=!0,s[g]=lr(m,r))}if(i&&(a["stroke-dasharray"]=s.pathLength+" "+s.pathSpacing),o)for(var g in a.transform="",y)if(y.hasOwnProperty(g)){var _="scale"===g?"1":"0";a.transform+=y[g].replace(/undefined/g,_)}return a}(e,n,t.isPath,t.pathLength))}}),hr=Ln({useCache:!1,onRead:function(e){return"scrollTop"===e?window.pageYOffset:window.pageXOffset},onRender:function(e){var t=e.scrollTop,n=void 0===t?0:t,r=e.scrollLeft,o=void 0===r?0:r;return window.scrollTo(o,n)}}),dr=new WeakMap,vr=function(e,t){var n,r,o;return e instanceof HTMLElement?n=cr(e,t):e instanceof SVGElement?(o={element:r=e,dimensions:function(e){try{return"function"==typeof(t=e).getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){return{x:0,y:0,width:0,height:0}}var t}(r),isPath:!1},"path"===r.tagName&&(o.isPath=!0,o.pathLength=r.getTotalLength()),n=pr(o)):e===window&&(n=hr(e)),dr.set(e,n),n};var yr=function(e,t){var n,r,o="string"==typeof e?document.querySelector(e):e;return n=o,r=t,dr.has(n)?dr.get(n):vr(n,r)},gr=function(){function e(e){void 0===e&&(e={}),this.props=e}return e.prototype.applyMiddleware=function(e){return this.create(xe({},this.props,{middleware:this.props.middleware?[e].concat(this.props.middleware):[e]}))},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=1===e.length?e[0]:Sn.apply(void 0,e);return this.applyMiddleware(function(t){return function(e){return t(n(e))}})},e.prototype.while=function(r){return this.applyMiddleware(function(t,n){return function(e){return r(e)?t(e):n()}})},e.prototype.filter=function(n){return this.applyMiddleware(function(t){return function(e){return n(e)&&t(e)}})},e}(),mr=function(){return function(e,t){var n=e.middleware,r=e.onComplete,o=this;this.isActive=!0,this.update=function(e){o.observer.update&&o.updateObserver(e)},this.complete=function(){o.observer.complete&&o.isActive&&o.observer.complete(),o.onComplete&&o.onComplete(),o.isActive=!1},this.error=function(e){o.observer.error&&o.isActive&&o.observer.error(e),o.isActive=!1},this.observer=t,this.updateObserver=function(e){return t.update(e)},this.onComplete=r,t.update&&n&&n.length&&n.forEach(function(e){return o.updateObserver=e(o.updateObserver,o.complete)})}}(),_r=function(e,t,n){var r=t.middleware;return new mr({middleware:r,onComplete:n},"function"==typeof e?{update:e}:e)},br=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ke(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.start=function(e){void 0===e&&(e={});var t=!1,n={stop:function(){}},r=this.props,o=r.init,i=Pe(r,["init"]),a=o(_r(e,i,function(){t=!0,n.stop()}));return n=a?xe({},n,a):n,e.registerParent&&e.registerParent(n),t&&n.stop(),n},t}(gr),wr=function(e){return new br({init:e})},Er=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.subscribers=[],e}return ke(e,t),e.prototype.complete=function(){this.subscribers.forEach(function(e){return e.complete()})},e.prototype.error=function(t){this.subscribers.forEach(function(e){return e.error(t)})},e.prototype.update=function(e){for(var t=0;t<this.subscribers.length;t++)this.subscribers[t].update(e)},e.prototype.subscribe=function(e){var t=this,n=_r(e,this.props);return this.subscribers.push(n),{unsubscribe:function(){var e=t.subscribers.indexOf(n);-1!==e&&t.subscribers.splice(e,1)}}},e.prototype.stop=function(){this.parent&&this.parent.stop()},e.prototype.registerParent=function(e){this.stop(),this.parent=e},e}(gr),Sr=function(e,t){var n=1/(e-1),r=1/(2*(e-1)),o=Math.min(t,1)/r;return Math.floor((o+1)/2)*n},Cr=function(i){function t(e){var t,n,r,o=i.call(this,e)||this;return o.scheduleVelocityCheck=function(){return Tt.postRender(o.velocityCheck)},o.velocityCheck=function(e){e.timestamp!==o.lastUpdated&&(o.prev=o.current)},o.prev=o.current=e.value||0,n=o.current,"string"===(r=typeof n)||"number"===r?(o.updateCurrent=function(e){return o.current=e},o.getVelocityOfCurrent=function(){return o.getSingleVelocity(o.current,o.prev)}):(t=o.current,Array.isArray(t)?(o.updateCurrent=function(e){return o.current=e.slice()},o.getVelocityOfCurrent=function(){return o.getListVelocity()}):(o.updateCurrent=function(e){for(var t in o.current={},e)e.hasOwnProperty(t)&&(o.current[t]=e[t])},o.getVelocityOfCurrent=function(){return o.getMapVelocity()})),e.initialSubscription&&o.subscribe(e.initialSubscription),o}return ke(t,i),t.prototype.create=function(e){return new t(e)},t.prototype.get=function(){return this.current},t.prototype.getVelocity=function(){return this.getVelocityOfCurrent()},t.prototype.update=function(e){i.prototype.update.call(this,e),this.prev=this.current,this.updateCurrent(e);var t=Ct(),n=t.delta,r=t.timestamp;this.timeDelta=n,this.lastUpdated=r,Tt.postRender(this.scheduleVelocityCheck)},t.prototype.subscribe=function(e){var t=i.prototype.subscribe.call(this,e);return this.subscribers[this.subscribers.length-1].update(this.current),t},t.prototype.getSingleVelocity=function(e,t){return"number"==typeof e&&"number"==typeof t?Nn(e-t,this.timeDelta):Nn(parseFloat(e)-parseFloat(t),this.timeDelta)||0},t.prototype.getListVelocity=function(){var n=this;return this.current.map(function(e,t){return n.getSingleVelocity(e,n.prev[t])})},t.prototype.getMapVelocity=function(){var e={};for(var t in this.current)this.current.hasOwnProperty(t)&&(e[t]=this.getSingleVelocity(this.current[t],this.prev[t]));return e},t}(Er),Tr=function(e,t){return new Cr({value:e,initialSubscription:t})},Or=function(e){var l=e.getCount,f=e.getFirst,p=e.getOutput,h=e.mapApi,d=e.setProp,v=e.startActions;return function(c){return wr(function(e){var t=e.update,r=e.complete,o=e.error,i=l(c),a=p(),s=function(){return t(a)},u=0,n=v(c,function(e,t){var n=!1;return e.start({complete:function(){n||(n=!0,++u===i&&Tt.update(r))},error:o,update:function(e){d(a,t,e),Tt.update(s,!1,!0)}})});return Object.keys(f(n)).reduce(function(e,t){return e[t]=h(n,t),e},{})})}},kr=Or({getOutput:function(){return{}},getCount:function(e){return Object.keys(e).length},getFirst:function(e){return e[Object.keys(e)[0]]},mapApi:function(o,i){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Object.keys(o).reduce(function(e,t){var n;return o[t][i]&&(r[0]&&void 0!==r[0][t]?e[t]=o[t][i](r[0][t]):e[t]=(n=o[t])[i].apply(n,r)),e},{})}},setProp:function(e,t,n){return e[t]=n},startActions:function(n,r){return Object.keys(n).reduce(function(e,t){return e[t]=r(n[t],t),e},{})}}),xr=Or({getOutput:function(){return[]},getCount:function(e){return e.length},getFirst:function(e){return e[0]},mapApi:function(t,r){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.map(function(e,t){if(e[r])return Array.isArray(n[0])?e[r](n[0][t]):e[r].apply(e,n)})}},setProp:function(e,t,n){return e[t]=n},startActions:function(e,n){return e.map(function(e,t){return n(e,t)})}}),Pr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xr(e)},Ar=[We,Ue,Le,ze,Be],Ir=function(t){return Ar.find(function(e){return e.test(t)})},Rr=function(e,t){return e(t)},jr=function(o,i,a){var e=a[0],t=i[e].map(function(e,t){var n,r=a.reduce((n=t,function(e,t){return e[t]=e[t][n],e}),xe({},i));return Ur(e)(o,r)});return Pr.apply(void 0,t)},Nr=function(o,i,a){var s=a[0],e=Object.keys(i[s]).reduce(function(e,t){var n,r=a.reduce((n=t,function(e,t){return e[t]=e[t][n],e}),xe({},i));return e[t]=Ur(i[s][t])(o,r),e},{});return kr(e)},Fr=function(e,t){var n=t.from,r=t.to,o=Pe(t,["from","to"]),i=Ir(n)||Ir(r),a=i.transform,s=i.parse;return e(xe({},o,{from:"string"==typeof n?s(n):n,to:"string"==typeof r?s(r):r})).pipe(a)},Dr=function(e,t){var n=t.from,r=t.to,o=Pe(t,["from","to"]);return e(xe({},o,{from:0,to:1})).pipe(wn(n,r),et.transform)},Mr=function(e,t){var n=t.from,r=t.to,o=Pe(t,["from","to"]),i=it(n);return i(n),it(r)(n),e(xe({},o,{from:0,to:1})).pipe(Cn(ot(n),ot(r)),i)},Lr=function(r,e){var n,o,i,t=(n=e,o=Object.keys(n),i=function(e,t){return void 0!==e&&!n[t](e)},{getVectorKeys:function(n){return o.reduce(function(e,t){return i(n[t],t)&&e.push(t),e},[])},testVectorProps:function(t){return t&&o.some(function(e){return i(t[e],e)})}}),a=t.testVectorProps,s=t.getVectorKeys;return function(e){if(!a(e))return r(e);var t=s(e),n=e[t[0]];return Ur(n)(r,e,t)}},Ur=function(e){var t=Rr;return"number"==typeof e?t=Rr:Array.isArray(e)?t=jr:Boolean(Ir(e))?t=Fr:et.test(e)?t=Dr:rt(e)?t=Mr:"object"==typeof e&&(t=Nr),t},Wr=Lr(function(_){return void 0===_&&(_={}),wr(function(e){var o=e.complete,i=e.update,t=_.velocity,n=void 0===t?0:t,r=_.from,a=void 0===r?0:r,s=_.power,u=void 0===s?.8:s,c=_.timeConstant,l=void 0===c?350:c,f=_.restDelta,p=void 0===f?.5:f,h=_.modifyTarget,d=0,v=u*n,y=Math.round(a+v),g=void 0===h?y:h(y),m=Tt.update(function(e){var t=e.delta;d+=t;var n=-v*Math.exp(-d/l),r=p<n||n<-p;i(r?g+n:g),r||(bt.update(m),o())},!0);return{stop:function(){return bt.update(m)}}})},{from:Ne.test,modifyTarget:function(e){return"function"==typeof e},velocity:Ne.test}),zr=Lr(function(e){var t=e.from,n=void 0===t?0:t,r=e.to,o=void 0===r?1:r,i=e.ease,a=void 0===i?jt:i;return wr(function(e){var t=e.update;return{seek:function(e){return t(e)}}}).pipe(a,function(e){return yn(n,o,e)})},{ease:function(e){return"function"==typeof e},from:Ne.test,to:Ne.test}),Br=ln(0,1),Vr=function(F){return void 0===F&&(F={}),wr(function(e){var n,r=e.update,o=e.complete,t=F.duration,i=void 0===t?300:t,a=F.ease,s=void 0===a?Ft:a,u=F.flip,c=void 0===u?0:u,l=F.loop,f=void 0===l?0:l,p=F.yoyo,h=void 0===p?0:p,d=F.from,v=void 0===d?0:d,y=F.to,g=void 0===y?1:y,m=F.elapsed,_=void 0===m?0:m,b=F.playDirection,w=void 0===b?1:b,E=F.flipCount,S=void 0===E?0:E,C=F.yoyoCount,T=void 0===C?0:C,O=F.loopCount,k=void 0===O?0:O,x=zr({from:v,to:g,ease:s}).start(r),P=0,A=!1,I=function(){return w*=-1},R=function(){P=Br(vn(0,i,_)),x.seek(P)},j=function(){A=!0,n=Tt.update(function(e){var t=e.delta;_+=t*w,R(),function(){var e,t=1===w?A&&i<=_:A&&_<=0;if(!t)return!1;if(t&&!f&&!c&&!h)return!0;var n=!1;return f&&k<f?(k++,n=!(_=0)):c&&S<c?(_=i-_,x=zr({from:v=(e=[g,v])[0],to:g=e[1],ease:s}).start(r),S++,n=!0):h&&T<h&&(I(),T++,n=!0),!n}()&&o&&(bt.update(n),Tt.update(o,!1,!0))},!0)},N=function(){A=!1,n&&bt.update(n)};return j(),{isActive:function(){return A},getElapsed:function(){return ln(0,i,_)},getProgress:function(){return P},stop:function(){N()},pause:function(){return N(),this},resume:function(){return A||j(),this},seek:function(e){return _=yn(0,i,e),Tt.update(R,!1,!0),this},reverse:function(){return I(),this}}})},qr=ln(0,1),Hr=function(e){var t,n,r,o,i=e.easings,a=e.ease,s=void 0===a?jt:a,u=e.times,c=e.values,l=Pe(e,["easings","ease","times","values"]);i=Array.isArray(i)?i:(n=i,(t=c).map(function(){return n||Ft}).splice(0,t.length-1)),u=u||(o=(r=c).length,r.map(function(e,t){return 0!==t?t/(o-1):0}));var f=i.map(function(e,t){return zr({from:c[t],to:c[t+1],ease:e})});return Vr(xe({},l,{ease:s})).applyMiddleware(function(e){return t=f,n=e,o=(r=u).length,a=(i=o-1)-1,s=t.map(function(e){return e.start(n)}),function(e){e<=r[0]&&s[0].seek(0),e>=r[i]&&s[a].seek(1);for(var t=1;t<o&&!(r[t]>e||t===i);t++);var n=vn(r[t-1],r[t],e);s[t-1].seek(qr(n))};var r,t,n,o,i,a,s})},Kr=Lr(function(y){return void 0===y&&(y={}),wr(function(e){var r=e.complete,o=e.update,t=y.acceleration,i=void 0===t?0:t,n=y.friction,a=void 0===n?0:n,s=y.velocity,u=void 0===s?0:s,c=y.springStrength,l=y.to,f=y.restSpeed,p=void 0===f?.001:f,h=y.from,d=void 0===h?0:h,v=Tt.update(function(e){var t=e.delta,n=Math.max(t,16);(i&&(u+=jn(i,n)),a&&(u*=Math.pow(1-a,n/100)),void 0!==c&&void 0!==l)&&(u+=(l-d)*jn(c,n));d+=jn(u,n),o(d),!1!==p&&(!u||Math.abs(u)<=p)&&(bt.update(v),r())},!0);return{set:function(e){return d=e,this},setAcceleration:function(e){return i=e,this},setFriction:function(e){return a=e,this},setSpringStrength:function(e){return c=e,this},setSpringTarget:function(e){return l=e,this},setVelocity:function(e){return u=e,this},stop:function(){return bt.update(v)}}})},{acceleration:Ne.test,friction:Ne.test,velocity:Ne.test,from:Ne.test,to:Ne.test,springStrength:Ne.test}),Qr=Lr(function(T){return void 0===T&&(T={}),wr(function(e){var u=e.update,c=e.complete,t=T.velocity,l=void 0===t?0:t,n=T.from,r=void 0===n?0:n,o=T.to,f=void 0===o?0:o,i=T.stiffness,p=void 0===i?100:i,a=T.damping,h=void 0===a?10:a,s=T.mass,d=void 0===s?1:s,v=T.restSpeed,y=void 0===v?.01:v,g=T.restDelta,m=void 0===g?.01:g,_=l?-l/1e3:0,b=0,w=f-r,E=r,S=E,C=Tt.update(function(e){var t=e.delta;b+=t;var n=h/(2*Math.sqrt(p*d)),r=Math.sqrt(p/d)/1e3;if(S=E,n<1){var o=Math.exp(-n*r*b),i=r*Math.sqrt(1-n*n);E=f-o*((_+n*r*w)/i*Math.sin(i*b)+w*Math.cos(i*b))}else{o=Math.exp(-r*b);E=f-o*(w+(_+r*w)*b)}l=Nn(E-S,t);var a=Math.abs(l)<=y,s=Math.abs(f-E)<=m;a&&s?(u(E=f),bt.update(C),c()):u(E)},!0);return{stop:function(){return bt.update(C)}}})},{from:Ne.test,to:Ne.test,stiffness:Ne.test,damping:Ne.test,mass:Ne.test,velocity:Ne.test}),$r=function(r,o,i){return wr(function(e){var t=e.update,n=o.split(" ").map(function(e){return r.addEventListener(e,t,i),e});return{stop:function(){return n.forEach(function(e){return r.removeEventListener(e,t,i)})}}})},Gr=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},Yr=function(e,t){return void 0===t&&(t={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),t.clientX=t.x=e.clientX,t.clientY=t.y=e.clientY,t.pageX=e.pageX,t.pageY=e.pageY,t},Xr=[Gr()],Zr=!1;if("undefined"!=typeof document){$r(document,"touchstart touchmove",{passive:!0,capture:!0}).start(function(e){var t=e.touches;Zr=!0;for(var n=t.length,r=Xr.length=0;r<n;r++){var o=t[r];Xr.push(Yr(o))}})}var Jr=Gr(),eo=!1;if("undefined"!=typeof document){$r(document,"mousedown mousemove",!0).start(function(e){eo=!0,Yr(e,Jr)})}var to=function(e){return e[0]},no=function(e){return void 0===e&&(e={}),Zr?(r=e,i=void 0===r?{}:r,a=i.preventDefault,l=void 0===a||a,s=i.scale,f=void 0===s?1:s,u=i.rotate,p=void 0===u?0:u,wr(function(e){var o=e.update,i={touches:Xr,scale:f,rotate:p},a=0,s=0,u=1<Xr.length;if(u){var t=Xr[0],n=Xr[1];a=dn(t,n),s=sn(t,n)}var r=function(){if(u){var e=Xr[0],t=Xr[1],n=dn(e,t),r=sn(e,t);i.scale=f*(n/a),i.rotate=p+(r-s)}o(i)},c=$r(document,"touchmove",{passive:!l}).start(function(e){(l||1<e.touches.length)&&e.preventDefault(),Tt.update(r)});return Zr&&Tt.update(r),{stop:function(){bt.update(r),c.stop()}}})).pipe(function(e){return e.touches},to):(n=(void 0===(t=e)?{}:t).preventDefault,o=void 0===n||n,wr(function(e){var t=e.update,n=function(){return t(Jr)},r=$r(document,"mousemove").start(function(e){o&&e.preventDefault(),Tt.update(n)});return eo&&Tt.update(n),{stop:function(){bt.update(n),r.stop()}}}));var t,n,o,r,i,a,l,s,f,u,p},ro=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return wr(function(e){var t,n=e.update,r=e.complete,o=0,i=function(){t=a[o].start({complete:function(){++o>=a.length?r():i()},update:n})};return i(),{stop:function(){return t&&t.stop()}}})},oo=function(r){return wr(function(e){var t=e.complete,n=setTimeout(t,r);return{stop:function(){return clearTimeout(n)}}})},io=Object.freeze({applyOffset:un,clamp:ln,conditional:function(t,n){return function(e){return t(e)?n(e):e}},interpolate:function(e,t,n){var r=void 0===n?{}:n,o=r.clamp,i=void 0===o||o,a=r.ease,s=e.length;t.length,!a||!Array.isArray(a)||(a.length,e.length),e[0]>e[s-1]&&(e=e.slice(),t=t.slice(),e.reverse(),t.reverse());var u,c,l,f,p,h,d,v,y,g=kn(t,a),m=2===s?(h=g,d=(p=e)[0],v=p[1],y=h[0],function(e){return y(vn(d,v,e))}):(c=g,l=(u=e).length,f=l-1,function(e){var t=0,n=!1;if(e<=u[0]?n=!0:e>=u[f]&&(t=f-1,n=!0),!n){for(var r=1;r<l&&!(u[r]>e||r===f);r++);t=r-1}var o=vn(u[t],u[t+1],e);return c[t](o)});return i?Sn(ln(e[0],e[s-1]),m):m},blendArray:Cn,blendColor:wn,pipe:Sn,smooth:function(o){void 0===o&&(o=50);var i=0,a=0;return function(e){var t=Ct().timestamp,n=t!==a?t-a:0,r=n?xn(i,e,n,o):i;return a=t,i=r}},snap:function(o){if("number"==typeof o)return function(e){return Math.round(e/o)*o};var i=0,a=o.length;return function(e){var t=Math.abs(o[0]-e);for(i=1;i<a;i++){var n=o[i],r=Math.abs(n-e);if(0===r)return n;if(t<r)return o[i-1];if(i===a-1)return n;t=r}}},generateStaticSpring:An,nonlinearSpring:Rn,linearSpring:In,wrap:Fn,appendUnit:function(t){return function(e){return""+e+t}},steps:function(n,r,o){return void 0===r&&(r=0),void 0===o&&(o=1),function(e){var t=vn(r,o,e);return yn(r,o,Sr(n,t))}},transformMap:function(o){return function(e){var t=xe({},e);for(var n in o)if(o.hasOwnProperty(n)){var r=o[n];t[n]=r(e[n])}return t}}});var ao=function(){return(ao=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function so(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}var uo,co,lo=function(e){e.transition,e.flip,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.afterChildren,e.beforeChildren,e.preTransition,e.applyAtStart,e.applyAtEnd;return so(e,["transition","flip","delay","delayChildren","staggerChildren","staggerDirection","afterChildren","beforeChildren","preTransition","applyAtStart","applyAtEnd"])},fo=function(e,t){return"function"==typeof e?e(t):e},po=function(e,t,n,r){return e&&void 0!==e[t]?fo(e[t],r):n},ho=function(n,r,o,i,a){return Object.keys(n).forEach(function(e){var t=fo(n[e],o);r.has(e)?i(r.get(e),t):a(e,t,o)})},vo=function(e){var a=e.state,s=e.poses,m=e.startAction,_=e.stopAction,b=e.getInstantTransition,w=e.addActionDelay,E=e.getTransitionProps,S=e.resolveTarget,C=e.transformPose,T=e.posePriority,O=e.convertTransitionDefinition,k=e.setValue,x=e.setValueNative;return function(l,e,f){void 0===e&&(e={}),void 0===f&&(f=!0);var p=a.children,c=a.values,t=a.props,h=a.activeActions,o=a.activePoses,n=e.delay,d=void 0===n?0:n,v=p.size,y=ao({},t,e),g=s[l],r=function(){return v&&f?(e=p,n=l,o=[],i=po(t=g,"delayChildren",0,r=y),a=po(t,"staggerChildren",0,r),s=po(t,"staggerDirection",1,r),u=(e.size-1)*a,c=1===s?function(e){return e*a}:function(e){return u-e*a},Array.from(e).forEach(function(e,t){o.push(e.set(n,{delay:i+c(t)}))}),o):[];var e,n,t,r,o,i,a,s,u,c},i=function(){if(!g)return[];C&&(g=C(g,l,a));var e=g.preTransition,u=g.transition,t=g.applyAtStart,n=g.applyAtEnd;e&&e(y),t&&ho(t,c,y,k,x);var r=Object.keys(lo(g)).map(function(s){var e=(o.has(s)||o.set(s,[]),o.get(s)),t=e.indexOf(l);-1!==t&&e.splice(t,1);var n=T?T.indexOf(l):0,r=n<=0?0:function(e,t,n){for(var r=0,o=n-1;0<=o;o--){var i=e.indexOf(t[o]);if(-1!==i){r=i+1;break}}return r}(e,T,n);return e.splice(r,0,l),0===r?new Promise(function(e){var t=c.get(s),n=ao({},y,{key:s,value:t}),r=S(t,fo(g[s],n));h.has(s)&&_(h.get(s));var o=ao({to:r},n,E(t,r,n)),i=function(e,t,n,r,o,i){var a;if("function"==typeof e)a=e(r);else if(e[t]||e.default){var s=e[t]||e.default;a="function"==typeof s?s(r):s}else a=e;return!1===a?i(n,r):o(n,a,r)}(u,s,t,o,O,b),a=d||fo(g.delay,n);a&&(i=w(a,i)),h.set(s,m(t,i,e))}):Promise.resolve()});return n?[Promise.all(r).then(function(){ho(n,c,y,k,x)})]:r};if(g&&v){if(fo(g.beforeChildren,y))return Promise.all(i()).then(function(){return Promise.all(r())});if(fo(g.afterChildren,y))return Promise.all(r()).then(function(){return Promise.all(i())})}return Promise.all(i().concat(r()))}},yo=function(e){return e.includes("scale")?1:0},go=function(e){var t=Array.isArray(e)?e:[e];return t.push("init"),t},mo=function(n,r,e,t,o,i){void 0===o&&(o=yo);var a,s,u,c,l=go(e).filter(Boolean).find(function(e){var t=n[e];return t&&(void 0!==t[r]||t.applyAtStart&&void 0!==t.applyAtStart[r]||t.applyAtEnd&&void 0!==t.applyAtEnd[r])});return i.set(r,[l||"init"]),l?(a=n[l],s=r,u=t,c=a.applyAtEnd&&void 0!==a.applyAtEnd[s]?a.applyAtEnd[s]:void 0!==a[s]?a[s]:a.applyAtStart&&void 0!==a.applyAtStart[s]?a.applyAtStart[s]:0,fo(c,u)):o(r,t)},_o=function(p,h){return function(e){var r,t,o,i,a,s,u,c,l,f,n=h.poses[e];Object.keys(lo(n)).forEach((r=p,o=(t=h).userSetValues,i=t.createValue,a=t.convertValue,s=t.readValueFromSource,u=t.initialPose,c=t.poses,l=t.activePoses,f=t.props,function(e){if(!r.has(e)){var t;if(o&&void 0!==o[e])t=a(o[e],e,f);else{var n=mo(c,e,u,f,s,l);t=i(n,e,f)}r.set(e,t)}}))}},bo=function(e){var t,r,n,o,i,a,s,u,c,l,f,p,h,d,v=e.poses,y=e.passive,g=new Map;return Object.keys(v).forEach(_o(g,e)),r=(t=e).setValueNative,n=t.initialPose,o=t.props,i=t.poses,a=new Set,s=function(e,t){if(e[t])for(var n in e[t])a.has(n)||(a.add(n),r(n,fo(e[t][n],o),o))},go(n).forEach(function(e){var t=i[e];t&&(s(t,"applyAtEnd"),s(t,"applyAtStart"))}),y&&Object.keys(y).forEach((u=g,l=(c=e).passive,f=c.ancestorValues,p=c.createValue,h=c.readValue,d=c.props,function(e){var t=l[e],n=t[0],r=t[1],o=t[2],i=o&&f.length?function(e,t,n){if(!0===t)return n[0]&&n[0].values.get(e);var r=n.find(function(e){return e.label===t});return r&&r.values.get(e)}(n,o,f):!!u.has(n)&&u.get(n);if(i){var a=p(h(i),e,d,{passiveParentKey:n,passiveParent:i,passiveProps:r});u.set(e,a)}})),g},wo=function(o,i){return Object.keys(o).forEach(function(e){var t,n,r=o[e];o[e]=void 0!==r.transition?r:(t=e,ao({},r,{transition:(n=i).has(t)?n.get(t):n.get("default")}))}),o},Eo=function(e){var _=e.getDefaultProps,b=e.defaultTransitions,w=e.bindOnChange,E=e.startAction,S=e.stopAction,C=e.readValue,T=e.readValueFromSource,O=e.resolveTarget,k=e.setValue,x=e.setValueNative,P=e.createValue,A=e.convertValue,I=e.getInstantTransition,R=e.getTransitionProps,j=e.addActionDelay,N=e.selectValueToRead,F=e.convertTransitionDefinition,D=e.transformPose,M=e.posePriority,L=e.extendAPI;return function(r){var e=r.parentValues,t=r.ancestorValues,o=void 0===t?[]:t;e&&o.unshift({values:e});var n,i=new Map,s=new Map,u=new Set,a=wo(((n=r).label,n.props,n.values,n.parentValues,n.ancestorValues,n.onChange,n.passive,n.initialPose,so(n,["label","props","values","parentValues","ancestorValues","onChange","passive","initialPose"])),b),c=r.props,l=void 0===c?{}:c;_&&(l=ao({},_(r),l));var f=r.passive,p=r.values,h=r.initialPose,d=void 0===h?"init":h,v=bo({poses:a,passive:f,ancestorValues:o,readValue:C,setValueNative:x,createValue:P,convertValue:A,readValueFromSource:T,userSetValues:p,initialPose:d,activePoses:s,props:l}),y={activeActions:i,activePoses:s,children:u,props:l,values:v},g=r.onChange;g&&Object.keys(g).forEach(w(v,g));var m=vo({state:y,poses:a,getInstantTransition:I,getTransitionProps:R,convertTransitionDefinition:F,setValue:k,setValueNative:x,startAction:E,stopAction:S,resolveTarget:O,addActionDelay:j,transformPose:D,posePriority:M});return L({set:m,unset:function(o,t){var i=[];s.forEach(function(e){var t=e.indexOf(o);if(-1!==t){var n=e[0];e.splice(t,1);var r=e[0];r!==n&&-1===i.indexOf(r)&&i.push(r)}});var a,n=i.sort((a=M,function(e,t){var n=a.indexOf(e),r=a.indexOf(t);return-1===n&&-1!==r?-1:-1!==n&&-1===r?1:n-r})).map(function(e){return m(e,t,!1)});return u.forEach(function(e){return n.push(e.unset(o))}),Promise.all(n)},get:function(e){return e?N(v.get(e)):(n=N,r={},v.forEach(function(e,t){return r[t]=n(e)}),r);var n,r},has:function(e){return!!a[e]},setProps:function(e){return y.props=ao({},y.props,e)},_addChild:function(e,t){var n=t(ao({initialPose:d},e,{ancestorValues:[{label:r.label,values:v}].concat(o)}));return u.add(n),n},removeChild:function(e){return u.delete(e)},clearChildren:function(){u.forEach(function(e){return e.destroy()}),u.clear()},destroy:function(){i.forEach(S),u.forEach(function(e){return e.destroy()})}},y,r)}},So=function(){return(So=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Co(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(co=uo||(uo={})).width="width",co.height="height",co.left="left",co.right="right",co.top="top",co.bottom="bottom";var To=function(e,t){return"function"==typeof e?e(t):e},Oo=io.interpolate,ko=function(n){return function(e){var t;return function(e){void 0===e&&(e={});var t=e.x,n=e.y,r=Pe(e,["x","y"]);if(void 0===t&&void 0===n)return no(r);var o=un(t||0),i=un(n||0),a={x:0,y:0};return no(r).pipe(function(e){return a.x=o(e.x),a.y=i(e.y),a})}((t={},t[n]="string"==typeof e?parseFloat(e):e,t)).pipe(function(e){return e[n]})}},xo=ko("x"),Po=ko("y"),Ao=function(u,c,l,f){return function(e){var t=e.from,n=e.type,r=e.dimensions,o=e.dragBounds,i=u(r.measurementAsPixels(f,t,n)),a=[];if(o){var s=To(o,e);void 0!==s[c]&&a.push(function(e){return Math.max(e,r.measurementAsPixels(f,s[c],n))}),void 0!==s[l]&&a.push(function(e){return Math.min(e,r.measurementAsPixels(f,s[l],n))})}return n===Ue&&a.push(Oo([0,r.get(f)],[0,100]),function(e){return e+"%"}),a.length?i.pipe.apply(i,a):i}},Io=function(r){return wr(function(e){var t=e.update,n=e.complete;t(r),n()})},Ro=function(e){var t=e.from,n=e.velocity,r=e.to;return Qr({from:t,to:r,velocity:n,stiffness:500,damping:25,restDelta:.5,restSpeed:10})},jo=function(e){var t=e.from,n=e.velocity,r=e.to;return Qr({from:t,to:r,velocity:n,stiffness:700,damping:0===r?100:35})},No={x:Ro,y:Ro,z:Ro,rotate:Ro,rotateX:Ro,rotateY:Ro,rotateZ:Ro,scaleX:jo,scaleY:jo,scale:jo,opacity:function(e){var t=e.from,n=e.to;return Vr({from:t,to:n,ease:jt})},default:Vr},Fo=So({},No,{x:Ao(xo,"left","right",uo.width),y:Ao(Po,"top","bottom",uo.height)}),Do=function(e){var t=e.from;return Io(t)},Mo=new Map([["default",No],["drag",Fo],["dragEnd",So({},No,{x:Do,y:Do})]]),Lo=[Ne,Le,Ue,We,Be,ze,{test:function(e){return"auto"===e},parse:function(e){return e}}],Uo=function(e){return Lo.find((t=e,function(e){return e.test(t)}));var t},Wo=function(e,t){return void 0===e&&(e=0),ro(oo(e),t)},zo={tween:Vr,spring:Qr,decay:Wr,keyframes:Hr,physics:Kr},Bo={linear:y.linear,easeIn:y.easeIn,easeOut:y.easeOut,easeInOut:y.easeInOut,circIn:y.circIn,circOut:y.circOut,circInOut:y.circInOut,backIn:y.backIn,backOut:y.backOut,backInOut:y.backInOut,anticipate:y.anticipate},Vo=function(e){var t=e.transformPose,d=e.addListenerToValue,n=e.extendAPI,r=e.readValueFromSource,o=e.posePriority,i=e.setValueNative;return Eo({bindOnChange:function(t,n){return function(e){t.has(e)&&t.get(e).raw.subscribe(n[e])}},readValue:function(e){return e.raw.get()},setValue:function(e,t){return e.raw.update(t)},createValue:function(e,t,n,r){var o,i,a,s,u,c=n.elementStyler,l=void 0===r?{}:r,f=l.passiveParent,p=l.passiveProps,h=f?(a=f,u=Tr((s=p)(e)),a.raw.subscribe(function(e){return u.update(s(e))}),{raw:u}):(i=Uo(o=e),{raw:Tr(o),type:i});return d&&h.raw.subscribe(d(t,c)),h},convertValue:function(e,t,n){var r=n.elementStyler;return d&&e.subscribe(d(t,r)),{raw:e,type:Uo(e.get())}},getTransitionProps:function(e,t){var n=e.raw,r=e.type;return{from:n.get(),velocity:n.getVelocity(),to:t,type:r}},resolveTarget:function(e,t){return t},selectValueToRead:function(e){return e.raw},startAction:function(e,t,n){var r=e.raw,o={update:function(e){return r.update(e)},complete:n};return t.start(o)},stopAction:function(e){return e.stop()},getInstantTransition:function(e,t){var n=t.to;return Io(n)},convertTransitionDefinition:function(e,t,n){if(void 0!==t.start)return t;var r=t.delay,o=t.min,i=t.max,a=t.round,s=function(e,t,n){var r=n.from,o=n.to,i=n.velocity,a=t.type,s=void 0===a?"tween":a,u=t.ease,c=Co(t,["type","ease"]);if(zo[s],"tween"===s){var l=typeof u;if("function"!==l)if("string"===l)u=Bo[u];else if(Array.isArray(u)){u.length;var f=u[0],p=u[1],h=u[2],d=u[3];u=y.cubicBezier(f,p,h,d)}}var v="keyframes"!==s?{from:r,to:o,velocity:i,ease:u}:{ease:u};return zo[s](So({},v,c))}(0,Co(t,["delay","min","max","round"]),n),u=[];return r&&(s=Wo(r,s)),void 0!==o&&u.push(function(e){return Math.max(e,o)}),void 0!==i&&u.push(function(e){return Math.min(e,i)}),a&&u.push(Math.round),u.length?s.pipe.apply(s,u):s},setValueNative:i,addActionDelay:Wo,defaultTransitions:Mo,transformPose:t,readValueFromSource:r,posePriority:o,extendAPI:n})},qo=function(e){var n=e.startEvents,c=e.endEvents,l=e.startPose,f=e.endPose,p=e.startCallback,h=e.endCallback,d=e.useDocumentToEnd,v=e.preventScroll;return function(r,o,i,a){var e=l+"Start",s=l+"End",u=l+"Move",t=$r(r,n).start(function(e){if(v){var t=$r(r,"touchmove",{passive:!1}).start(function(e){e.preventDefault()});o.set(u,t)}i.set(l),p&&a[p]&&a[p](e);var n=$r(d?document.documentElement:r,c+(d?" mouseenter":"")).start(function(e){d&&"mouseenter"===e.type&&1===e.buttons||(v&&o.get(u).stop(),o.get(s).stop(),i.unset(l),i.set(f),h&&a[h]&&a[h](e))});o.set(s,n)});o.set(e,t)}},Ho={draggable:qo({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"drag",endPose:"dragEnd",startCallback:"onDragStart",endCallback:"onDragEnd",useDocumentToEnd:!0,preventScroll:!0}),hoverable:qo({startEvents:"mouseenter",endEvents:"mouseleave",startPose:"hover",endPose:"hoverEnd"}),focusable:qo({startEvents:"focus",endEvents:"blur",startPose:"focus",endPose:"blur"}),pressable:qo({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"press",endPose:"pressEnd",startCallback:"onPressStart",endCallback:"onPressEnd",useDocumentToEnd:!0})},Ko=Object.keys(Ho),Qo=function(e){var t=e.top,n=e.right,r=e.bottom;return{x:(e.left+n)/2,y:(t+r)/2}},$o=["width","height","top","left","bottom","right"],Go=new Set($o),Yo=function(e){return Go.has(e)},Xo=function(e,t,n){var r=e.values,o=e.props;if(r.has(t)){var i=r.get(t).raw;i.update(n),i.update(n)}else r.set(t,{raw:Tr(n,function(e){return o.elementStyler.set(t,e)})})},Zo=function(e,t){var n=e.props,r=n.dimensions,o=n.element,i=n.elementStyler;if(!r.has())return{};var a=r.get(),s=function(e){var t=e.style.transform;e.style.transform="";var n=e.getBoundingClientRect();return e.style.transform=t,n}(o),u=a.left===s.left?0:a.right===s.right?"100%":"50%",c=a.top===s.top?0:a.bottom===s.bottom?"100%":"50%";i.set({originX:u,originY:c}),a.width!==s.width&&(Xo(e,"scaleX",a.width/s.width),t.scaleX=1),a.height!==s.height&&(Xo(e,"scaleY",a.height/s.height),t.scaleY=1);var l=Qo(a),f=Qo(s);return"50%"===u&&(Xo(e,"x",l.x-f.x),t.x=0),"50%"===c&&(Xo(e,"y",l.y-f.y),t.y=0),i.render(),t},Jo=function(e,t){return n=t,Object.keys(n).some(Yo)?function(n,r){var e=n.props,t=e.dimensions,o=e.elementStyler;t.measure();r.width,r.height,r.top,r.left,r.bottom,r.right,r.position;var i=Co(r,["width","height","top","left","bottom","right","position"]),a=$o.concat("position").reduce(function(e,t){return void 0!==r[t]&&(e[t]=To(r[t],n.props)),e},{});return o.set(a).render(),Zo(n,i)}(e,t):Zo(e,t);var n},ei=function(e,t){return parseFloat(e.split(", ")[t])},ti=function(i,a){return function(e,t,n){var r=n.transform;if("none"===r)return 0;var o=r.match(/^matrix3d\((.+)\)$/);return o?ei(o[1],a):ei(r.match(/^matrix\((.+)\)$/)[1],i)}},ni={width:function(e,t){return t.width},height:function(e,t){return t.height},top:function(e,t,n){var r=n.top;return parseFloat(r)},left:function(e,t,n){var r=n.left;return parseFloat(r)},bottom:function(e,t,n){var r=t.height,o=n.top;return parseFloat(o)+r},right:function(e,t,n){var r=t.width,o=n.left;return parseFloat(o)+r},x:ti(4,13),y:ti(5,14)},ri=function(e){return void 0!==ni[e]},oi=function(e,t){var n,r,o,i,a,s,u=t.onDragStart,c=t.onDragEnd,l=t.onPressStart,f=t.onPressEnd,p=t.draggable,h=t.hoverable,d=t.focusable,v=t.pressable,y=t.dragBounds,g=Co(t,["onDragStart","onDragEnd","onPressStart","onPressEnd","draggable","hoverable","focusable","pressable","dragBounds"]),m=So({flip:{}},g,{props:So({},g.props,{onDragStart:u,onDragEnd:c,onPressStart:l,onPressEnd:f,dragBounds:y,draggable:p,hoverable:h,focusable:d,pressable:v,element:e,elementStyler:yr(e,{preparseOutput:!1}),dimensions:(n=e,r=!1,o={width:0,height:0,top:0,left:0,bottom:0,right:0},{get:function(e){return e?o[e]:o},measure:function(){return o=n.getBoundingClientRect(),r=!0,o},measurementAsPixels:function(e,t,n){return n===Ue?("string"==typeof t?parseFloat(t):t)/100*o[e]:t},has:function(){return r}})})});if(p){var _=(a={preTransition:function(e){return e.dimensions.measure()}},s={},!0!==(i=p)&&"x"!==i||(a.x=s.x=0),!0!==i&&"y"!==i||(a.y=s.y=0),{drag:a,dragEnd:s}),b=_.drag,w=_.dragEnd;m.drag=So({},m.drag,b),m.dragEnd=So({},m.dragEnd,w)}return m},ii=Vo({posePriority:["drag","press","focus","hover"],transformPose:function(e,t,n){var r,o,i,a=e.flip,s=Co(e,["flip"]);return o=a,i=t,n.props.element instanceof HTMLElement&&(!0===o||"flip"===i)?Jo(n,s):(r=s,Object.keys(r).some(ri)?function(o,i){var a=o.values,s=o.props,t=s.element,e=s.elementStyler,n=Object.keys(i).filter(ri),u=[],r=getComputedStyle(t),c=!1;if(n.forEach(function(e){var t=a.get(e),n=Uo(t.raw.get()),r=To(i[e],s);n!==Uo(r)&&(u.push(e),c||(c=!0,i.applyAtEnd=i.applyAtEnd?So({},i.applyAtEnd):{}),i.applyAtEnd[e]=i.applyAtEnd[e]||i[e],Xo(o,e,r))}),!u.length)return i;var l=t.getBoundingClientRect(),f={top:r.top,left:r.left,bottom:r.bottom,right:r.right,transform:r.transform};e.render();var p=t.getBoundingClientRect();return u.forEach(function(e){Xo(o,e,ni[e](t,l,f)),i[e]=ni[e](t,p,r)}),e.render(),i}(n,s):s)},addListenerToValue:function(t,n){return function(e){return n.set(t,e)}},readValueFromSource:function(e,t){var n=t.elementStyler,r=t.dragBounds,o=n.get(e);if(r&&("x"===e||"y"===e)){var i="x"===e?r.left||r.right:r.top||r.bottom;if(i)o=Uo(i).transform(o)}return isNaN(o)?o:parseFloat(o)},setValueNative:function(e,t,n){return n.elementStyler.set(e,t)},extendAPI:function(n,e,t){var r,o,i,a,s=e.props,u=e.activeActions,c=s.dimensions.measure,l=So({},n,{addChild:function(e,t){return n._addChild(oi(e,t),ii)},measure:c,flip:function(e){return e&&(c(),e()),n.set("flip")}});return s.elementStyler.render(),r=s.element,o=u,i=l,a=t.props,Ko.forEach(function(e){a[e]&&Ho[e](r,o,i,a)}),l}}),ai=function(e,t){return ii(oi(e,t))};var si=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ui=function(t){var n={};return function(e){return void 0===n[e]&&(n[e]=t(e)),n[e]}}(function(e){return si.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),ci=Object(S.createContext)({}),li=ci.Consumer,fi=ci.Provider,pi=function(e,t){return Array.isArray(e)?-1!==e.indexOf(t):e===t},hi=function(){return!0},di=function(e){e.elementType,e.poseConfig,e.onValueChange,e.innerRef,e._pose,e.pose,e.initialPose,e.poseKey,e.onPoseComplete,e.getParentPoseConfig,e.registerChild,e.onUnmount,e.getInitialPoseFromParent,e.popFromFlow,e.values,e.parentValues,e.onDragStart,e.onDragEnd,e.onPressStart,e.onPressEnd;return Te(e,["elementType","poseConfig","onValueChange","innerRef","_pose","pose","initialPose","poseKey","onPoseComplete","getParentPoseConfig","registerChild","onUnmount","getInitialPoseFromParent","popFromFlow","values","parentValues","onDragStart","onDragEnd","onPressStart","onPressEnd"])},vi=function(r){function e(e){var n=r.call(this,e)||this;n.children=new Set,n.childrenHandlers={registerChild:function(e){n.children.add(e),n.poser&&n.flushChildren()},onUnmount:function(e){return n.poser.removeChild(e)},getParentPoseConfig:function(){return n.poseConfig},getInitialPoseFromParent:function(){return n.getInitialPose()}},n.setRef=function(e){null===e||e instanceof Element&&n.ref,n.ref=e;var t=n.props.innerRef;t&&("function"==typeof t?t(e):t.current=e)},n.shouldForwardProp="string"==typeof n.props.elementType?ui:hi;var t=n.props.poseConfig;return n.poseConfig="function"==typeof t?t(di(e)):t,n}return Se(e,r),e.prototype.getInitialPose=function(){var e=this.props,t=e.getInitialPoseFromParent,n=e.pose,r=e._pose,o=e.initialPose;if(o)return o;var i=t&&t(),a=(Array.isArray(i)?i:[i]).concat(n,r).filter(Boolean);return 0<a.length?a:void 0},e.prototype.getFirstPose=function(){var e=this.props,t=e.initialPose,n=e.pose,r=e._pose;if(t){var o=(Array.isArray(n)?n:[n]).concat(r).filter(Boolean);return 1===o.length?o[0]:o}},e.prototype.getSetProps=function(){var e,t=di(this.props);return this.props.popFromFlow&&this.ref&&this.ref instanceof HTMLElement?this.popStyle?t.style=this.popStyle:(t.style=Ce({},t.style,{position:"absolute",top:(e=this.ref).offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),this.popStyle=t.style):this.popStyle=null,t},e.prototype.componentDidMount=function(){var t=this;this.ref,Element;var n,e=this.props,r=e.onValueChange,o=e.registerChild,i=e.values,a=e.parentValues,s=e.onDragStart,u=e.onDragEnd,c=e.onPressStart,l=e.onPressEnd,f=Ce({},this.poseConfig,{initialPose:this.getInitialPose(),values:i||this.poseConfig.values,parentValues:a?(n=a,Object.keys(n).reduce(function(e,t){return e.set(t,{raw:n[t]}),e},new Map)):void 0,props:this.getSetProps(),onDragStart:s,onDragEnd:u,onPressStart:c,onPressEnd:l,onChange:r});o?o({element:this.ref,poseConfig:f,onRegistered:function(e){return t.initPoser(e)}}):this.initPoser(ai(this.ref,f))},e.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.pose,n=e._pose;return(pi(t,"flip")||pi(n,"flip"))&&this.poser.measure(),null},e.prototype.componentDidUpdate=function(e){var t=this.props,n=t.pose,r=t._pose,o=t.poseKey;this.poser.setProps(this.getSetProps()),(o!==e.poseKey||function(e,t){if(e===t)return!1;var n=Array.isArray(e),r=Array.isArray(t);if(n!==r||!n&&!r)return!0;if(n&&r){var o=e.length;if(o!==t.length)return!0;for(var i=0;i<o;i++)if(e[i]!==t[i])return!0}return!1}(e.pose,n)||"flip"===n)&&this.setPose(n),r===e._pose&&"flip"!==r||this.setPose(r)},e.prototype.componentWillUnmount=function(){if(this.poser){var e=this.props.onUnmount;e&&e(this.poser),this.poser.destroy()}},e.prototype.initPoser=function(e){this.poser=e,this.flushChildren();var t=this.getFirstPose();t&&this.setPose(t)},e.prototype.setPose=function(e){var t=this,n=this.props.onPoseComplete,r=Array.isArray(e)?e:[e];Promise.all(r.map(function(e){return e&&t.poser.set(e)})).then(function(){return n&&n(e)})},e.prototype.flushChildren=function(){var r=this;this.children.forEach(function(e){var t=e.element,n=e.poseConfig;return(0,e.onRegistered)(r.poser.addChild(t,n))}),this.children.clear()},e.prototype.render=function(){var r,e=this.props.elementType;return p.a.createElement(fi,{value:this.childrenHandlers},Object(S.createElement)(e,(r=this.shouldForwardProp,[this.getSetProps(),{ref:this.setRef}].reduce(function(e,t){for(var n in t)r(n)&&(e[n]=t[n]);return e},{}))))},e}(S.PureComponent),yi=new Map,gi=function(a){var e=function(i){return void 0===i&&(i={}),Object(S.forwardRef)(function(e,t){var n=e.withParent,r=void 0===n||n,o=Te(e,["withParent"]);return o.innerRef,!r||o.parentValues?p.a.createElement(vi,Ce({poseConfig:i,innerRef:t,elementType:a},o)):p.a.createElement(li,null,function(e){return p.a.createElement(vi,Ce({poseConfig:i,elementType:a,innerRef:t},o,e))})})};return yi.set(a,e),e},mi=function(e){return t=e,yi.has(t)?yi.get(t):gi(t);var t};["a","article","aside","audio","b","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dialog","div","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","label","legend","li","nav","object","ol","option","p","param","picture","pre","progress","q","section","select","span","strong","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","ul","video","circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce(function(e,t){return e[t]=gi(t),e},mi);var _i=function(e){return e&&e.key,("number"==typeof e.key?e.key.toString():e.key).replace(".$","")},bi=function(e,t){return Object(S.createElement)(e.type,Ce({key:e.key,ref:e.ref},t,e.props))},wi=function(e,t){var n=function(e,t){var n=t.displayedChildren,r=t.finishedLeaving,o=t.hasInitialized,i=t.indexedChildren,a=t.scheduleChildRemoval,s=e.children,u=e.preEnterPose,c=e.enterPose,l=e.exitPose,f=e.animateOnMount,p=(e.enterAfterExit,e.flipMove),h=(e.onRest,Te(e,["children","preEnterPose","enterPose","exitPose","animateOnMount","enterAfterExit","flipMove","onRest"])),d=Ei(s),v={displayedChildren:[]};var y=n.map(_i),g=d.map(_i),m=0!==Object.keys(h).length,_=new Set(g.filter(function(e){return r.hasOwnProperty(e)||-1===y.indexOf(e)}));_.forEach(function(e){return delete r[e]});var b=[],w={};y.forEach(function(e){if(!_.has(e)){var t=r.hasOwnProperty(e);(t||-1===g.indexOf(e))&&(b.push(e),t||(r[e]=!1,w[e]=!0))}});var E=new Set(y.filter(function(e,t){return!_.has(e)||-1===b.indexOf(e)}));return d.forEach(function(e){var t={};_.has(e.key)?((o||f)&&(t.initialPose=u),t._pose=c):E.has(e.key)&&p?t._pose=[c,"flip"]:t._pose=c;var n=Object(S.cloneElement)(e,t);i[e.key]=n,v.displayedChildren.push(m?bi(n,h):n)}),b.forEach(function(n){var r=i[n],e=w[n]?Object(S.cloneElement)(r,{_pose:l,onPoseComplete:function(e){a(n);var t=r.props.onPoseComplete;t&&t(e)},popFromFlow:p}):r,t=y.indexOf(n);i[r.key]=e,v.displayedChildren.splice(t,0,m?bi(e,h):e)}),v}(e,t);return n.hasInitialized=!0,n},Ei=function(e){var t=[];return S.Children.forEach(e,function(e){return e&&t.push(e)}),t},Si=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={displayedChildren:[],finishedLeaving:{},hasInitialized:!1,indexedChildren:{},scheduleChildRemoval:function(e){return t.removeChild(e)}},t}return Se(t,e),t.prototype.removeChild=function(e){var t=this.state,n=t.displayedChildren,r=t.finishedLeaving,o=this.props,i=o.enterAfterExit,a=o.onRest;if(r.hasOwnProperty(e)&&(r[e]=!0,Object.keys(r).every(function(e){return r[e]}))){var s=n.filter(function(e){return!r.hasOwnProperty(e.key)}),u=i?Ce({finishedLeaving:{}},wi(Ce({},this.props,{enterAfterExit:!1}),Ce({},this.state,{displayedChildren:s}))):{finishedLeaving:{},displayedChildren:s};this.setState(u,a)}},t.prototype.shouldComponentUpdate=function(e,t){return this.state!==t},t.prototype.render=function(){return this.state.displayedChildren},t.defaultProps={flipMove:!1,enterAfterExit:!1,preEnterPose:"exit",enterPose:"enter",exitPose:"exit"},t.getDerivedStateFromProps=wi,t}(S.Component),Ci=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.render=function(){return Object(S.createElement)(Si,Ce({},this.props))},t.defaultProps={flipMove:!0},t}(S.Component),Ti=mi,Oi=n(17),ki=n.n(Oi),xi=n(49),Pi=n.n(xi),Ai=n(3),Ii=n.n(Ai),Ri=n(66),ji=n.n(Ri);function Ni(e){return(Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fi(){return(Fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Di(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Li(e){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var zi=function(){return p.a.createElement(Pi.a,{type:"bars",height:"5%",width:"5%",color:"#fff",className:Ii.a.loading})},Bi=ki()({loader:function(){return n.e(5).then(n.bind(null,231))},loading:zi}),Vi=ki()({loader:function(){return Promise.all([n.e(8),n.e(3)]).then(n.bind(null,232))},loading:zi}),qi=ki()({loader:function(){return n.e(7).then(n.bind(null,233))},loading:zi}),Hi=ki()({loader:function(){return n.e(4).then(n.bind(null,234))},loading:zi}),Ki=ki()({loader:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,236))},loading:zi}),Qi=ki()({loader:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,235))},loading:zi}),$i=window.matchMedia("(min-width: 800px)"),Gi=Ti.div({enter:{opacity:1,delay:300,beforeChildren:!0},exit:{opacity:0,transition:{duration:200}}}),Yi=new Date,Xi=Ti.div({hidden:{opacity:0,zIndex:-1},visible:{opacity:1,zIndex:9999}});var Zi=function(e){function o(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,(t=!(r=Li(o).call(this,e))||"object"!==Ni(r)&&"function"!=typeof r?Wi(n):r).state={sidebarDocked:$i.matches,sidebarOpen:!1,documentready:!1,artistsready:!1,footer:"#000",bg:ji()({luminosity:"light",format:"hsla"}),events:[],artists:[]},t.mediaQueryChanged=t.mediaQueryChanged.bind(Wi(Wi(t))),t.onSetSidebarOpen=t.onSetSidebarOpen.bind(Wi(Wi(t))),t.findWork=t.findWork.bind(Wi(Wi(t))),t.changecolor=t.changecolor.bind(Wi(Wi(t))),t}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}(o,p.a.Component),t=o,(n=[{key:"componentDidMount",value:function(){var e=this;$i.addListener(this.mediaQueryChanged);u.content.get({schemaKey:"events",populate:[{field:"banner",size:{width:667,height:9999,quality:1}}]}).then(function(t){for(var n in t)t.hasOwnProperty(n)&&e.setState(function(e){return{events:[].concat(Di(e.events),[t[n]])}})}).then(function(){e.setState({events:e.state.events.sort(function(e,t){return new Date(t.date)-new Date(e.date)})}),e.setState({documentready:!0})}).catch(function(e){return console.error("Something went wrong while retrieving the entry. Details:",e)});u.content.get({schemaKey:"artists",populate:[{field:"pic",size:{width:375,height:9999,quality:1}}]}).then(function(t){for(var n in t)t.hasOwnProperty(n)&&e.setState(function(e){return{artists:[].concat(Di(e.artists),[t[n]])}})}).then(function(){e.setState({artistsready:!0})}).catch(function(e){return console.error("Something went wrong while retrieving the entry. Details:",e)})}},{key:"changecolor",value:function(e){"#000"!=e?this.setState({bg:e,footer:"#000"}):this.setState({bg:e,footer:"#FFF"})}},{key:"componentWillUnmount",value:function(){$i.removeListener(this.mediaQueryChanged)}},{key:"onSetSidebarOpen",value:function(e){this.setState({sidebarOpen:e})}},{key:"mediaQueryChanged",value:function(){this.setState({sidebarDocked:$i.matches,sidebarOpen:!1})}},{key:"findWork",value:function(t){return this.state.events.find(function(e){return e.urlTitle===t})}},{key:"render",value:function(){var n=this;return p.a.createElement(ie,null,p.a.createElement("div",{className:Ii.a.container,style:{backgroundColor:this.state.bg}},p.a.createElement(Xi,{pose:this.state.documentready||this.state.artistsready?"hidden":"visible",className:Ii.a.loader},p.a.createElement(Pi.a,{type:"bars",height:"5%",width:"5%",color:"#fff",className:Ii.a.loading}),p.a.createElement("p",null,"refresh if necessary")),p.a.createElement("header",null,p.a.createElement("h1",null,p.a.createElement("img",{src:"img/logo/icon.jpg",alt:""}),p.a.createElement(ce,{to:"/"},"TOPLAPMONTREAL")),p.a.createElement("h2",null,"open exchange for new media arts and audio visual performances")),p.a.createElement(O,{sidebar:p.a.createElement("nav",null,p.a.createElement("ul",{onClick:function(){return n.onSetSidebarOpen(!1)}},this.state.sidebarDocked?null:p.a.createElement("li",{className:Ii.a.close,onClick:function(){return n.onSetSidebarOpen(!1)}},"x close menu"),p.a.createElement("li",null,p.a.createElement(ce,{to:"/about"},"about")),p.a.createElement("li",null,p.a.createElement(ce,{to:"/artists"},"artists")),p.a.createElement("li",{className:Ii.a.head},"projects"),this.state.events.map(function(e,t){if(new Date(e.date)>=Yi)return p.a.createElement("li",{key:t},p.a.createElement(ce,{to:"/"+e.urlTitle},e.title))}),this.state.events.map(function(e,t){if(new Date(e.date)<Yi)return p.a.createElement("li",{key:t},p.a.createElement(ce,{to:"/"+e.urlTitle},e.title))}),p.a.createElement("li",{className:Ii.a.head},"open call"),p.a.createElement("li",null,p.a.createElement(ce,{to:"/opencall"},"apply")),p.a.createElement("li",{className:Ii.a.head},"online art"),p.a.createElement("li",null,p.a.createElement(ce,{to:"/onlineart"},"Guillaume Pelletier-Auger")),p.a.createElement("li",null,p.a.createElement(ce,{to:"/onlineart_2"},"Minh Duc Nguyen")),p.a.createElement("li",{className:Ii.a.head},"community"),p.a.createElement("li",null,p.a.createElement("a",{rel:"noopener",target:"_blank",title:"toplap website",href:"https://toplap.org/"},"TOPLAP")),p.a.createElement("li",null,p.a.createElement("a",{rel:"noopener",target:"_blank",title:"algorave website",href:"https://algorave.com/"},"Algorave")))),open:this.state.sidebarOpen,docked:this.state.sidebarDocked,onSetOpen:this.onSetSidebarOpen,shadow:!1,sidebarClassName:Ii.a.sidebar,contentClassName:Ii.a.content,rootClassName:Ii.a.root,styles:{root:{position:"relative",overflow:""},content:{position:"relative",overflowY:"none"},sidebar:{zIndex:999,bottom:"",overflowY:""},overlay:{zIndex:100,backgroundColor:"rgba(0,0,0,0.9)"}}},this.state.sidebarDocked?null:p.a.createElement("button",{className:Ii.a.burger,onClick:function(){return n.onSetSidebarOpen(!0)}},p.a.createElement("img",{src:"img/menu.png",alt:""}),"menu"),p.a.createElement("div",{className:Ii.a.view},p.a.createElement(_e,{render:function(e){var t=e.location;return p.a.createElement(Ci,null,p.a.createElement(Gi,{key:t.pathname},p.a.createElement(we,{location:t},p.a.createElement(_e,{exact:!0,path:"/",key:"home",component:Ki}),p.a.createElement(_e,{path:"/about",key:"about",render:function(e){return p.a.createElement(Bi,Fi({change:n.changecolor},e))}}),p.a.createElement(_e,{path:"/artists",key:"artists",render:function(e){return n.state.artistsready?p.a.createElement(Vi,Fi({artistlist:n.state.artists,change:n.changecolor,app:u},e)):p.a.createElement("div",null)}}),p.a.createElement(_e,{path:"/opencall",key:"opencall",render:function(e){return p.a.createElement(Hi,Fi({change:n.changecolor},e))}}),p.a.createElement(_e,{path:"/onlineart",component:Ki,key:"onlineart"}),p.a.createElement(_e,{path:"/onlineart_2",component:Qi,key:"onlineart_2"}),p.a.createElement(_e,{path:"/:id",key:"project",render:function(e){var t=n.findWork(e.match.params.id);return n.state.documentready?p.a.createElement(qi,Fi({work:t,change:n.changecolor,app:u},e)):p.a.createElement("div",null)}}))))}}))),p.a.createElement("footer",{style:{color:this.state.footer}},"toplap montreal  2019 Montreal / website by",p.a.createElement("a",{href:"https://www.pinkbeton.com",style:{marginLeft:"1vmin",textDecoration:"none",color:this.state.footer},target:"_blank"}," pinkbeton"))))}}])&&Mi(t.prototype,n),r&&Mi(t,r),o}();t.default=Zi;o.a.render(p.a.createElement(Zi,null),document.getElementById("app"))},function(e,t,n){"use strict";n.r(t);var r=n(21),l=n.n(r),o="https://firebasestorage.googleapis.com",a="https://firebasestorage.googleapis.com",s="/v0",i="/v0",g=function(){function e(e,t){this.code_=u(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return u(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),m={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function u(e){return"storage/"+e}function c(){return new g(m.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function f(){return new g(m.CANCELED,"User canceled the upload/download.")}function _(){return new g(m.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function p(e,t,n){return new g(m.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function h(){return new g(m.APP_DELETED,"The Firebase app was deleted.")}function d(e,t){return new g(m.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function v(e){throw new g(m.INTERNAL_ERROR,"Internal error: "+e)}var y={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function b(e){switch(e){case y.RAW:case y.BASE64:case y.BASE64URL:case y.DATA_URL:return;default:throw"Expected one of the event types: ["+y.RAW+", "+y.BASE64+", "+y.BASE64URL+", "+y.DATA_URL+"]."}}var w=function(e,t){this.data=e,this.contentType=t||null};function E(e,t){switch(e){case y.RAW:return new w(S(t));case y.BASE64:case y.BASE64URL:return new w(C(e,t));case y.DATA_URL:return new w((n=new T(t)).base64?C(y.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw d(y.DATA_URL,"Malformed data URL.")}return S(t)}(n.rest),new T(t).contentType)}var n;throw c()}function S(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function C(t,e){switch(t){case y.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw d(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case y.BASE64URL:var o=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(o||i)throw d(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw d(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var T=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw d(y.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,o=t[1]||null;null!=o&&(this.base64=(r=";base64",(n=o).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?o.substring(0,o.length-";base64".length):o),this.rest=e.substring(e.indexOf(",")+1)};var O,k,x={STATE_CHANGED:"state_changed"},P="running",A="pausing",I="paused",R="success",j="canceling",N="canceled",F="error",D={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function M(e){switch(e){case P:case A:case j:return D.RUNNING;case I:return D.PAUSED;case R:return D.SUCCESS;case N:return D.CANCELED;case F:default:return D.ERROR}}function L(e,t){for(var n in e)r=e,o=n,Object.prototype.hasOwnProperty.call(r,o)&&t(n,e[n]);var r,o}function U(e){if(null==e)return{};var n={};return L(e,function(e,t){n[e]=t}),n}function W(e){return new Promise(e)}function z(e){return Promise.resolve(e)}function B(e){return null!=e}function V(e){return void 0!==e}function q(e){return"function"==typeof e}function H(e){return"object"==typeof e}function K(e){return"string"==typeof e||e instanceof String}function Q(e){return $()&&e instanceof Blob}function $(){return"undefined"!=typeof Blob}(k=O||(O={}))[k.NO_ERROR=0]="NO_ERROR",k[k.NETWORK_ERROR=1]="NETWORK_ERROR",k[k.ABORT=2]="ABORT";var G=function(){function e(){var n=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=O.NO_ERROR,this.sendPromise_=W(function(t,e){n.xhr_.addEventListener("abort",function(e){n.errorCode_=O.ABORT,t(n)}),n.xhr_.addEventListener("error",function(e){n.errorCode_=O.NETWORK_ERROR,t(n)}),n.xhr_.addEventListener("load",function(e){t(n)})})}return e.prototype.send=function(e,t,n,r){var o=this;if(this.sent_)throw v("cannot .send() more than once");(this.sent_=!0,this.xhr_.open(t,e,!0),B(r))&&L(r,function(e,t){o.xhr_.setRequestHeader(e,t.toString())});return B(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw v("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw v("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw v("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){B(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){B(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Y=function(){function e(){}return e.prototype.createXhrIo=function(){return new G},e}();function X(e){var t,n;try{t=JSON.parse(e)}catch(e){return null}return H(n=t)&&!Array.isArray(n)?t:null}var Z=function(){function l(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(l.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),l.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},l.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},l.makeFromBucketSpec=function(t){var e,n;try{e=l.makeFromUrl(t)}catch(e){return new l(t,"")}if(""===e.path)return e;throw n=t,new g(m.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")},l.makeFromUrl=function(e){var t=null,n="([A-Za-z0-9.\\-_]+)";for(var r,o=[{regex:new RegExp("^gs://"+n+"(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/"+n+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],i=0;i<o.length;i++){var a=o[i],s=a.regex.exec(e);if(s){var u=s[a.indices.bucket],c=s[a.indices.path];c||(c=""),t=new l(u,c),a.postModify(t);break}}if(null==t)throw r=e,new g(m.INVALID_URL,"Invalid URL '"+r+"'.");return t},l}();function J(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ee(e){return o+s+e}function te(e){return o+i+e}function ne(e){var r=encodeURIComponent,o="?";return L(e,function(e,t){var n=r(e)+"="+r(t);o=o+n+"&"}),o=o.slice(0,-1)}function re(e,t){return t}var oe=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||re},ie=null;function ae(){if(ie)return ie;var e=[];e.push(new oe("bucket")),e.push(new oe("generation")),e.push(new oe("metageneration")),e.push(new oe("name","fullPath",!0));var t=new oe("name");t.xform=function(e,t){return!K(n=t)||n.length<2?n:J(n=n);var n},e.push(t);var n=new oe("size");return n.xform=function(e,t){return B(t)?+t:t},e.push(n),e.push(new oe("timeCreated")),e.push(new oe("updated")),e.push(new oe("md5Hash",null,!0)),e.push(new oe("cacheControl",null,!0)),e.push(new oe("contentDisposition",null,!0)),e.push(new oe("contentEncoding",null,!0)),e.push(new oe("contentLanguage",null,!0)),e.push(new oe("contentType",null,!0)),e.push(new oe("metadata","customMetadata",!0)),ie=e}function se(e,t,n){for(var r,o,i={type:"file"},a=n.length,s=0;s<a;s++){var u=n[s];i[u.local]=u.xform(i,t[u.server])}return r=i,o=e,Object.defineProperty(r,"ref",{get:function(){var e=r.bucket,t=r.fullPath,n=new Z(e,t);return o.makeStorageReference(n)}}),i}function ue(e,t,n){var r=X(t);return null===r?null:se(e,r,n)}function ce(o,e){var t=X(e);if(null===t)return null;if(!K(t.downloadTokens))return null;var n=t.downloadTokens;if(0===n.length)return null;var i=encodeURIComponent;return n.split(",").map(function(e){var t=o.bucket,n=o.fullPath,r="/b/"+i(t)+"/o/"+i(n);return a+s+r+ne({alt:"media",token:e})})[0]}function le(e,t){for(var n={},r=t.length,o=0;o<r;o++){var i=t[o];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}function fe(e){var t;if(!(e&&H(e)))throw"Expected Metadata object.";for(var n in e){var r=e[n];if("customMetadata"===n){if(!H(r))throw"Expected object for 'customMetadata' mapping."}else if(H(t=r)&&null!==t)throw"Mapping for '"+n+"' cannot be an object."}}function pe(t,e,n){for(var r=e.length,o=e.length,i=0;i<e.length;i++)if(e[i].optional){r=i;break}var a,s,u,c,l,f;if(!(r<=n.length&&n.length<=o))throw a=r,s=o,u=t,c=n.length,f=a===s?1===(l=a)?"argument":"arguments":(l="between "+a+" and "+s,"arguments"),new g(m.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+u+"`: Expected "+l+" "+f+", received "+c+".");for(i=0;i<n.length;i++)try{e[i].validator(n[i])}catch(e){throw e instanceof Error?p(i,t,e.message):p(i,t,e)}}var he=function(t,e){var n=this;this.validator=function(e){n.optional&&!V(e)||t(e)},this.optional=!!e};function de(e,t){function n(e){if(!K(e))throw"Expected string."}var r,o,i;return r=e?(o=n,i=e,function(e){o(e),i(e)}):n,new he(r,t)}function ve(e){return new he(fe,e)}function ye(){return new he(function(e){var t;if(!(("number"==typeof(t=e)||t instanceof Number)&&0<=e))throw"Expected a number 0 or greater."})}function ge(t,e){return new he(function(e){if(!(null===e||B(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)},e)}function me(e){return new he(function(e){if(null!==e&&!q(e))throw"Expected a Function."},e)}function _e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}if($())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var be=function(){function s(e,t){var n=0,r="";Q(e)?(n=(this.data_=e).size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return s.prototype.size=function(){return this.size_},s.prototype.type=function(){return this.type_},s.prototype.slice=function(e,t){if(Q(this.data_)){var n=this.data_,r=(i=e,a=t,(o=n).webkitSlice?o.webkitSlice(i,a):o.mozSlice?o.mozSlice(i,a):o.slice?o.slice(i,a):null);return null===r?null:new s(r)}var o,i,a;return new s(new Uint8Array(this.data_.buffer,e,t-e),!0)},s.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if($()){var n=e.map(function(e){return e instanceof s?e.data_:e});return new s(_e.apply(null,n))}var r=e.map(function(e){return K(e)?E(y.RAW,e).data:e.data_}),o=0;r.forEach(function(e){o+=e.byteLength});var i=new Uint8Array(o),a=0;return r.forEach(function(e){for(var t=0;t<e.length;t++)i[a++]=e[t]}),new s(i,!0)},s.prototype.uploadData=function(){return this.data_},s}();function we(e,t){return-1!==e.indexOf(t)}var Ee=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Se(e){if(!e)throw c()}function Ce(r,o){return function(e,t){var n=ue(r,t,o);return Se(null!==n),n}}function Te(i){return function(e,t){var n,r,o;return(n=401===e.getStatus()?new g(m.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=i.bucket,new g(m.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(r=i.path,new g(m.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):t).setServerResponseProp(t.serverResponseProp()),n}}function Oe(o){var i=Te(o);return function(e,t){var n,r=i(e,t);return 404===e.getStatus()&&(n=o.path,r=new g(m.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")),r.setServerResponseProp(t.serverResponseProp()),r}}function ke(e,t,n){var r=ee(t.fullServerUrl()),o=e.maxOperationRetryTime(),i=new Ee(r,"GET",Ce(e,n),o);return i.errorHandler=Oe(t),i}function xe(e,t,n){var r,o,i=ee(t.fullServerUrl()),a=e.maxOperationRetryTime(),s=new Ee(i,"GET",(r=e,o=n,function(e,t){var n=ue(r,t,o);return Se(null!==n),ce(n,t)}),a);return s.errorHandler=Oe(t),s}function Pe(e,t,n){var r,o,i=U(n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=(o=t,(r=null)&&r.contentType||o&&o.type()||"application/octet-stream")),i}var Ae=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Ie(e,t){var n;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Se(!1)}return Se(we(t||["active"],n)),n}function Re(e,a,t,s,n,u,r,o){var c=new Ae(0,0);if(c.total=r?(c.current=r.current,r.total):(c.current=0,s.size()),s.size()!==c.total)throw new g(m.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var i=c.total-c.current,l=i;0<n&&(l=Math.min(l,n));var f=c.current,p=f+l,h={"X-Goog-Upload-Command":l===i?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},d=s.slice(f,p);if(null===d)throw _();var v=a.maxUploadRetryTime(),y=new Ee(t,"POST",function(e,t){var n,r=Ie(e,["active","final"]),o=c.current+l,i=s.size();return n="final"===r?Ce(a,u)(e,t):null,new Ae(o,i,"final"===r,n)},v);return y.headers=h,y.body=d.uploadData(),y.progressCallback=o||null,y.errorHandler=Te(e),y}var je=function(e,t,n){if(q(e)||B(t)||B(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},Ne=function(e,t,n,r,o,i){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=o,this.ref=i};function Fe(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];z(!0).then(function(){n.apply(null,e)})}}var De=function(){function e(e,t,n,r,o,i){void 0===i&&(i=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=o,this.metadata_=i,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=P,this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals(m.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_(F))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals(m.CANCELED)?a.completeTransitions_():(a.error_=e,a.transition_(F))},this.promise_=W(function(e,t){a.resolve_=e,a.reject_=t,a.start_()}),this.promise_.then(null,function(){})}return e.prototype.makeProgressCallback_=function(){var n=this,r=this.transferred_;return function(e,t){n.updateProgress_(r+e)}},e.prototype.shouldDoResumable_=function(e){return 262144<e.size()},e.prototype.start_=function(){this.state_===P&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(t){var n=this;this.authWrapper_.getAuthToken().then(function(e){switch(n.state_){case P:t(e);break;case j:n.transition_(N);break;case A:n.transition_(I)}})},e.prototype.createResumable_=function(){var y=this;this.resolveToken_(function(e){var t,n,r,o,i,a,s,u,c,l,f,p,h,d=(t=y.authWrapper_,n=y.location_,r=y.mappings_,o=y.blob_,i=y.metadata_,a=n.bucketOnlyServerUrl(),s=Pe(n,o,i),u={name:s.fullPath},c=te(a),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":o.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=le(s,r),p=t.maxUploadRetryTime(),(h=new Ee(c,"POST",function(e,t){var n;Ie(e);try{n=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Se(!1)}return Se(K(n)),n},p)).urlParams=u,h.headers=l,h.body=f,h.errorHandler=Te(n),h),v=y.authWrapper_.makeRequest(d,e);(y.request_=v).getPromise().then(function(e){y.request_=null,y.uploadUrl_=e,y.needToFetchStatus_=!1,y.completeTransitions_()},y.errorHandler_)})},e.prototype.fetchStatus_=function(){var c=this,l=this.uploadUrl_;this.resolveToken_(function(e){var t,n,r,i,o,a,s=(t=c.authWrapper_,n=c.location_,r=l,i=c.blob_,o=t.maxUploadRetryTime(),(a=new Ee(r,"POST",function(e,t){var n,r=Ie(e,["active","final"]);try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Se(!1)}var o=parseInt(n,10);return Se(!isNaN(o)),new Ae(o,i.size(),"final"===r)},o)).headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Te(n),a),u=c.authWrapper_.makeRequest(s,e);(c.request_=u).getPromise().then(function(e){e=e,c.request_=null,c.updateProgress_(e.current),c.needToFetchStatus_=!1,e.finalized&&(c.needToFetchMetadata_=!0),c.completeTransitions_()},c.errorHandler_)})},e.prototype.continueUpload_=function(){var r=this,o=262144*this.chunkMultiplier_,i=new Ae(this.transferred_,this.blob_.size()),a=this.uploadUrl_;this.resolveToken_(function(e){var t;try{t=Re(r.location_,r.authWrapper_,a,r.blob_,o,r.mappings_,i,r.makeProgressCallback_())}catch(e){return r.error_=e,void r.transition_(F)}var n=r.authWrapper_.makeRequest(t,e);(r.request_=n).getPromise().then(function(e){r.increaseMultiplier_(),r.request_=null,r.updateProgress_(e.current),e.finalized?(r.metadata_=e.metadata,r.transition_(R)):r.completeTransitions_()},r.errorHandler_)})},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var r=this;this.resolveToken_(function(e){var t=ke(r.authWrapper_,r.location_,r.mappings_),n=r.authWrapper_.makeRequest(t,e);(r.request_=n).getPromise().then(function(e){r.request_=null,r.metadata_=e,r.transition_(R)},r.metadataErrorHandler_)})},e.prototype.oneShotUpload_=function(){var r=this;this.resolveToken_(function(e){var t=function(e,t,n,r,o){var i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Pe(t,r,o),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+le(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=be.getBlob(c,r,l);if(null===f)throw _();var p={name:u.fullPath},h=te(i),d=e.maxUploadRetryTime(),v=new Ee(h,"POST",Ce(e,n),d);return v.urlParams=p,v.headers=a,v.body=f.uploadData(),v.errorHandler=Te(t),v}(r.authWrapper_,r.location_,r.mappings_,r.blob_,r.metadata_),n=r.authWrapper_.makeRequest(t,e);(r.request_=n).getPromise().then(function(e){r.request_=null,r.metadata_=e,r.updateProgress_(r.blob_.size()),r.transition_(R)},r.errorHandler_)})},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case j:case A:this.state_=e,null!==this.request_&&this.request_.cancel();break;case P:var t=this.state_===I;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case I:this.state_=e,this.notifyObservers_();break;case N:this.error_=f(),this.state_=e,this.notifyObservers_();break;case F:case R:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case A:this.transition_(I);break;case j:this.transition_(N);break;case P:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=M(this.state_);return new Ne(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(t,e,n,i){void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===i&&(i=void 0);var r="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=me(!0).validator,a=ge(null,!0).validator;function s(e){try{return void o(e)}catch(e){}try{if(a(e),!(V(e.next)||V(e.error)||V(e.complete)))throw"";return}catch(e){throw r}}pe("on",[de(function(e){if(t!==x.STATE_CHANGED)throw"Expected one of the event types: ["+x.STATE_CHANGED+"]."}),ge(s,!0),me(!0),me(!0)],arguments);var u=this;function c(o){return function(e,t,n){null!==o&&pe("on",o,arguments);var r=new je(e,t,i);return u.addObserver_(r),function(){u.removeObserver_(r)}}}var l=[ge(function(e){if(null===e)throw r;s(e)}),me(!0),me(!0)];return!(V(e)||V(n)||V(i))?c(l):c(null)(e,n,i)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t,n,r;t=this.observers_,n=e,-1!==(r=t.indexOf(n))&&t.splice(r,1)},e.prototype.notifyObservers_=function(){var e,t=this;this.finishPromise_(),(e=this.observers_,Array.prototype.slice.call(e)).forEach(function(e){t.notifyObserver_(e)})},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(M(this.state_)){case D.SUCCESS:Fe(this.resolve_.bind(null,this.snapshot))();break;case D.CANCELED:case D.ERROR:Fe(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(M(this.state_)){case D.RUNNING:case D.PAUSED:null!==e.next&&Fe(e.next.bind(e,this.snapshot))();break;case D.SUCCESS:null!==e.complete&&Fe(e.complete.bind(e))();break;case D.CANCELED:case D.ERROR:null!==e.error&&Fe(e.error.bind(e,this.error_))();break;default:null!==e.error&&Fe(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){pe("resume",[],arguments);var e=this.state_===I||this.state_===A;return e&&this.transition_(P),e},e.prototype.pause=function(){pe("pause",[],arguments);var e=this.state_===P;return e&&this.transition_(A),e},e.prototype.cancel=function(){pe("cancel",[],arguments);var e=this.state_===P||this.state_===A;return e&&this.transition_(j),e},e}(),Me=function(){function n(e,t){this.authWrapper=e,this.location=t instanceof Z?t:Z.makeFromUrl(t)}return n.prototype.toString=function(){return pe("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},n.prototype.newRef=function(e,t){return new n(e,t)},n.prototype.mappings=function(){return ae()},n.prototype.child=function(e){pe("child",[de()],arguments);var t,n,r=(t=this.location.path,n=e.split("/").filter(function(e){return 0<e.length}).join("/"),0===t.length?n:t+"/"+n),o=new Z(this.location.bucket,r);return this.newRef(this.authWrapper,o)},Object.defineProperty(n.prototype,"parent",{get:function(){var e=function(e){if(0==e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new Z(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var e=new Z(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return J(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),n.prototype.put=function(e,t){return void 0===t&&(t=null),pe("put",[new he(function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||$()&&e instanceof Blob))throw"Expected Blob or File."}),ve(!0)],arguments),this.throwIfRoot_("put"),new De(this,this.authWrapper,this.location,this.mappings(),new be(e),t)},n.prototype.putString=function(e,t,n){void 0===t&&(t=y.RAW),pe("putString",[de(),de(b,!0),ve(!0)],arguments),this.throwIfRoot_("putString");var r=E(t,e),o=U(n);return!B(o.contentType)&&B(r.contentType)&&(o.contentType=r.contentType),new De(this,this.authWrapper,this.location,this.mappings(),new be(r.data,!0),o)},n.prototype.delete=function(){pe("delete",[],arguments),this.throwIfRoot_("delete");var s=this;return this.authWrapper.getAuthToken().then(function(e){var t,n,r,o,i,a=(t=s.authWrapper,n=s.location,r=ee(n.fullServerUrl()),o=t.maxOperationRetryTime(),(i=new Ee(r,"DELETE",function(e,t){},o)).successCodes=[200,204],i.errorHandler=Oe(n),i);return s.authWrapper.makeRequest(a,e).getPromise()})},n.prototype.getMetadata=function(){pe("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var n=this;return this.authWrapper.getAuthToken().then(function(e){var t=ke(n.authWrapper,n.location,n.mappings());return n.authWrapper.makeRequest(t,e).getPromise()})},n.prototype.updateMetadata=function(l){pe("updateMetadata",[ve()],arguments),this.throwIfRoot_("updateMetadata");var f=this;return this.authWrapper.getAuthToken().then(function(e){var t,n,r,o,i,a,s,u,c=(t=f.authWrapper,n=f.location,r=l,o=f.mappings(),i=ee(n.fullServerUrl()),a=le(r,o),s=t.maxOperationRetryTime(),(u=new Ee(i,"PATCH",Ce(t,o),s)).headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=Oe(n),u);return f.authWrapper.makeRequest(c,e).getPromise()})},n.prototype.getDownloadURL=function(){pe("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var n=this;return this.authWrapper.getAuthToken().then(function(e){var t=xe(n.authWrapper,n.location,n.mappings());return n.authWrapper.makeRequest(t,e).getPromise().then(function(e){if(null===e)throw new g(m.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})})},n.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw t=e,new g(m.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').");var t},n}(),Le=function(){function e(e){var t;this.promise_=(t=e,Promise.reject(t))}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){void 0===e&&(e=!1)},e}(),Ue=function(){function e(){this.map_={},this.id_=-9007199254740991}return e.prototype.addRequest=function(e){var t=this.id_;this.id_++,this.map_[t]=e;var n=this;function r(){delete n.map_[t]}e.getPromise().then(r,r)},e.prototype.clear=function(){L(this.map_,function(e,t){t&&t.cancel(!0)}),this.map_={}},e}(),We=function(){function a(e,t,n,r,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var i=this.app_.options;B(i)&&(this.bucket_=a.extractBucket_(i))}this.storageRefMaker_=t,this.requestMaker_=n,this.pool_=o,this.service_=r,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e4,this.requestMap_=new Ue}return a.extractBucket_=function(e){var t=e.storageBucket||null;return null==t?null:Z.makeFromBucketSpec(t).bucket},a.prototype.getAuthToken=function(){return null!==this.app_&&B(this.app_.INTERNAL)&&B(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(e){return null}):z(null)},a.prototype.bucket=function(){if(this.deleted_)throw h();return this.bucket_},a.prototype.service=function(){return this.service_},a.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},a.prototype.makeRequest=function(e,t){if(this.deleted_)return new Le(h());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},a.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},a.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},a.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},a.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},a.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},a}();var ze=function(){function e(e,t,n,r,o,i,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var f=this;this.promise_=W(function(e,t){f.resolve_=e,f.reject_=t,f.start_()})}return e.prototype.start_=function(){var s=this;function e(e,t){var n,r=s.resolve_,o=s.reject_,i=t.xhr;if(t.wasSuccessCode)try{var a=s.callback_(i,i.getResponseText());V(a)?r(a):r()}catch(e){o(e)}else null!==i?((n=c()).setServerResponseProp(i.getResponseText()),s.errorCallback_?o(s.errorCallback_(i,n)):o(n)):t.canceled?o(n=s.appDelete_?h():f()):o(n=new g(m.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Be(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,o=null,i=!1,a=0;function s(){return 2===a}var u=!1;function c(){u||(u=!0,e.apply(null,arguments))}function l(e){o=setTimeout(function(){o=null,t(f,s())},e)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];u||(e?c.apply(null,arguments):s()||i?c.apply(null,arguments):(r<64&&(r*=2),l(1===a?(a=2,0):1e3*(r+Math.random()))))}var p=!1;function h(e){p||(p=!0,u||(null!==o?(e||(a=2),clearTimeout(o),l(0)):e||(a=1)))}return l(0),setTimeout(function(){h(i=!0)},n),h}(function(i,e){if(e)i(!1,new Be(!1,null,!0));else{var t=s.pool_.createXhrIo();s.pendingXhr_=t,null!==s.progressCallback_&&t.addUploadProgressListener(a),t.send(s.url_,s.method_,s.body_,s.headers_).then(function(e){null!==s.progressCallback_&&e.removeUploadProgressListener(a),s.pendingXhr_=null;var t=(e=e).getErrorCode()===O.NO_ERROR,n=e.getStatus();if(t&&!s.isRetryStatusCode_(n)){var r=we(s.successCodes_,n);i(!0,new Be(r,e))}else{var o=e.getErrorCode()===O.ABORT;i(!1,new Be(!1,null,o))}})}function a(e){var t=e.loaded,n=e.lengthComputable?e.total:-1;null!==s.progressCallback_&&s.progressCallback_(t,n)}},e,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=500<=e&&e<600,n=we([408,429],e),r=we(this.additionalRetryCodes_,e);return t||n||r},e}(),Be=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function Ve(e,t,n){var r,o,i,a,s=ne(e.urlParams),u=e.url+s,c=U(e.headers);return r=c,null!==(o=t)&&0<o.length&&(r.Authorization="Firebase "+o),i=c,a=void 0!==l.a?l.a.SDK_VERSION:"AppManager",i["X-Firebase-Storage-Version"]="webjs/"+a,new ze(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}var qe,He,Ke=function(){function e(e,t,n){if(this.bucket_=null,this.authWrapper_=new We(e,function(e,t){return new Me(e,t)},Ve,this,t),this.app_=e,null!=n)this.bucket_=Z.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new Z(r,""))}this.internals_=new Qe(this)}return e.prototype.ref=function(e){if(pe("ref",[de(function(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var t=new Me(this.authWrapper_,this.bucket_);return null!=e?t.child(e):t},e.prototype.refFromURL=function(e){return pe("refFromURL",[de(function(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{Z.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Me(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){pe("setMaxUploadRetryTime",[ye()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(e){pe("setMaxOperationRetryTime",[ye()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),Qe=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),z(void 0)},e}();function $e(e,t,n){return new Ke(e,new Y,n)}qe=l.a,He={TaskState:D,TaskEvent:x,StringFormat:y,Storage:Ke,Reference:Me},qe.INTERNAL.registerService("storage",$e,He,void 0,!0)}]);
//# sourceMappingURL=bundle.js.map